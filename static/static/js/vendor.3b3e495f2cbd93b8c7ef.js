webpackJsonp([0],{"/ocq":function(t,e,r){"use strict";function i(t,e){0}function n(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}var o={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var r=e.props,i=e.children,n=e.parent,o=e.data;o.routerView=!0;for(var s=n.$createElement,a=r.name,l=n.$route,c=n._routerViewCache||(n._routerViewCache={}),u=0,h=!1;n&&n._routerRoot!==n;)n.$vnode&&n.$vnode.data.routerView&&u++,n._inactive&&(h=!0),n=n.$parent;if(o.routerViewDepth=u,h)return s(c[a],o,i);var f=l.matched[u];if(!f)return c[a]=null,s();var p=c[a]=f.components[a];o.registerRouteInstance=function(t,e){var r=f.instances[a];(e&&r!==t||!e&&r===t)&&(f.instances[a]=e)},(o.hook||(o.hook={})).prepatch=function(t,e){f.instances[a]=e.componentInstance};var d=o.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(l,f.props&&f.props[a]);if(d){d=o.props=function(t,e){for(var r in e)t[r]=e[r];return t}({},d);var m=o.attrs=o.attrs||{};for(var v in d)p.props&&v in p.props||(m[v]=d[v],delete d[v])}return s(p,o,i)}};var s=/[!'()*]/g,a=function(t){return"%"+t.charCodeAt(0).toString(16)},l=/%2C/g,c=function(t){return encodeURIComponent(t).replace(s,a).replace(l,",")},u=decodeURIComponent;function h(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var r=t.replace(/\+/g," ").split("="),i=u(r.shift()),n=r.length>0?u(r.join("=")):null;void 0===e[i]?e[i]=n:Array.isArray(e[i])?e[i].push(n):e[i]=[e[i],n]}),e):e}function f(t){var e=t?Object.keys(t).map(function(e){var r=t[e];if(void 0===r)return"";if(null===r)return c(e);if(Array.isArray(r)){var i=[];return r.forEach(function(t){void 0!==t&&(null===t?i.push(c(e)):i.push(c(e)+"="+c(t)))}),i.join("&")}return c(e)+"="+c(r)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var p=/\/?$/;function d(t,e,r,i){var n=i&&i.options.stringifyQuery,o=e.query||{};try{o=m(o)}catch(t){}var s={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:_(e,n),matched:t?function(t){var e=[];for(;t;)e.unshift(t),t=t.parent;return e}(t):[]};return r&&(s.redirectedFrom=_(r,n)),Object.freeze(s)}function m(t){if(Array.isArray(t))return t.map(m);if(t&&"object"==typeof t){var e={};for(var r in t)e[r]=m(t[r]);return e}return t}var v=d(null,{path:"/"});function _(t,e){var r=t.path,i=t.query;void 0===i&&(i={});var n=t.hash;return void 0===n&&(n=""),(r||"/")+(e||f)(i)+n}function g(t,e){return e===v?t===e:!!e&&(t.path&&e.path?t.path.replace(p,"")===e.path.replace(p,"")&&t.hash===e.hash&&y(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&y(t.query,e.query)&&y(t.params,e.params)))}function y(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var r=Object.keys(t),i=Object.keys(e);return r.length===i.length&&r.every(function(r){var i=t[r],n=e[r];return"object"==typeof i&&"object"==typeof n?y(i,n):String(i)===String(n)})}var b,C=[String,Object],w=[String,Array],x={name:"router-link",props:{to:{type:C,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:w,default:"click"}},render:function(t){var e=this,r=this.$router,i=this.$route,n=r.resolve(this.to,i,this.append),o=n.location,s=n.route,a=n.href,l={},c=r.options.linkActiveClass,u=r.options.linkExactActiveClass,h=null==c?"router-link-active":c,f=null==u?"router-link-exact-active":u,m=null==this.activeClass?h:this.activeClass,v=null==this.exactActiveClass?f:this.exactActiveClass,_=o.path?d(null,o,null,r):s;l[v]=g(i,_),l[m]=this.exact?l[v]:function(t,e){return 0===t.path.replace(p,"/").indexOf(e.path.replace(p,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var r in e)if(!(r in t))return!1;return!0}(t.query,e.query)}(i,_);var y=function(t){S(t)&&(e.replace?r.replace(o):r.push(o))},C={click:S};Array.isArray(this.event)?this.event.forEach(function(t){C[t]=y}):C[this.event]=y;var w={class:l};if("a"===this.tag)w.on=C,w.attrs={href:a};else{var x=function t(e){if(e)for(var r,i=0;i<e.length;i++){if("a"===(r=e[i]).tag)return r;if(r.children&&(r=t(r.children)))return r}}(this.$slots.default);if(x){x.isStatic=!1;var A=b.util.extend;(x.data=A({},x.data)).on=C,(x.data.attrs=A({},x.data.attrs)).href=a}else w.on=C}return t(this.tag,w,this.$slots.default)}};function S(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function A(t){if(!A.installed||b!==t){A.installed=!0,b=t;var e=function(t){return void 0!==t},r=function(t,r){var i=t.$options._parentVnode;e(i)&&e(i=i.data)&&e(i=i.registerRouteInstance)&&i(t,r)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("router-view",o),t.component("router-link",x);var i=t.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}}var k="undefined"!=typeof window;function E(t,e,r){var i=t.charAt(0);if("/"===i)return t;if("?"===i||"#"===i)return e+t;var n=e.split("/");r&&n[n.length-1]||n.pop();for(var o=t.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?n.pop():"."!==a&&n.push(a)}return""!==n[0]&&n.unshift(""),n.join("/")}function L(t){return t.replace(/\/\//g,"/")}var T=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},M=U,R=P,O=function(t,e){return B(P(t,e))},H=B,D=z,I=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function P(t,e){for(var r,i=[],n=0,o=0,s="",a=e&&e.delimiter||"/";null!=(r=I.exec(t));){var l=r[0],c=r[1],u=r.index;if(s+=t.slice(o,u),o=u+l.length,c)s+=c[1];else{var h=t[o],f=r[2],p=r[3],d=r[4],m=r[5],v=r[6],_=r[7];s&&(i.push(s),s="");var g=null!=f&&null!=h&&h!==f,y="+"===v||"*"===v,b="?"===v||"*"===v,C=r[2]||a,w=d||m;i.push({name:p||n++,prefix:f||"",delimiter:C,optional:b,repeat:y,partial:g,asterisk:!!_,pattern:w?W(w):_?".*":"[^"+F(C)+"]+?"})}}return o<t.length&&(s+=t.substr(o)),s&&i.push(s),i}function N(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function B(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,i){for(var n="",o=r||{},s=(i||{}).pretty?N:encodeURIComponent,a=0;a<t.length;a++){var l=t[a];if("string"!=typeof l){var c,u=o[l.name];if(null==u){if(l.optional){l.partial&&(n+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(T(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<u.length;h++){if(c=s(u[h]),!e[a].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");n+=(0===h?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(u).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):s(u),!e[a].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');n+=l.prefix+c}}else n+=l}return n}}function F(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function W(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function j(t,e){return t.keys=e,t}function $(t){return t.sensitive?"":"i"}function z(t,e,r){T(e)||(r=e||r,e=[]);for(var i=(r=r||{}).strict,n=!1!==r.end,o="",s=0;s<t.length;s++){var a=t[s];if("string"==typeof a)o+=F(a);else{var l=F(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),o+=c=a.optional?a.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=F(r.delimiter||"/"),h=o.slice(-u.length)===u;return i||(o=(h?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=n?"$":i&&h?"":"(?="+u+"|$)",j(new RegExp("^"+o,$(r)),e)}function U(t,e,r){return T(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?function(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return j(t,e)}(t,e):T(t)?function(t,e,r){for(var i=[],n=0;n<t.length;n++)i.push(U(t[n],e,r).source);return j(new RegExp("(?:"+i.join("|")+")",$(r)),e)}(t,e,r):function(t,e,r){return z(P(t,r),e,r)}(t,e,r)}M.parse=R,M.compile=O,M.tokensToFunction=H,M.tokensToRegExp=D;var V=Object.create(null);function K(t,e,r){try{return(V[t]||(V[t]=M.compile(t)))(e||{},{pretty:!0})}catch(t){return""}}function X(t,e,r,i){var n=e||[],o=r||Object.create(null),s=i||Object.create(null);t.forEach(function(t){!function t(e,r,i,n,o,s){var a=n.path;var l=n.name;0;var c=n.pathToRegexpOptions||{};var u=function(t,e,r){r||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return L(e.path+"/"+t)}(a,o,c.strict);"boolean"==typeof n.caseSensitive&&(c.sensitive=n.caseSensitive);var h={path:u,regex:function(t,e){var r=M(t,[],e);return r}(u,c),components:n.components||{default:n.component},instances:{},name:l,parent:o,matchAs:s,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};n.children&&n.children.forEach(function(n){var o=s?L(s+"/"+n.path):void 0;t(e,r,i,n,h,o)});if(void 0!==n.alias){var f=Array.isArray(n.alias)?n.alias:[n.alias];f.forEach(function(s){var a={path:s,children:n.children};t(e,r,i,a,o,h.path||"/")})}r[h.path]||(e.push(h.path),r[h.path]=h);l&&(i[l]||(i[l]=h))}(n,o,s,t)});for(var a=0,l=n.length;a<l;a++)"*"===n[a]&&(n.push(n.splice(a,1)[0]),l--,a--);return{pathList:n,pathMap:o,nameMap:s}}function G(t,e,r,i){var n="string"==typeof t?{path:t}:t;if(n.name||n._normalized)return n;if(!n.path&&n.params&&e){(n=Z({},n))._normalized=!0;var o=Z(Z({},e.params),n.params);if(e.name)n.name=e.name,n.params=o;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;n.path=K(s,o,e.path)}else 0;return n}var a=function(t){var e="",r="",i=t.indexOf("#");i>=0&&(e=t.slice(i),t=t.slice(0,i));var n=t.indexOf("?");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{path:t,query:r,hash:e}}(n.path||""),l=e&&e.path||"/",c=a.path?E(a.path,l,r||n.append):l,u=function(t,e,r){void 0===e&&(e={});var i,n=r||h;try{i=n(t||"")}catch(t){i={}}for(var o in e)i[o]=e[o];return i}(a.query,n.query,i&&i.options.parseQuery),f=n.hash||a.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:c,query:u,hash:f}}function Z(t,e){for(var r in e)t[r]=e[r];return t}function q(t,e){var r=X(t),i=r.pathList,n=r.pathMap,o=r.nameMap;function s(t,r,s){var a=G(t,r,!1,e),c=a.name;if(c){var u=o[c];if(!u)return l(null,a);var h=u.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof a.params&&(a.params={}),r&&"object"==typeof r.params)for(var f in r.params)!(f in a.params)&&h.indexOf(f)>-1&&(a.params[f]=r.params[f]);if(u)return a.path=K(u.path,a.params),l(u,a,s)}else if(a.path){a.params={};for(var p=0;p<i.length;p++){var d=i[p],m=n[d];if(Y(m.regex,a.path,a.params))return l(m,a,s)}}return l(null,a)}function a(t,r){var i=t.redirect,n="function"==typeof i?i(d(t,r,null,e)):i;if("string"==typeof n&&(n={path:n}),!n||"object"!=typeof n)return l(null,r);var a=n,c=a.name,u=a.path,h=r.query,f=r.hash,p=r.params;if(h=a.hasOwnProperty("query")?a.query:h,f=a.hasOwnProperty("hash")?a.hash:f,p=a.hasOwnProperty("params")?a.params:p,c){o[c];return s({_normalized:!0,name:c,query:h,hash:f,params:p},void 0,r)}if(u){var m=function(t,e){return E(t,e.parent?e.parent.path:"/",!0)}(u,t);return s({_normalized:!0,path:K(m,p),query:h,hash:f},void 0,r)}return l(null,r)}function l(t,r,i){return t&&t.redirect?a(t,i||r):t&&t.matchAs?function(t,e,r){var i=s({_normalized:!0,path:K(r,e.params)});if(i){var n=i.matched,o=n[n.length-1];return e.params=i.params,l(o,e)}return l(null,e)}(0,r,t.matchAs):d(t,r,i,e)}return{match:s,addRoutes:function(t){X(t,i,n,o)}}}function Y(t,e,r){var i=e.match(t);if(!i)return!1;if(!r)return!0;for(var n=1,o=i.length;n<o;++n){var s=t.keys[n-1],a="string"==typeof i[n]?decodeURIComponent(i[n]):i[n];s&&(r[s.name]=a)}return!0}var Q=Object.create(null);function J(){window.history.replaceState({key:ht()},""),window.addEventListener("popstate",function(t){var e;et(),t.state&&t.state.key&&(e=t.state.key,ct=e)})}function tt(t,e,r,i){if(t.app){var n=t.options.scrollBehavior;n&&t.app.$nextTick(function(){var t=function(){var t=ht();if(t)return Q[t]}(),o=n(e,r,i?t:null);o&&("function"==typeof o.then?o.then(function(e){ot(e,t)}).catch(function(t){0}):ot(o,t))})}}function et(){var t=ht();t&&(Q[t]={x:window.pageXOffset,y:window.pageYOffset})}function rt(t){return nt(t.x)||nt(t.y)}function it(t){return{x:nt(t.x)?t.x:window.pageXOffset,y:nt(t.y)?t.y:window.pageYOffset}}function nt(t){return"number"==typeof t}function ot(t,e){var r,i="object"==typeof t;if(i&&"string"==typeof t.selector){var n=document.querySelector(t.selector);if(n){var o=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var r=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}(n,o={x:nt((r=o).x)?r.x:0,y:nt(r.y)?r.y:0})}else rt(t)&&(e=it(t))}else i&&rt(t)&&(e=it(t));e&&window.scrollTo(e.x,e.y)}var st,at=k&&((-1===(st=window.navigator.userAgent).indexOf("Android 2.")&&-1===st.indexOf("Android 4.0")||-1===st.indexOf("Mobile Safari")||-1!==st.indexOf("Chrome")||-1!==st.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history),lt=k&&window.performance&&window.performance.now?window.performance:Date,ct=ut();function ut(){return lt.now().toFixed(3)}function ht(){return ct}function ft(t,e){et();var r=window.history;try{e?r.replaceState({key:ct},"",t):(ct=ut(),r.pushState({key:ct},"",t))}catch(r){window.location[e?"replace":"assign"](t)}}function pt(t){ft(t,!0)}function dt(t,e,r){var i=function(n){n>=t.length?r():t[n]?e(t[n],function(){i(n+1)}):i(n+1)};i(0)}function mt(t){return function(e,r,i){var o=!1,s=0,a=null;vt(t,function(t,e,r,l){if("function"==typeof t&&void 0===t.cid){o=!0,s++;var c,u=yt(function(e){var n;((n=e).__esModule||gt&&"Module"===n[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:b.extend(e),r.components[l]=e,--s<=0&&i()}),h=yt(function(t){var e="Failed to resolve async component "+l+": "+t;a||(a=n(t)?t:new Error(e),i(a))});try{c=t(u,h)}catch(t){h(t)}if(c)if("function"==typeof c.then)c.then(u,h);else{var f=c.component;f&&"function"==typeof f.then&&f.then(u,h)}}}),o||i()}}function vt(t,e){return _t(t.map(function(t){return Object.keys(t.components).map(function(r){return e(t.components[r],t.instances[r],t,r)})}))}function _t(t){return Array.prototype.concat.apply([],t)}var gt="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function yt(t){var e=!1;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(!e)return e=!0,t.apply(this,r)}}var bt=function(t,e){this.router=t,this.base=function(t){if(!t)if(k){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=v,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function Ct(t,e,r,i){var n=vt(t,function(t,i,n,o){var s=function(t,e){"function"!=typeof t&&(t=b.extend(t));return t.options[e]}(t,e);if(s)return Array.isArray(s)?s.map(function(t){return r(t,i,n,o)}):r(s,i,n,o)});return _t(i?n.reverse():n)}function wt(t,e){if(e)return function(){return t.apply(e,arguments)}}bt.prototype.listen=function(t){this.cb=t},bt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},bt.prototype.onError=function(t){this.errorCbs.push(t)},bt.prototype.transitionTo=function(t,e,r){var i=this,n=this.router.match(t,this.current);this.confirmTransition(n,function(){i.updateRoute(n),e&&e(n),i.ensureURL(),i.ready||(i.ready=!0,i.readyCbs.forEach(function(t){t(n)}))},function(t){r&&r(t),t&&!i.ready&&(i.ready=!0,i.readyErrorCbs.forEach(function(e){e(t)}))})},bt.prototype.confirmTransition=function(t,e,r){var o=this,s=this.current,a=function(t){n(t)&&(o.errorCbs.length?o.errorCbs.forEach(function(e){e(t)}):(i(),console.error(t))),r&&r(t)};if(g(t,s)&&t.matched.length===s.matched.length)return this.ensureURL(),a();var l=function(t,e){var r,i=Math.max(t.length,e.length);for(r=0;r<i&&t[r]===e[r];r++);return{updated:e.slice(0,r),activated:e.slice(r),deactivated:t.slice(r)}}(this.current.matched,t.matched),c=l.updated,u=l.deactivated,h=l.activated,f=[].concat(function(t){return Ct(t,"beforeRouteLeave",wt,!0)}(u),this.router.beforeHooks,function(t){return Ct(t,"beforeRouteUpdate",wt)}(c),h.map(function(t){return t.beforeEnter}),mt(h));this.pending=t;var p=function(e,r){if(o.pending!==t)return a();try{e(t,s,function(t){!1===t||n(t)?(o.ensureURL(!0),a(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(a(),"object"==typeof t&&t.replace?o.replace(t):o.push(t)):r(t)})}catch(t){a(t)}};dt(f,p,function(){var r=[];dt(function(t,e,r){return Ct(t,"beforeRouteEnter",function(t,i,n,o){return function(t,e,r,i,n){return function(o,s,a){return t(o,s,function(t){a(t),"function"==typeof t&&i.push(function(){!function t(e,r,i,n){r[i]?e(r[i]):n()&&setTimeout(function(){t(e,r,i,n)},16)}(t,e.instances,r,n)})})}}(t,n,o,e,r)})}(h,r,function(){return o.current===t}).concat(o.router.resolveHooks),p,function(){if(o.pending!==t)return a();o.pending=null,e(t),o.router.app&&o.router.app.$nextTick(function(){r.forEach(function(t){t()})})})})},bt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(r){r&&r(t,e)})};var xt=function(t){function e(e,r){var i=this;t.call(this,e,r);var n=e.options.scrollBehavior;n&&J();var o=St(this.base);window.addEventListener("popstate",function(t){var r=i.current,s=St(i.base);i.current===v&&s===o||i.transitionTo(s,function(t){n&&tt(e,t,r,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,r){var i=this,n=this.current;this.transitionTo(t,function(t){ft(L(i.base+t.fullPath)),tt(i.router,t,n,!1),e&&e(t)},r)},e.prototype.replace=function(t,e,r){var i=this,n=this.current;this.transitionTo(t,function(t){pt(L(i.base+t.fullPath)),tt(i.router,t,n,!1),e&&e(t)},r)},e.prototype.ensureURL=function(t){if(St(this.base)!==this.current.fullPath){var e=L(this.base+this.current.fullPath);t?ft(e):pt(e)}},e.prototype.getCurrentLocation=function(){return St(this.base)},e}(bt);function St(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var At=function(t){function e(e,r,i){t.call(this,e,r),i&&function(t){var e=St(t);if(!/^\/#/.test(e))return window.location.replace(L(t+"/#"+e)),!0}(this.base)||kt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router.options.scrollBehavior,r=at&&e;r&&J(),window.addEventListener(at?"popstate":"hashchange",function(){var e=t.current;kt()&&t.transitionTo(Et(),function(i){r&&tt(t.router,i,e,!0),at||Mt(i.fullPath)})})},e.prototype.push=function(t,e,r){var i=this,n=this.current;this.transitionTo(t,function(t){Tt(t.fullPath),tt(i.router,t,n,!1),e&&e(t)},r)},e.prototype.replace=function(t,e,r){var i=this,n=this.current;this.transitionTo(t,function(t){Mt(t.fullPath),tt(i.router,t,n,!1),e&&e(t)},r)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Et()!==e&&(t?Tt(e):Mt(e))},e.prototype.getCurrentLocation=function(){return Et()},e}(bt);function kt(){var t=Et();return"/"===t.charAt(0)||(Mt("/"+t),!1)}function Et(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.slice(e+1)}function Lt(t){var e=window.location.href,r=e.indexOf("#");return(r>=0?e.slice(0,r):e)+"#"+t}function Tt(t){at?ft(Lt(t)):window.location.hash=t}function Mt(t){at?pt(Lt(t)):window.location.replace(Lt(t))}var Rt=function(t){function e(e,r){t.call(this,e,r),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,r){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index+1).concat(t),i.index++,e&&e(t)},r)},e.prototype.replace=function(t,e,r){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index).concat(t),e&&e(t)},r)},e.prototype.go=function(t){var e=this,r=this.index+t;if(!(r<0||r>=this.stack.length)){var i=this.stack[r];this.confirmTransition(i,function(){e.index=r,e.updateRoute(i)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(bt),Ot=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=q(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!at&&!1!==t.fallback,this.fallback&&(e="hash"),k||(e="abstract"),this.mode=e,e){case"history":this.history=new xt(this,t.base);break;case"hash":this.history=new At(this,t.base,this.fallback);break;case"abstract":this.history=new Rt(this,t.base);break;default:0}},Ht={currentRoute:{configurable:!0}};function Dt(t,e){return t.push(e),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}Ot.prototype.match=function(t,e,r){return this.matcher.match(t,e,r)},Ht.currentRoute.get=function(){return this.history&&this.history.current},Ot.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var r=this.history;if(r instanceof xt)r.transitionTo(r.getCurrentLocation());else if(r instanceof At){var i=function(){r.setupListeners()};r.transitionTo(r.getCurrentLocation(),i,i)}r.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},Ot.prototype.beforeEach=function(t){return Dt(this.beforeHooks,t)},Ot.prototype.beforeResolve=function(t){return Dt(this.resolveHooks,t)},Ot.prototype.afterEach=function(t){return Dt(this.afterHooks,t)},Ot.prototype.onReady=function(t,e){this.history.onReady(t,e)},Ot.prototype.onError=function(t){this.history.onError(t)},Ot.prototype.push=function(t,e,r){this.history.push(t,e,r)},Ot.prototype.replace=function(t,e,r){this.history.replace(t,e,r)},Ot.prototype.go=function(t){this.history.go(t)},Ot.prototype.back=function(){this.go(-1)},Ot.prototype.forward=function(){this.go(1)},Ot.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},Ot.prototype.resolve=function(t,e,r){var i=G(t,e||this.history.current,r,this),n=this.match(i,e),o=n.redirectedFrom||n.fullPath;return{location:i,route:n,href:function(t,e,r){var i="hash"===r?"#"+e:e;return t?L(t+"/"+i):i}(this.history.base,o,this.mode),normalizedTo:i,resolved:n}},Ot.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==v&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Ot.prototype,Ht),Ot.install=A,Ot.version="3.0.1",k&&window.Vue&&window.Vue.use(Ot),e.a=Ot},"0E5i":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this._renderer=t}return t.getCoordsRelativeToElement=function(t,e){if(null==t.pageX)return null;for(var r=e,i=t.pageX,n=t.pageY;e;)i-=e.offsetLeft,n-=e.offsetTop,e="offsetParent"in e?e.offsetParent:e.parentElement;for(e=r;e&&e!==e.ownerDocument.body;)i+=e.scrollLeft,n+=e.scrollTop,e=e.parentElement;return[i,n]},t.prototype.getCoords=function(e,r,i,n,o,s,a){if(!i.width||!i.height)return null;var l=t.getCoordsRelativeToElement(e,r);return l?(l[0]=Math.ceil((l[0]+(a?this._renderer.dimensions.actualCellWidth/2:0))/this._renderer.dimensions.actualCellWidth),l[1]=Math.ceil(l[1]/this._renderer.dimensions.actualCellHeight),l[0]=Math.min(Math.max(l[0],1),o+(a?1:0)),l[1]=Math.min(Math.max(l[1],1),s),l):null},t.prototype.getRawByteCoords=function(t,e,r,i,n,o){var s=this.getCoords(t,e,r,i,n,o),a=s[0],l=s[1];return{x:a+=32,y:l+=32}},t}();e.MouseHelper=i},"0JbL":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.BOLD=1]="BOLD",t[t.UNDERLINE=2]="UNDERLINE",t[t.BLINK=4]="BLINK",t[t.INVERSE=8]="INVERSE",t[t.INVISIBLE=16]="INVISIBLE",t[t.DIM=32]="DIM"}(e.FLAGS||(e.FLAGS={}))},"3djl":function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r("v6au"),s=function(t){function e(e,r,i){var n=t.call(this,e,"cursor",r,!0,i)||this;return n._state={x:null,y:null,isFocused:null,style:null,width:null},n._cursorRenderers={bar:n._renderBarCursor.bind(n),block:n._renderBlockCursor.bind(n),underline:n._renderUnderlineCursor.bind(n)},n}return n(e,t),e.prototype.resize=function(e,r,i){t.prototype.resize.call(this,e,r,i),this._state={x:null,y:null,isFocused:null,style:null,width:null}},e.prototype.reset=function(t){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null,this.onOptionsChanged(t))},e.prototype.onBlur=function(t){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),t.refresh(t.buffer.y,t.buffer.y)},e.prototype.onFocus=function(t){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume(t):t.refresh(t.buffer.y,t.buffer.y)},e.prototype.onOptionsChanged=function(t){var e=this;t.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new a(t,function(){e._render(t,!0)})):(this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null),t.refresh(t.buffer.y,t.buffer.y))},e.prototype.onCursorMove=function(t){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation(t)},e.prototype.onGridChanged=function(t,e,r){this._cursorBlinkStateManager&&!this._cursorBlinkStateManager.isPaused||this._render(t,!1)},e.prototype._render=function(t,e){if(t.cursorState&&!t.cursorHidden){var r=t.buffer.ybase+t.buffer.y,i=r-t.buffer.ydisp;if(i<0||i>=t.rows)this._clearCursor();else{var n=t.buffer.lines.get(r)[t.buffer.x];if(n){if(!t.isFocused)return this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor,this._renderBlurCursor(t,t.buffer.x,i,n),this._ctx.restore(),this._state.x=t.buffer.x,this._state.y=i,this._state.isFocused=!1,this._state.style=t.options.cursorStyle,void(this._state.width=n[o.CHAR_DATA_WIDTH_INDEX]);if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===t.buffer.x&&this._state.y===i&&this._state.isFocused===t.isFocused&&this._state.style===t.options.cursorStyle&&this._state.width===n[o.CHAR_DATA_WIDTH_INDEX])return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[t.options.cursorStyle||"block"](t,t.buffer.x,i,n),this._ctx.restore(),this._state.x=t.buffer.x,this._state.y=i,this._state.isFocused=!1,this._state.style=t.options.cursorStyle,this._state.width=n[o.CHAR_DATA_WIDTH_INDEX]}else this._clearCursor()}}}else this._clearCursor()},e.prototype._clearCursor=function(){this._state&&(this.clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:null,y:null,isFocused:null,style:null,width:null})},e.prototype._renderBarCursor=function(t,e,r,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor,this.fillLeftLineAtCell(e,r),this._ctx.restore()},e.prototype._renderBlockCursor=function(t,e,r,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor,this.fillCells(e,r,i[o.CHAR_DATA_WIDTH_INDEX],1),this._ctx.fillStyle=this._colors.cursorAccent,this.fillCharTrueColor(t,i,e,r),this._ctx.restore()},e.prototype._renderUnderlineCursor=function(t,e,r,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor,this.fillBottomLineAtCells(e,r),this._ctx.restore()},e.prototype._renderBlurCursor=function(t,e,r,i){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor,this.strokeRectAtCell(e,r,i[o.CHAR_DATA_WIDTH_INDEX],1),this._ctx.restore()},e}(r("M7+9").BaseRenderLayer);e.CursorRenderLayer=s;var a=function(){function t(t,e){this.renderCallback=e,this.isCursorVisible=!0,t.isFocused&&this._restartInterval()}return Object.defineProperty(t.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},t.prototype.restartBlinkAnimation=function(t){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){e.renderCallback(),e._animationFrame=null})))},t.prototype._restartInterval=function(t){var e=this;void 0===t&&(t=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=setTimeout(function(){if(e._animationTimeRestarted){var t=600-(Date.now()-e._animationTimeRestarted);if(e._animationTimeRestarted=null,t>0)return void e._restartInterval(t)}e.isCursorVisible=!1,e._animationFrame=window.requestAnimationFrame(function(){e.renderCallback(),e._animationFrame=null}),e._blinkInterval=setInterval(function(){if(e._animationTimeRestarted){var t=600-(Date.now()-e._animationTimeRestarted);return e._animationTimeRestarted=null,void e._restartInterval(t)}e.isCursorVisible=!e.isCursorVisible,e._animationFrame=window.requestAnimationFrame(function(){e.renderCallback(),e._animationFrame=null})},600)},t)},t.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},t.prototype.resume=function(t){this._animationTimeRestarted=null,this._restartInterval(),this.restartBlinkAnimation(t)},t}()},"7+uW":function(t,e,r){"use strict";(function(t){var r=Object.freeze({});function i(t){return void 0===t||null===t}function n(t){return void 0!==t&&null!==t}function o(t){return!0===t}function s(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function a(t){return null!==t&&"object"==typeof t}var l=Object.prototype.toString;function c(t){return"[object Object]"===l.call(t)}function u(t){return"[object RegExp]"===l.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function d(t,e){for(var r=Object.create(null),i=t.split(","),n=0;n<i.length;n++)r[i[n]]=!0;return e?function(t){return r[t.toLowerCase()]}:function(t){return r[t]}}var m=d("slot,component",!0),v=d("key,ref,slot,slot-scope,is");function _(t,e){if(t.length){var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var g=Object.prototype.hasOwnProperty;function y(t,e){return g.call(t,e)}function b(t){var e=Object.create(null);return function(r){return e[r]||(e[r]=t(r))}}var C=/-(\w)/g,w=b(function(t){return t.replace(C,function(t,e){return e?e.toUpperCase():""})}),x=b(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),S=/\B([A-Z])/g,A=b(function(t){return t.replace(S,"-$1").toLowerCase()});function k(t,e){function r(r){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,r):t.call(e)}return r._length=t.length,r}function E(t,e){e=e||0;for(var r=t.length-e,i=new Array(r);r--;)i[r]=t[r+e];return i}function L(t,e){for(var r in e)t[r]=e[r];return t}function T(t){for(var e={},r=0;r<t.length;r++)t[r]&&L(e,t[r]);return e}function M(t,e,r){}var R=function(t,e,r){return!1},O=function(t){return t};function H(t,e){if(t===e)return!0;var r=a(t),i=a(e);if(!r||!i)return!r&&!i&&String(t)===String(e);try{var n=Array.isArray(t),o=Array.isArray(e);if(n&&o)return t.length===e.length&&t.every(function(t,r){return H(t,e[r])});if(n||o)return!1;var s=Object.keys(t),l=Object.keys(e);return s.length===l.length&&s.every(function(r){return H(t[r],e[r])})}catch(t){return!1}}function D(t,e){for(var r=0;r<t.length;r++)if(H(t[r],e))return r;return-1}function I(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var P="data-server-rendered",N=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],F={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:M,parsePlatformTagName:O,mustUseProp:R,_lifecycleHooks:B};function W(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function j(t,e,r,i){Object.defineProperty(t,e,{value:r,enumerable:!!i,writable:!0,configurable:!0})}var $=/[^\w.$]/;var z,U="__proto__"in{},V="undefined"!=typeof window,K="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,X=K&&WXEnvironment.platform.toLowerCase(),G=V&&window.navigator.userAgent.toLowerCase(),Z=G&&/msie|trident/.test(G),q=G&&G.indexOf("msie 9.0")>0,Y=G&&G.indexOf("edge/")>0,Q=G&&G.indexOf("android")>0||"android"===X,J=G&&/iphone|ipad|ipod|ios/.test(G)||"ios"===X,tt=(G&&/chrome\/\d+/.test(G),{}.watch),et=!1;if(V)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){et=!0}}),window.addEventListener("test-passive",null,rt)}catch(t){}var it=function(){return void 0===z&&(z=!V&&void 0!==t&&"server"===t.process.env.VUE_ENV),z},nt=V&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ot(t){return"function"==typeof t&&/native code/.test(t.toString())}var st,at="undefined"!=typeof Symbol&&ot(Symbol)&&"undefined"!=typeof Reflect&&ot(Reflect.ownKeys);st="undefined"!=typeof Set&&ot(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var lt=M,ct=0,ut=function(){this.id=ct++,this.subs=[]};ut.prototype.addSub=function(t){this.subs.push(t)},ut.prototype.removeSub=function(t){_(this.subs,t)},ut.prototype.depend=function(){ut.target&&ut.target.addDep(this)},ut.prototype.notify=function(){for(var t=this.subs.slice(),e=0,r=t.length;e<r;e++)t[e].update()},ut.target=null;var ht=[];var ft=function(t,e,r,i,n,o,s,a){this.tag=t,this.data=e,this.children=r,this.text=i,this.elm=n,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},pt={child:{configurable:!0}};pt.child.get=function(){return this.componentInstance},Object.defineProperties(ft.prototype,pt);var dt=function(t){void 0===t&&(t="");var e=new ft;return e.text=t,e.isComment=!0,e};function mt(t){return new ft(void 0,void 0,void 0,String(t))}function vt(t,e){var r=t.componentOptions,i=new ft(t.tag,t.data,t.children,t.text,t.elm,t.context,r,t.asyncFactory);return i.ns=t.ns,i.isStatic=t.isStatic,i.key=t.key,i.isComment=t.isComment,i.fnContext=t.fnContext,i.fnOptions=t.fnOptions,i.fnScopeId=t.fnScopeId,i.isCloned=!0,e&&(t.children&&(i.children=_t(t.children,!0)),r&&r.children&&(r.children=_t(r.children,!0))),i}function _t(t,e){for(var r=t.length,i=new Array(r),n=0;n<r;n++)i[n]=vt(t[n],e);return i}var gt=Array.prototype,yt=Object.create(gt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=gt[t];j(yt,t,function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];var n,o=e.apply(this,r),s=this.__ob__;switch(t){case"push":case"unshift":n=r;break;case"splice":n=r.slice(2)}return n&&s.observeArray(n),s.dep.notify(),o})});var bt=Object.getOwnPropertyNames(yt),Ct={shouldConvert:!0},wt=function(t){(this.value=t,this.dep=new ut,this.vmCount=0,j(t,"__ob__",this),Array.isArray(t))?((U?xt:St)(t,yt,bt),this.observeArray(t)):this.walk(t)};function xt(t,e,r){t.__proto__=e}function St(t,e,r){for(var i=0,n=r.length;i<n;i++){var o=r[i];j(t,o,e[o])}}function At(t,e){var r;if(a(t)&&!(t instanceof ft))return y(t,"__ob__")&&t.__ob__ instanceof wt?r=t.__ob__:Ct.shouldConvert&&!it()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(r=new wt(t)),e&&r&&r.vmCount++,r}function kt(t,e,r,i,n){var o=new ut,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,l=s&&s.set,c=!n&&At(r);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):r;return ut.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&function t(e){for(var r=void 0,i=0,n=e.length;i<n;i++)(r=e[i])&&r.__ob__&&r.__ob__.dep.depend(),Array.isArray(r)&&t(r)}(e))),e},set:function(e){var i=a?a.call(t):r;e===i||e!=e&&i!=i||(l?l.call(t,e):r=e,c=!n&&At(e),o.notify())}})}}function Et(t,e,r){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(e in t&&!(e in Object.prototype))return t[e]=r,r;var i=t.__ob__;return t._isVue||i&&i.vmCount?r:i?(kt(i.value,e,r),i.dep.notify(),r):(t[e]=r,r)}function Lt(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var r=t.__ob__;t._isVue||r&&r.vmCount||y(t,e)&&(delete t[e],r&&r.dep.notify())}}wt.prototype.walk=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)kt(t,e[r],t[e[r]])},wt.prototype.observeArray=function(t){for(var e=0,r=t.length;e<r;e++)At(t[e])};var Tt=F.optionMergeStrategies;function Mt(t,e){if(!e)return t;for(var r,i,n,o=Object.keys(e),s=0;s<o.length;s++)i=t[r=o[s]],n=e[r],y(t,r)?c(i)&&c(n)&&Mt(i,n):Et(t,r,n);return t}function Rt(t,e,r){return r?function(){var i="function"==typeof e?e.call(r,r):e,n="function"==typeof t?t.call(r,r):t;return i?Mt(i,n):n}:e?t?function(){return Mt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Ot(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function Ht(t,e,r,i){var n=Object.create(t||null);return e?L(n,e):n}Tt.data=function(t,e,r){return r?Rt(t,e,r):e&&"function"!=typeof e?t:Rt(t,e)},B.forEach(function(t){Tt[t]=Ot}),N.forEach(function(t){Tt[t+"s"]=Ht}),Tt.watch=function(t,e,r,i){if(t===tt&&(t=void 0),e===tt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var n={};for(var o in L(n,t),e){var s=n[o],a=e[o];s&&!Array.isArray(s)&&(s=[s]),n[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return n},Tt.props=Tt.methods=Tt.inject=Tt.computed=function(t,e,r,i){if(!t)return e;var n=Object.create(null);return L(n,t),e&&L(n,e),n},Tt.provide=Rt;var Dt=function(t,e){return void 0===e?t:e};function It(t,e,r){"function"==typeof e&&(e=e.options),function(t,e){var r=t.props;if(r){var i,n,o={};if(Array.isArray(r))for(i=r.length;i--;)"string"==typeof(n=r[i])&&(o[w(n)]={type:null});else if(c(r))for(var s in r)n=r[s],o[w(s)]=c(n)?n:{type:n};t.props=o}}(e),function(t,e){var r=t.inject;if(r){var i=t.inject={};if(Array.isArray(r))for(var n=0;n<r.length;n++)i[r[n]]={from:r[n]};else if(c(r))for(var o in r){var s=r[o];i[o]=c(s)?L({from:o},s):{from:s}}}}(e),function(t){var e=t.directives;if(e)for(var r in e){var i=e[r];"function"==typeof i&&(e[r]={bind:i,update:i})}}(e);var i=e.extends;if(i&&(t=It(t,i,r)),e.mixins)for(var n=0,o=e.mixins.length;n<o;n++)t=It(t,e.mixins[n],r);var s,a={};for(s in t)l(s);for(s in e)y(t,s)||l(s);function l(i){var n=Tt[i]||Dt;a[i]=n(t[i],e[i],r,i)}return a}function Pt(t,e,r,i){if("string"==typeof r){var n=t[e];if(y(n,r))return n[r];var o=w(r);if(y(n,o))return n[o];var s=x(o);return y(n,s)?n[s]:n[r]||n[o]||n[s]}}function Nt(t,e,r,i){var n=e[t],o=!y(r,t),s=r[t];if(Ft(Boolean,n.type)&&(o&&!y(n,"default")?s=!1:Ft(String,n.type)||""!==s&&s!==A(t)||(s=!0)),void 0===s){s=function(t,e,r){if(!y(e,"default"))return;var i=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[r]&&void 0!==t._props[r])return t._props[r];return"function"==typeof i&&"Function"!==Bt(e.type)?i.call(t):i}(i,n,t);var a=Ct.shouldConvert;Ct.shouldConvert=!0,At(s),Ct.shouldConvert=a}return s}function Bt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Ft(t,e){if(!Array.isArray(e))return Bt(e)===Bt(t);for(var r=0,i=e.length;r<i;r++)if(Bt(e[r])===Bt(t))return!0;return!1}function Wt(t,e,r){if(e)for(var i=e;i=i.$parent;){var n=i.$options.errorCaptured;if(n)for(var o=0;o<n.length;o++)try{if(!1===n[o].call(i,t,e,r))return}catch(t){jt(t,i,"errorCaptured hook")}}jt(t,e,r)}function jt(t,e,r){if(F.errorHandler)try{return F.errorHandler.call(null,t,e,r)}catch(t){$t(t,null,"config.errorHandler")}$t(t,e,r)}function $t(t,e,r){if(!V&&!K||"undefined"==typeof console)throw t;console.error(t)}var zt,Ut,Vt=[],Kt=!1;function Xt(){Kt=!1;var t=Vt.slice(0);Vt.length=0;for(var e=0;e<t.length;e++)t[e]()}var Gt=!1;if("undefined"!=typeof setImmediate&&ot(setImmediate))Ut=function(){setImmediate(Xt)};else if("undefined"==typeof MessageChannel||!ot(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())Ut=function(){setTimeout(Xt,0)};else{var Zt=new MessageChannel,qt=Zt.port2;Zt.port1.onmessage=Xt,Ut=function(){qt.postMessage(1)}}if("undefined"!=typeof Promise&&ot(Promise)){var Yt=Promise.resolve();zt=function(){Yt.then(Xt),J&&setTimeout(M)}}else zt=Ut;function Qt(t,e){var r;if(Vt.push(function(){if(t)try{t.call(e)}catch(t){Wt(t,e,"nextTick")}else r&&r(e)}),Kt||(Kt=!0,Gt?Ut():zt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){r=t})}var Jt=new st;function te(t){!function t(e,r){var i,n;var o=Array.isArray(e);if(!o&&!a(e)||Object.isFrozen(e))return;if(e.__ob__){var s=e.__ob__.dep.id;if(r.has(s))return;r.add(s)}if(o)for(i=e.length;i--;)t(e[i],r);else for(n=Object.keys(e),i=n.length;i--;)t(e[n[i]],r)}(t,Jt),Jt.clear()}var ee,re=b(function(t){var e="&"===t.charAt(0),r="~"===(t=e?t.slice(1):t).charAt(0),i="!"===(t=r?t.slice(1):t).charAt(0);return{name:t=i?t.slice(1):t,once:r,capture:i,passive:e}});function ie(t){function e(){var t=arguments,r=e.fns;if(!Array.isArray(r))return r.apply(null,arguments);for(var i=r.slice(),n=0;n<i.length;n++)i[n].apply(null,t)}return e.fns=t,e}function ne(t,e,r,n,o){var s,a,l,c;for(s in t)a=t[s],l=e[s],c=re(s),i(a)||(i(l)?(i(a.fns)&&(a=t[s]=ie(a)),r(c.name,a,c.once,c.capture,c.passive,c.params)):a!==l&&(l.fns=a,t[s]=l));for(s in e)i(t[s])&&n((c=re(s)).name,e[s],c.capture)}function oe(t,e,r){var s;t instanceof ft&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function l(){r.apply(this,arguments),_(s.fns,l)}i(a)?s=ie([l]):n(a.fns)&&o(a.merged)?(s=a).fns.push(l):s=ie([a,l]),s.merged=!0,t[e]=s}function se(t,e,r,i,o){if(n(e)){if(y(e,r))return t[r]=e[r],o||delete e[r],!0;if(y(e,i))return t[r]=e[i],o||delete e[i],!0}return!1}function ae(t){return s(t)?[mt(t)]:Array.isArray(t)?function t(e,r){var a=[];var l,c,u,h;for(l=0;l<e.length;l++)i(c=e[l])||"boolean"==typeof c||(u=a.length-1,h=a[u],Array.isArray(c)?c.length>0&&(le((c=t(c,(r||"")+"_"+l))[0])&&le(h)&&(a[u]=mt(h.text+c[0].text),c.shift()),a.push.apply(a,c)):s(c)?le(h)?a[u]=mt(h.text+c):""!==c&&a.push(mt(c)):le(c)&&le(h)?a[u]=mt(h.text+c.text):(o(e._isVList)&&n(c.tag)&&i(c.key)&&n(r)&&(c.key="__vlist"+r+"_"+l+"__"),a.push(c)));return a}(t):void 0}function le(t){return n(t)&&n(t.text)&&!1===t.isComment}function ce(t,e){return(t.__esModule||at&&"Module"===t[Symbol.toStringTag])&&(t=t.default),a(t)?e.extend(t):t}function ue(t){return t.isComment&&t.asyncFactory}function he(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var r=t[e];if(n(r)&&(n(r.componentOptions)||ue(r)))return r}}function fe(t,e,r){r?ee.$once(t,e):ee.$on(t,e)}function pe(t,e){ee.$off(t,e)}function de(t,e,r){ee=t,ne(e,r||{},fe,pe),ee=void 0}function me(t,e){var r={};if(!t)return r;for(var i=0,n=t.length;i<n;i++){var o=t[i],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(r.default||(r.default=[])).push(o);else{var a=s.slot,l=r[a]||(r[a]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in r)r[c].every(ve)&&delete r[c];return r}function ve(t){return t.isComment&&!t.asyncFactory||" "===t.text}function _e(t,e){e=e||{};for(var r=0;r<t.length;r++)Array.isArray(t[r])?_e(t[r],e):e[t[r].key]=t[r].fn;return e}var ge=null;function ye(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function be(t,e){if(e){if(t._directInactive=!1,ye(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var r=0;r<t.$children.length;r++)be(t.$children[r]);Ce(t,"activated")}}function Ce(t,e){var r=t.$options[e];if(r)for(var i=0,n=r.length;i<n;i++)try{r[i].call(t)}catch(r){Wt(r,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e)}var we=[],xe=[],Se={},Ae=!1,ke=!1,Ee=0;function Le(){var t,e;for(ke=!0,we.sort(function(t,e){return t.id-e.id}),Ee=0;Ee<we.length;Ee++)e=(t=we[Ee]).id,Se[e]=null,t.run();var r=xe.slice(),i=we.slice();Ee=we.length=xe.length=0,Se={},Ae=ke=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,be(t[e],!0)}(r),function(t){var e=t.length;for(;e--;){var r=t[e],i=r.vm;i._watcher===r&&i._isMounted&&Ce(i,"updated")}}(i),nt&&F.devtools&&nt.emit("flush")}var Te=0,Me=function(t,e,r,i,n){this.vm=t,n&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++Te,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!$.test(t)){var e=t.split(".");return function(t){for(var r=0;r<e.length;r++){if(!t)return;t=t[e[r]]}return t}}}(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Me.prototype.get=function(){var t,e;t=this,ut.target&&ht.push(ut.target),ut.target=t;var r=this.vm;try{e=this.getter.call(r,r)}catch(t){if(!this.user)throw t;Wt(t,r,'getter for watcher "'+this.expression+'"')}finally{this.deep&&te(e),ut.target=ht.pop(),this.cleanupDeps()}return e},Me.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Me.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},Me.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==Se[e]){if(Se[e]=!0,ke){for(var r=we.length-1;r>Ee&&we[r].id>t.id;)r--;we.splice(r+1,0,t)}else we.push(t);Ae||(Ae=!0,Qt(Le))}}(this)},Me.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||a(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Wt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Me.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Me.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Me.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||_(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var Re={enumerable:!0,configurable:!0,get:M,set:M};function Oe(t,e,r){Re.get=function(){return this[e][r]},Re.set=function(t){this[e][r]=t},Object.defineProperty(t,r,Re)}function He(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var r=t.$options.propsData||{},i=t._props={},n=t.$options._propKeys=[],o=!t.$parent;Ct.shouldConvert=o;var s=function(o){n.push(o);var s=Nt(o,e,r,t);kt(i,o,s),o in t||Oe(t,"_props",o)};for(var a in e)s(a);Ct.shouldConvert=!0}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var r in e)t[r]=null==e[r]?M:k(e[r],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;c(e=t._data="function"==typeof e?function(t,e){try{return t.call(e,e)}catch(t){return Wt(t,e,"data()"),{}}}(e,t):e||{})||(e={});var r=Object.keys(e),i=t.$options.props,n=(t.$options.methods,r.length);for(;n--;){var o=r[n];0,i&&y(i,o)||W(o)||Oe(t,"_data",o)}At(e,!0)}(t):At(t._data={},!0),e.computed&&function(t,e){var r=t._computedWatchers=Object.create(null),i=it();for(var n in e){var o=e[n],s="function"==typeof o?o:o.get;0,i||(r[n]=new Me(t,s||M,M,De)),n in t||Ie(t,n,o)}}(t,e.computed),e.watch&&e.watch!==tt&&function(t,e){for(var r in e){var i=e[r];if(Array.isArray(i))for(var n=0;n<i.length;n++)Ne(t,r,i[n]);else Ne(t,r,i)}}(t,e.watch)}var De={lazy:!0};function Ie(t,e,r){var i=!it();"function"==typeof r?(Re.get=i?Pe(e):r,Re.set=M):(Re.get=r.get?i&&!1!==r.cache?Pe(e):r.get:M,Re.set=r.set?r.set:M),Object.defineProperty(t,e,Re)}function Pe(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ut.target&&e.depend(),e.value}}function Ne(t,e,r,i){return c(r)&&(i=r,r=r.handler),"string"==typeof r&&(r=t[r]),t.$watch(e,r,i)}function Be(t,e){if(t){for(var r=Object.create(null),i=at?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),n=0;n<i.length;n++){for(var o=i[n],s=t[o].from,a=e;a;){if(a._provided&&s in a._provided){r[o]=a._provided[s];break}a=a.$parent}if(!a)if("default"in t[o]){var l=t[o].default;r[o]="function"==typeof l?l.call(e):l}else 0}return r}}function Fe(t,e){var r,i,o,s,l;if(Array.isArray(t)||"string"==typeof t)for(r=new Array(t.length),i=0,o=t.length;i<o;i++)r[i]=e(t[i],i);else if("number"==typeof t)for(r=new Array(t),i=0;i<t;i++)r[i]=e(i+1,i);else if(a(t))for(s=Object.keys(t),r=new Array(s.length),i=0,o=s.length;i<o;i++)l=s[i],r[i]=e(t[l],l,i);return n(r)&&(r._isVList=!0),r}function We(t,e,r,i){var n,o=this.$scopedSlots[t];if(o)r=r||{},i&&(r=L(L({},i),r)),n=o(r)||e;else{var s=this.$slots[t];s&&(s._rendered=!0),n=s||e}var a=r&&r.slot;return a?this.$createElement("template",{slot:a},n):n}function je(t){return Pt(this.$options,"filters",t)||O}function $e(t,e,r,i){var n=F.keyCodes[e]||r;return n?Array.isArray(n)?-1===n.indexOf(t):n!==t:i?A(i)!==e:void 0}function ze(t,e,r,i,n){if(r)if(a(r)){var o;Array.isArray(r)&&(r=T(r));var s=function(s){if("class"===s||"style"===s||v(s))o=t;else{var a=t.attrs&&t.attrs.type;o=i||F.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}s in o||(o[s]=r[s],n&&((t.on||(t.on={}))["update:"+s]=function(t){r[s]=t}))};for(var l in r)s(l)}else;return t}function Ue(t,e){var r=this._staticTrees||(this._staticTrees=[]),i=r[t];return i&&!e?Array.isArray(i)?_t(i):vt(i):(Ke(i=r[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),i)}function Ve(t,e,r){return Ke(t,"__once__"+e+(r?"_"+r:""),!0),t}function Ke(t,e,r){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&Xe(t[i],e+"_"+i,r);else Xe(t,e,r)}function Xe(t,e,r){t.isStatic=!0,t.key=e,t.isOnce=r}function Ge(t,e){if(e)if(c(e)){var r=t.on=t.on?L({},t.on):{};for(var i in e){var n=r[i],o=e[i];r[i]=n?[].concat(n,o):o}}else;return t}function Ze(t){t._o=Ve,t._n=p,t._s=f,t._l=Fe,t._t=We,t._q=H,t._i=D,t._m=Ue,t._f=je,t._k=$e,t._b=ze,t._v=mt,t._e=dt,t._u=_e,t._g=Ge}function qe(t,e,i,n,s){var a=s.options;this.data=t,this.props=e,this.children=i,this.parent=n,this.listeners=t.on||r,this.injections=Be(a.inject,n),this.slots=function(){return me(i,n)};var l=Object.create(n),c=o(a._compiled),u=!c;c&&(this.$options=a,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||r),a._scopeId?this._c=function(t,e,r,i){var o=nr(l,t,e,r,i,u);return o&&(o.fnScopeId=a._scopeId,o.fnContext=n),o}:this._c=function(t,e,r,i){return nr(l,t,e,r,i,u)}}function Ye(t,e){for(var r in e)t[w(r)]=e[r]}Ze(qe.prototype);var Qe={init:function(t,e,r,i){if(!t.componentInstance||t.componentInstance._isDestroyed)(t.componentInstance=function(t,e,r,i){var o={_isComponent:!0,parent:e,_parentVnode:t,_parentElm:r||null,_refElm:i||null},s=t.data.inlineTemplate;n(s)&&(o.render=s.render,o.staticRenderFns=s.staticRenderFns);return new t.componentOptions.Ctor(o)}(t,ge,r,i)).$mount(e?t.elm:void 0,e);else if(t.data.keepAlive){var o=t;Qe.prepatch(o,o)}},prepatch:function(t,e){var i=e.componentOptions;!function(t,e,i,n,o){var s=!!(o||t.$options._renderChildren||n.data.scopedSlots||t.$scopedSlots!==r);if(t.$options._parentVnode=n,t.$vnode=n,t._vnode&&(t._vnode.parent=n),t.$options._renderChildren=o,t.$attrs=n.data&&n.data.attrs||r,t.$listeners=i||r,e&&t.$options.props){Ct.shouldConvert=!1;for(var a=t._props,l=t.$options._propKeys||[],c=0;c<l.length;c++){var u=l[c];a[u]=Nt(u,t.$options.props,e,t)}Ct.shouldConvert=!0,t.$options.propsData=e}if(i){var h=t.$options._parentListeners;t.$options._parentListeners=i,de(t,i,h)}s&&(t.$slots=me(o,n.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,i.propsData,i.listeners,e,i.children)},insert:function(t){var e,r=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,Ce(i,"mounted")),t.data.keepAlive&&(r._isMounted?((e=i)._inactive=!1,xe.push(e)):be(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,r){if(!(r&&(e._directInactive=!0,ye(e))||e._inactive)){e._inactive=!0;for(var i=0;i<e.$children.length;i++)t(e.$children[i]);Ce(e,"deactivated")}}(e,!0):e.$destroy())}},Je=Object.keys(Qe);function tr(t,e,s,l,c){if(!i(t)){var u=s.$options._base;if(a(t)&&(t=u.extend(t)),"function"==typeof t){var h;if(i(t.cid)&&void 0===(t=function(t,e,r){if(o(t.error)&&n(t.errorComp))return t.errorComp;if(n(t.resolved))return t.resolved;if(o(t.loading)&&n(t.loadingComp))return t.loadingComp;if(!n(t.contexts)){var s=t.contexts=[r],l=!0,c=function(){for(var t=0,e=s.length;t<e;t++)s[t].$forceUpdate()},u=I(function(r){t.resolved=ce(r,e),l||c()}),h=I(function(e){n(t.errorComp)&&(t.error=!0,c())}),f=t(u,h);return a(f)&&("function"==typeof f.then?i(t.resolved)&&f.then(u,h):n(f.component)&&"function"==typeof f.component.then&&(f.component.then(u,h),n(f.error)&&(t.errorComp=ce(f.error,e)),n(f.loading)&&(t.loadingComp=ce(f.loading,e),0===f.delay?t.loading=!0:setTimeout(function(){i(t.resolved)&&i(t.error)&&(t.loading=!0,c())},f.delay||200)),n(f.timeout)&&setTimeout(function(){i(t.resolved)&&h(null)},f.timeout))),l=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(r)}(h=t,u,s)))return function(t,e,r,i,n){var o=dt();return o.asyncFactory=t,o.asyncMeta={data:e,context:r,children:i,tag:n},o}(h,e,s,l,c);e=e||{},sr(t),n(e.model)&&function(t,e){var r=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.props||(e.props={}))[r]=e.model.value;var o=e.on||(e.on={});n(o[i])?o[i]=[e.model.callback].concat(o[i]):o[i]=e.model.callback}(t.options,e);var f=function(t,e,r){var o=e.options.props;if(!i(o)){var s={},a=t.attrs,l=t.props;if(n(a)||n(l))for(var c in o){var u=A(c);se(s,l,c,u,!0)||se(s,a,c,u,!1)}return s}}(e,t);if(o(t.options.functional))return function(t,e,i,o,s){var a=t.options,l={},c=a.props;if(n(c))for(var u in c)l[u]=Nt(u,c,e||r);else n(i.attrs)&&Ye(l,i.attrs),n(i.props)&&Ye(l,i.props);var h=new qe(i,l,s,o,t),f=a.render.call(null,h._c,h);return f instanceof ft&&(f.fnContext=o,f.fnOptions=a,i.slot&&((f.data||(f.data={})).slot=i.slot)),f}(t,f,e,s,l);var p=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}!function(t){t.hook||(t.hook={});for(var e=0;e<Je.length;e++){var r=Je[e],i=t.hook[r],n=Qe[r];t.hook[r]=i?er(n,i):n}}(e);var m=t.options.name||c;return new ft("vue-component-"+t.cid+(m?"-"+m:""),e,void 0,void 0,void 0,s,{Ctor:t,propsData:f,listeners:p,tag:c,children:l},h)}}}function er(t,e){return function(r,i,n,o){t(r,i,n,o),e(r,i,n,o)}}var rr=1,ir=2;function nr(t,e,r,a,l,c){return(Array.isArray(r)||s(r))&&(l=a,a=r,r=void 0),o(c)&&(l=ir),function(t,e,r,s,a){if(n(r)&&n(r.__ob__))return dt();n(r)&&n(r.is)&&(e=r.is);if(!e)return dt();0;Array.isArray(s)&&"function"==typeof s[0]&&((r=r||{}).scopedSlots={default:s[0]},s.length=0);a===ir?s=ae(s):a===rr&&(s=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(s));var l,c;if("string"==typeof e){var u;c=t.$vnode&&t.$vnode.ns||F.getTagNamespace(e),l=F.isReservedTag(e)?new ft(F.parsePlatformTagName(e),r,s,void 0,void 0,t):n(u=Pt(t.$options,"components",e))?tr(u,r,t,s,e):new ft(e,r,s,void 0,void 0,t)}else l=tr(e,r,t,s);return n(l)?(c&&function t(e,r,s){e.ns=r;"foreignObject"===e.tag&&(r=void 0,s=!0);if(n(e.children))for(var a=0,l=e.children.length;a<l;a++){var c=e.children[a];n(c.tag)&&(i(c.ns)||o(s))&&t(c,r,s)}}(l,c),l):dt()}(t,e,r,a,l)}var or=0;function sr(t){var e=t.options;if(t.super){var r=sr(t.super);if(r!==t.superOptions){t.superOptions=r;var i=function(t){var e,r=t.options,i=t.extendOptions,n=t.sealedOptions;for(var o in r)r[o]!==n[o]&&(e||(e={}),e[o]=ar(r[o],i[o],n[o]));return e}(t);i&&L(t.extendOptions,i),(e=t.options=It(r,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function ar(t,e,r){if(Array.isArray(t)){var i=[];r=Array.isArray(r)?r:[r],e=Array.isArray(e)?e:[e];for(var n=0;n<t.length;n++)(e.indexOf(t[n])>=0||r.indexOf(t[n])<0)&&i.push(t[n]);return i}return t}function lr(t){this._init(t)}function cr(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var r=this,i=r.cid,n=t._Ctor||(t._Ctor={});if(n[i])return n[i];var o=t.name||r.options.name;var s=function(t){this._init(t)};return(s.prototype=Object.create(r.prototype)).constructor=s,s.cid=e++,s.options=It(r.options,t),s.super=r,s.options.props&&function(t){var e=t.options.props;for(var r in e)Oe(t.prototype,"_props",r)}(s),s.options.computed&&function(t){var e=t.options.computed;for(var r in e)Ie(t.prototype,r,e[r])}(s),s.extend=r.extend,s.mixin=r.mixin,s.use=r.use,N.forEach(function(t){s[t]=r[t]}),o&&(s.options.components[o]=s),s.superOptions=r.options,s.extendOptions=t,s.sealedOptions=L({},s.options),n[i]=s,s}}function ur(t){return t&&(t.Ctor.options.name||t.tag)}function hr(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!u(t)&&t.test(e)}function fr(t,e){var r=t.cache,i=t.keys,n=t._vnode;for(var o in r){var s=r[o];if(s){var a=ur(s.componentOptions);a&&!e(a)&&pr(r,o,i,n)}}}function pr(t,e,r,i){var n=t[e];!n||i&&n.tag===i.tag||n.componentInstance.$destroy(),t[e]=null,_(r,e)}lr.prototype._init=function(t){var e=this;e._uid=or++,e._isVue=!0,t&&t._isComponent?function(t,e){var r=t.$options=Object.create(t.constructor.options),i=e._parentVnode;r.parent=e.parent,r._parentVnode=i,r._parentElm=e._parentElm,r._refElm=e._refElm;var n=i.componentOptions;r.propsData=n.propsData,r._parentListeners=n.listeners,r._renderChildren=n.children,r._componentTag=n.tag,e.render&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=It(sr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,r=e.parent;if(r&&!e.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(t)}t.$parent=r,t.$root=r?r.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&de(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,n=i&&i.context;t.$slots=me(e._renderChildren,n),t.$scopedSlots=r,t._c=function(e,r,i,n){return nr(t,e,r,i,n,!1)},t.$createElement=function(e,r,i,n){return nr(t,e,r,i,n,!0)};var o=i&&i.data;kt(t,"$attrs",o&&o.attrs||r,0,!0),kt(t,"$listeners",e._parentListeners||r,0,!0)}(e),Ce(e,"beforeCreate"),function(t){var e=Be(t.$options.inject,t);e&&(Ct.shouldConvert=!1,Object.keys(e).forEach(function(r){kt(t,r,e[r])}),Ct.shouldConvert=!0)}(e),He(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),Ce(e,"created"),e.$options.el&&e.$mount(e.$options.el)},function(t){var e={get:function(){return this._data}},r={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",r),t.prototype.$set=Et,t.prototype.$delete=Lt,t.prototype.$watch=function(t,e,r){if(c(e))return Ne(this,t,e,r);(r=r||{}).user=!0;var i=new Me(this,t,e,r);return r.immediate&&e.call(this,i.value),function(){i.teardown()}}}(lr),function(t){var e=/^hook:/;t.prototype.$on=function(t,r){if(Array.isArray(t))for(var i=0,n=t.length;i<n;i++)this.$on(t[i],r);else(this._events[t]||(this._events[t]=[])).push(r),e.test(t)&&(this._hasHookEvent=!0);return this},t.prototype.$once=function(t,e){var r=this;function i(){r.$off(t,i),e.apply(r,arguments)}return i.fn=e,r.$on(t,i),r},t.prototype.$off=function(t,e){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(t)){for(var i=0,n=t.length;i<n;i++)this.$off(t[i],e);return r}var o=r._events[t];if(!o)return r;if(!e)return r._events[t]=null,r;if(e)for(var s,a=o.length;a--;)if((s=o[a])===e||s.fn===e){o.splice(a,1);break}return r},t.prototype.$emit=function(t){var e=this,r=e._events[t];if(r){r=r.length>1?E(r):r;for(var i=E(arguments,1),n=0,o=r.length;n<o;n++)try{r[n].apply(e,i)}catch(r){Wt(r,e,'event handler for "'+t+'"')}}return e}}(lr),function(t){t.prototype._update=function(t,e){var r=this;r._isMounted&&Ce(r,"beforeUpdate");var i=r.$el,n=r._vnode,o=ge;ge=r,r._vnode=t,n?r.$el=r.__patch__(n,t):(r.$el=r.__patch__(r.$el,t,e,!1,r.$options._parentElm,r.$options._refElm),r.$options._parentElm=r.$options._refElm=null),ge=o,i&&(i.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Ce(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||_(e.$children,t),t._watcher&&t._watcher.teardown();for(var r=t._watchers.length;r--;)t._watchers[r].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Ce(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(lr),function(t){Ze(t.prototype),t.prototype.$nextTick=function(t){return Qt(t,this)},t.prototype._render=function(){var t,e=this,i=e.$options,n=i.render,o=i._parentVnode;if(e._isMounted)for(var s in e.$slots){var a=e.$slots[s];(a._rendered||a[0]&&a[0].elm)&&(e.$slots[s]=_t(a,!0))}e.$scopedSlots=o&&o.data.scopedSlots||r,e.$vnode=o;try{t=n.call(e._renderProxy,e.$createElement)}catch(r){Wt(r,e,"render"),t=e._vnode}return t instanceof ft||(t=dt()),t.parent=o,t}}(lr);var dr=[String,RegExp,Array],mr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:dr,exclude:dr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)pr(this.cache,t,this.keys)},watch:{include:function(t){fr(this,function(e){return hr(t,e)})},exclude:function(t){fr(this,function(e){return!hr(t,e)})}},render:function(){var t=this.$slots.default,e=he(t),r=e&&e.componentOptions;if(r){var i=ur(r),n=this.include,o=this.exclude;if(n&&(!i||!hr(n,i))||o&&i&&hr(o,i))return e;var s=this.cache,a=this.keys,l=null==e.key?r.Ctor.cid+(r.tag?"::"+r.tag:""):e.key;s[l]?(e.componentInstance=s[l].componentInstance,_(a,l),a.push(l)):(s[l]=e,a.push(l),this.max&&a.length>parseInt(this.max)&&pr(s,a[0],a,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return F}};Object.defineProperty(t,"config",e),t.util={warn:lt,extend:L,mergeOptions:It,defineReactive:kt},t.set=Et,t.delete=Lt,t.nextTick=Qt,t.options=Object.create(null),N.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,L(t.options.components,mr),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var r=E(arguments,1);return r.unshift(this),"function"==typeof t.install?t.install.apply(t,r):"function"==typeof t&&t.apply(null,r),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=It(this.options,t),this}}(t),cr(t),function(t){N.forEach(function(e){t[e]=function(t,r){return r?("component"===e&&c(r)&&(r.name=r.name||t,r=this.options._base.extend(r)),"directive"===e&&"function"==typeof r&&(r={bind:r,update:r}),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}})}(t)}(lr),Object.defineProperty(lr.prototype,"$isServer",{get:it}),Object.defineProperty(lr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),lr.version="2.5.13";var vr=d("style,class"),_r=d("input,textarea,option,select,progress"),gr=function(t,e,r){return"value"===r&&_r(t)&&"button"!==e||"selected"===r&&"option"===t||"checked"===r&&"input"===t||"muted"===r&&"video"===t},yr=d("contenteditable,draggable,spellcheck"),br=d("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Cr="http://www.w3.org/1999/xlink",wr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},xr=function(t){return wr(t)?t.slice(6,t.length):""},Sr=function(t){return null==t||!1===t};function Ar(t){for(var e=t.data,r=t,i=t;n(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(e=kr(i.data,e));for(;n(r=r.parent);)r&&r.data&&(e=kr(e,r.data));return function(t,e){if(n(t)||n(e))return Er(t,Lr(e));return""}(e.staticClass,e.class)}function kr(t,e){return{staticClass:Er(t.staticClass,e.staticClass),class:n(t.class)?[t.class,e.class]:e.class}}function Er(t,e){return t?e?t+" "+e:t:e||""}function Lr(t){return Array.isArray(t)?function(t){for(var e,r="",i=0,o=t.length;i<o;i++)n(e=Lr(t[i]))&&""!==e&&(r&&(r+=" "),r+=e);return r}(t):a(t)?function(t){var e="";for(var r in t)t[r]&&(e&&(e+=" "),e+=r);return e}(t):"string"==typeof t?t:""}var Tr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Mr=d("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Rr=d("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Or=function(t){return Mr(t)||Rr(t)};function Hr(t){return Rr(t)?"svg":"math"===t?"math":void 0}var Dr=Object.create(null);var Ir=d("text,number,password,search,email,tel,url");function Pr(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var Nr=Object.freeze({createElement:function(t,e){var r=document.createElement(t);return"select"!==t?r:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r)},createElementNS:function(t,e){return document.createElementNS(Tr[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,r){t.insertBefore(e,r)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setAttribute:function(t,e,r){t.setAttribute(e,r)}}),Br={create:function(t,e){Fr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Fr(t,!0),Fr(e))},destroy:function(t){Fr(t,!0)}};function Fr(t,e){var r=t.data.ref;if(r){var i=t.context,n=t.componentInstance||t.elm,o=i.$refs;e?Array.isArray(o[r])?_(o[r],n):o[r]===n&&(o[r]=void 0):t.data.refInFor?Array.isArray(o[r])?o[r].indexOf(n)<0&&o[r].push(n):o[r]=[n]:o[r]=n}}var Wr=new ft("",{},[]),jr=["create","activate","update","remove","destroy"];function $r(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&n(t.data)===n(e.data)&&function(t,e){if("input"!==t.tag)return!0;var r,i=n(r=t.data)&&n(r=r.attrs)&&r.type,o=n(r=e.data)&&n(r=r.attrs)&&r.type;return i===o||Ir(i)&&Ir(o)}(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function zr(t,e,r){var i,o,s={};for(i=e;i<=r;++i)n(o=t[i].key)&&(s[o]=i);return s}var Ur={create:Vr,update:Vr,destroy:function(t){Vr(t,Wr)}};function Vr(t,e){(t.data.directives||e.data.directives)&&function(t,e){var r,i,n,o=t===Wr,s=e===Wr,a=Xr(t.data.directives,t.context),l=Xr(e.data.directives,e.context),c=[],u=[];for(r in l)i=a[r],n=l[r],i?(n.oldValue=i.value,Zr(n,"update",e,t),n.def&&n.def.componentUpdated&&u.push(n)):(Zr(n,"bind",e,t),n.def&&n.def.inserted&&c.push(n));if(c.length){var h=function(){for(var r=0;r<c.length;r++)Zr(c[r],"inserted",e,t)};o?oe(e,"insert",h):h()}u.length&&oe(e,"postpatch",function(){for(var r=0;r<u.length;r++)Zr(u[r],"componentUpdated",e,t)});if(!o)for(r in a)l[r]||Zr(a[r],"unbind",t,t,s)}(t,e)}var Kr=Object.create(null);function Xr(t,e){var r,i,n=Object.create(null);if(!t)return n;for(r=0;r<t.length;r++)(i=t[r]).modifiers||(i.modifiers=Kr),n[Gr(i)]=i,i.def=Pt(e.$options,"directives",i.name);return n}function Gr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Zr(t,e,r,i,n){var o=t.def&&t.def[e];if(o)try{o(r.elm,t,r,i,n)}catch(i){Wt(i,r.context,"directive "+t.name+" "+e+" hook")}}var qr=[Br,Ur];function Yr(t,e){var r=e.componentOptions;if(!(n(r)&&!1===r.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var o,s,a=e.elm,l=t.data.attrs||{},c=e.data.attrs||{};for(o in n(c.__ob__)&&(c=e.data.attrs=L({},c)),c)s=c[o],l[o]!==s&&Qr(a,o,s);for(o in(Z||Y)&&c.value!==l.value&&Qr(a,"value",c.value),l)i(c[o])&&(wr(o)?a.removeAttributeNS(Cr,xr(o)):yr(o)||a.removeAttribute(o))}}function Qr(t,e,r){if(br(e))Sr(r)?t.removeAttribute(e):(r="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,r));else if(yr(e))t.setAttribute(e,Sr(r)||"false"===r?"false":"true");else if(wr(e))Sr(r)?t.removeAttributeNS(Cr,xr(e)):t.setAttributeNS(Cr,e,r);else if(Sr(r))t.removeAttribute(e);else{if(Z&&!q&&"TEXTAREA"===t.tagName&&"placeholder"===e&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,r)}}var Jr={create:Yr,update:Yr};function ti(t,e){var r=e.elm,o=e.data,s=t.data;if(!(i(o.staticClass)&&i(o.class)&&(i(s)||i(s.staticClass)&&i(s.class)))){var a=Ar(e),l=r._transitionClasses;n(l)&&(a=Er(a,Lr(l))),a!==r._prevClass&&(r.setAttribute("class",a),r._prevClass=a)}}var ei,ri,ii,ni,oi,si,ai={create:ti,update:ti},li=/[\w).+\-_$\]]/;function ci(t){var e,r,i,n,o,s=!1,a=!1,l=!1,c=!1,u=0,h=0,f=0,p=0;for(i=0;i<t.length;i++)if(r=e,e=t.charCodeAt(i),s)39===e&&92!==r&&(s=!1);else if(a)34===e&&92!==r&&(a=!1);else if(l)96===e&&92!==r&&(l=!1);else if(c)47===e&&92!==r&&(c=!1);else if(124!==e||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||u||h||f){switch(e){case 34:a=!0;break;case 39:s=!0;break;case 96:l=!0;break;case 40:f++;break;case 41:f--;break;case 91:h++;break;case 93:h--;break;case 123:u++;break;case 125:u--}if(47===e){for(var d=i-1,m=void 0;d>=0&&" "===(m=t.charAt(d));d--);m&&li.test(m)||(c=!0)}}else void 0===n?(p=i+1,n=t.slice(0,i).trim()):v();function v(){(o||(o=[])).push(t.slice(p,i).trim()),p=i+1}if(void 0===n?n=t.slice(0,i).trim():0!==p&&v(),o)for(i=0;i<o.length;i++)n=ui(n,o[i]);return n}function ui(t,e){var r=e.indexOf("(");return r<0?'_f("'+e+'")('+t+")":'_f("'+e.slice(0,r)+'")('+t+","+e.slice(r+1)}function hi(t){console.error("[Vue compiler]: "+t)}function fi(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function pi(t,e,r){(t.props||(t.props=[])).push({name:e,value:r}),t.plain=!1}function di(t,e,r){(t.attrs||(t.attrs=[])).push({name:e,value:r}),t.plain=!1}function mi(t,e,r){t.attrsMap[e]=r,t.attrsList.push({name:e,value:r})}function vi(t,e,r,i,n,o){(t.directives||(t.directives=[])).push({name:e,rawName:r,value:i,arg:n,modifiers:o}),t.plain=!1}function _i(t,e,i,n,o,s){var a;(n=n||r).capture&&(delete n.capture,e="!"+e),n.once&&(delete n.once,e="~"+e),n.passive&&(delete n.passive,e="&"+e),"click"===e&&(n.right?(e="contextmenu",delete n.right):n.middle&&(e="mouseup")),n.native?(delete n.native,a=t.nativeEvents||(t.nativeEvents={})):a=t.events||(t.events={});var l={value:i};n!==r&&(l.modifiers=n);var c=a[e];Array.isArray(c)?o?c.unshift(l):c.push(l):a[e]=c?o?[l,c]:[c,l]:l,t.plain=!1}function gi(t,e,r){var i=yi(t,":"+e)||yi(t,"v-bind:"+e);if(null!=i)return ci(i);if(!1!==r){var n=yi(t,e);if(null!=n)return JSON.stringify(n)}}function yi(t,e,r){var i;if(null!=(i=t.attrsMap[e]))for(var n=t.attrsList,o=0,s=n.length;o<s;o++)if(n[o].name===e){n.splice(o,1);break}return r&&delete t.attrsMap[e],i}function bi(t,e,r){var i=r||{},n=i.number,o="$$v";i.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),n&&(o="_n("+o+")");var s=Ci(e,o);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ($$v) {"+s+"}"}}function Ci(t,e){var r=function(t){if(ei=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<ei-1)return(ni=t.lastIndexOf("."))>-1?{exp:t.slice(0,ni),key:'"'+t.slice(ni+1)+'"'}:{exp:t,key:null};ri=t,ni=oi=si=0;for(;!xi();)Si(ii=wi())?ki(ii):91===ii&&Ai(ii);return{exp:t.slice(0,oi),key:t.slice(oi+1,si)}}(t);return null===r.key?t+"="+e:"$set("+r.exp+", "+r.key+", "+e+")"}function wi(){return ri.charCodeAt(++ni)}function xi(){return ni>=ei}function Si(t){return 34===t||39===t}function Ai(t){var e=1;for(oi=ni;!xi();)if(Si(t=wi()))ki(t);else if(91===t&&e++,93===t&&e--,0===e){si=ni;break}}function ki(t){for(var e=t;!xi()&&(t=wi())!==e;);}var Ei,Li="__r",Ti="__c";function Mi(t,e,r,i,n){var o;e=(o=e)._withTask||(o._withTask=function(){Gt=!0;var t=o.apply(null,arguments);return Gt=!1,t}),r&&(e=function(t,e,r){var i=Ei;return function n(){null!==t.apply(null,arguments)&&Ri(e,n,r,i)}}(e,t,i)),Ei.addEventListener(t,e,et?{capture:i,passive:n}:i)}function Ri(t,e,r,i){(i||Ei).removeEventListener(t,e._withTask||e,r)}function Oi(t,e){if(!i(t.data.on)||!i(e.data.on)){var r=e.data.on||{},o=t.data.on||{};Ei=e.elm,function(t){if(n(t[Li])){var e=Z?"change":"input";t[e]=[].concat(t[Li],t[e]||[]),delete t[Li]}n(t[Ti])&&(t.change=[].concat(t[Ti],t.change||[]),delete t[Ti])}(r),ne(r,o,Mi,Ri,e.context),Ei=void 0}}var Hi={create:Oi,update:Oi};function Di(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var r,o,s=e.elm,a=t.data.domProps||{},l=e.data.domProps||{};for(r in n(l.__ob__)&&(l=e.data.domProps=L({},l)),a)i(l[r])&&(s[r]="");for(r in l){if(o=l[r],"textContent"===r||"innerHTML"===r){if(e.children&&(e.children.length=0),o===a[r])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===r){s._value=o;var c=i(o)?"":String(o);Ii(s,c)&&(s.value=c)}else s[r]=o}}}function Ii(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var r=!0;try{r=document.activeElement!==t}catch(t){}return r&&t.value!==e}(t,e)||function(t,e){var r=t.value,i=t._vModifiers;if(n(i)){if(i.lazy)return!1;if(i.number)return p(r)!==p(e);if(i.trim)return r.trim()!==e.trim()}return r!==e}(t,e))}var Pi={create:Di,update:Di},Ni=b(function(t){var e={},r=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var i=t.split(r);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e});function Bi(t){var e=Fi(t.style);return t.staticStyle?L(t.staticStyle,e):e}function Fi(t){return Array.isArray(t)?T(t):"string"==typeof t?Ni(t):t}var Wi,ji=/^--/,$i=/\s*!important$/,zi=function(t,e,r){if(ji.test(e))t.style.setProperty(e,r);else if($i.test(r))t.style.setProperty(e,r.replace($i,""),"important");else{var i=Vi(e);if(Array.isArray(r))for(var n=0,o=r.length;n<o;n++)t.style[i]=r[n];else t.style[i]=r}},Ui=["Webkit","Moz","ms"],Vi=b(function(t){if(Wi=Wi||document.createElement("div").style,"filter"!==(t=w(t))&&t in Wi)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<Ui.length;r++){var i=Ui[r]+e;if(i in Wi)return i}});function Ki(t,e){var r=e.data,o=t.data;if(!(i(r.staticStyle)&&i(r.style)&&i(o.staticStyle)&&i(o.style))){var s,a,l=e.elm,c=o.staticStyle,u=o.normalizedStyle||o.style||{},h=c||u,f=Fi(e.data.style)||{};e.data.normalizedStyle=n(f.__ob__)?L({},f):f;var p=function(t,e){var r,i={};if(e)for(var n=t;n.componentInstance;)(n=n.componentInstance._vnode)&&n.data&&(r=Bi(n.data))&&L(i,r);(r=Bi(t.data))&&L(i,r);for(var o=t;o=o.parent;)o.data&&(r=Bi(o.data))&&L(i,r);return i}(e,!0);for(a in h)i(p[a])&&zi(l,a,"");for(a in p)(s=p[a])!==h[a]&&zi(l,a,null==s?"":s)}}var Xi={create:Ki,update:Ki};function Gi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var r=" "+(t.getAttribute("class")||"")+" ";r.indexOf(" "+e+" ")<0&&t.setAttribute("class",(r+e).trim())}}function Zi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var r=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";r.indexOf(i)>=0;)r=r.replace(i," ");(r=r.trim())?t.setAttribute("class",r):t.removeAttribute("class")}}function qi(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&L(e,Yi(t.name||"v")),L(e,t),e}return"string"==typeof t?Yi(t):void 0}}var Yi=b(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Qi=V&&!q,Ji="transition",tn="animation",en="transition",rn="transitionend",nn="animation",on="animationend";Qi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(en="WebkitTransition",rn="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(nn="WebkitAnimation",on="webkitAnimationEnd"));var sn=V?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function an(t){sn(function(){sn(t)})}function ln(t,e){var r=t._transitionClasses||(t._transitionClasses=[]);r.indexOf(e)<0&&(r.push(e),Gi(t,e))}function cn(t,e){t._transitionClasses&&_(t._transitionClasses,e),Zi(t,e)}function un(t,e,r){var i=fn(t,e),n=i.type,o=i.timeout,s=i.propCount;if(!n)return r();var a=n===Ji?rn:on,l=0,c=function(){t.removeEventListener(a,u),r()},u=function(e){e.target===t&&++l>=s&&c()};setTimeout(function(){l<s&&c()},o+1),t.addEventListener(a,u)}var hn=/\b(transform|all)(,|$)/;function fn(t,e){var r,i=window.getComputedStyle(t),n=i[en+"Delay"].split(", "),o=i[en+"Duration"].split(", "),s=pn(n,o),a=i[nn+"Delay"].split(", "),l=i[nn+"Duration"].split(", "),c=pn(a,l),u=0,h=0;return e===Ji?s>0&&(r=Ji,u=s,h=o.length):e===tn?c>0&&(r=tn,u=c,h=l.length):h=(r=(u=Math.max(s,c))>0?s>c?Ji:tn:null)?r===Ji?o.length:l.length:0,{type:r,timeout:u,propCount:h,hasTransform:r===Ji&&hn.test(i[en+"Property"])}}function pn(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,r){return dn(e)+dn(t[r])}))}function dn(t){return 1e3*Number(t.slice(0,-1))}function mn(t,e){var r=t.elm;n(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var o=qi(t.data.transition);if(!i(o)&&!n(r._enterCb)&&1===r.nodeType){for(var s=o.css,l=o.type,c=o.enterClass,u=o.enterToClass,h=o.enterActiveClass,f=o.appearClass,d=o.appearToClass,m=o.appearActiveClass,v=o.beforeEnter,_=o.enter,g=o.afterEnter,y=o.enterCancelled,b=o.beforeAppear,C=o.appear,w=o.afterAppear,x=o.appearCancelled,S=o.duration,A=ge,k=ge.$vnode;k&&k.parent;)A=(k=k.parent).context;var E=!A._isMounted||!t.isRootInsert;if(!E||C||""===C){var L=E&&f?f:c,T=E&&m?m:h,M=E&&d?d:u,R=E&&b||v,O=E&&"function"==typeof C?C:_,H=E&&w||g,D=E&&x||y,P=p(a(S)?S.enter:S);0;var N=!1!==s&&!q,B=gn(O),F=r._enterCb=I(function(){N&&(cn(r,M),cn(r,T)),F.cancelled?(N&&cn(r,L),D&&D(r)):H&&H(r),r._enterCb=null});t.data.show||oe(t,"insert",function(){var e=r.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),O&&O(r,F)}),R&&R(r),N&&(ln(r,L),ln(r,T),an(function(){ln(r,M),cn(r,L),F.cancelled||B||(_n(P)?setTimeout(F,P):un(r,l,F))})),t.data.show&&(e&&e(),O&&O(r,F)),N||B||F()}}}function vn(t,e){var r=t.elm;n(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var o=qi(t.data.transition);if(i(o)||1!==r.nodeType)return e();if(!n(r._leaveCb)){var s=o.css,l=o.type,c=o.leaveClass,u=o.leaveToClass,h=o.leaveActiveClass,f=o.beforeLeave,d=o.leave,m=o.afterLeave,v=o.leaveCancelled,_=o.delayLeave,g=o.duration,y=!1!==s&&!q,b=gn(d),C=p(a(g)?g.leave:g);0;var w=r._leaveCb=I(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),y&&(cn(r,u),cn(r,h)),w.cancelled?(y&&cn(r,c),v&&v(r)):(e(),m&&m(r)),r._leaveCb=null});_?_(x):x()}function x(){w.cancelled||(t.data.show||((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),f&&f(r),y&&(ln(r,c),ln(r,h),an(function(){ln(r,u),cn(r,c),w.cancelled||b||(_n(C)?setTimeout(w,C):un(r,l,w))})),d&&d(r,w),y||b||w())}}function _n(t){return"number"==typeof t&&!isNaN(t)}function gn(t){if(i(t))return!1;var e=t.fns;return n(e)?gn(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function yn(t,e){!0!==e.data.show&&mn(e)}var bn=function(t){var e,r,a={},l=t.modules,c=t.nodeOps;for(e=0;e<jr.length;++e)for(a[jr[e]]=[],r=0;r<l.length;++r)n(l[r][jr[e]])&&a[jr[e]].push(l[r][jr[e]]);function u(t){var e=c.parentNode(t);n(e)&&c.removeChild(e,t)}function h(t,e,r,i,s){if(t.isRootInsert=!s,!function(t,e,r,i){var s=t.data;if(n(s)){var l=n(t.componentInstance)&&s.keepAlive;if(n(s=s.hook)&&n(s=s.init)&&s(t,!1,r,i),n(t.componentInstance))return f(t,e),o(l)&&function(t,e,r,i){for(var o,s=t;s.componentInstance;)if(s=s.componentInstance._vnode,n(o=s.data)&&n(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](Wr,s);e.push(s);break}p(r,t.elm,i)}(t,e,r,i),!0}}(t,e,r,i)){var l=t.data,u=t.children,h=t.tag;n(h)?(t.elm=t.ns?c.createElementNS(t.ns,h):c.createElement(h,t),g(t),m(t,u,e),n(l)&&_(t,e),p(r,t.elm,i)):o(t.isComment)?(t.elm=c.createComment(t.text),p(r,t.elm,i)):(t.elm=c.createTextNode(t.text),p(r,t.elm,i))}}function f(t,e){n(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,v(t)?(_(t,e),g(t)):(Fr(t),e.push(t))}function p(t,e,r){n(t)&&(n(r)?r.parentNode===t&&c.insertBefore(t,e,r):c.appendChild(t,e))}function m(t,e,r){if(Array.isArray(e))for(var i=0;i<e.length;++i)h(e[i],r,t.elm,null,!0);else s(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function v(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return n(t.tag)}function _(t,r){for(var i=0;i<a.create.length;++i)a.create[i](Wr,t);n(e=t.data.hook)&&(n(e.create)&&e.create(Wr,t),n(e.insert)&&r.push(t))}function g(t){var e;if(n(e=t.fnScopeId))c.setAttribute(t.elm,e,"");else for(var r=t;r;)n(e=r.context)&&n(e=e.$options._scopeId)&&c.setAttribute(t.elm,e,""),r=r.parent;n(e=ge)&&e!==t.context&&e!==t.fnContext&&n(e=e.$options._scopeId)&&c.setAttribute(t.elm,e,"")}function y(t,e,r,i,n,o){for(;i<=n;++i)h(r[i],o,t,e)}function b(t){var e,r,i=t.data;if(n(i))for(n(e=i.hook)&&n(e=e.destroy)&&e(t),e=0;e<a.destroy.length;++e)a.destroy[e](t);if(n(e=t.children))for(r=0;r<t.children.length;++r)b(t.children[r])}function C(t,e,r,i){for(;r<=i;++r){var o=e[r];n(o)&&(n(o.tag)?(w(o),b(o)):u(o.elm))}}function w(t,e){if(n(e)||n(t.data)){var r,i=a.remove.length+1;for(n(e)?e.listeners+=i:e=function(t,e){function r(){0==--r.listeners&&u(t)}return r.listeners=e,r}(t.elm,i),n(r=t.componentInstance)&&n(r=r._vnode)&&n(r.data)&&w(r,e),r=0;r<a.remove.length;++r)a.remove[r](t,e);n(r=t.data.hook)&&n(r=r.remove)?r(t,e):e()}else u(t.elm)}function x(t,e,r,i){for(var o=r;o<i;o++){var s=e[o];if(n(s)&&$r(t,s))return o}}function S(t,e,r,s){if(t!==e){var l=e.elm=t.elm;if(o(t.isAsyncPlaceholder))n(e.asyncFactory.resolved)?E(t.elm,e,r):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var u,f=e.data;n(f)&&n(u=f.hook)&&n(u=u.prepatch)&&u(t,e);var p=t.children,d=e.children;if(n(f)&&v(e)){for(u=0;u<a.update.length;++u)a.update[u](t,e);n(u=f.hook)&&n(u=u.update)&&u(t,e)}i(e.text)?n(p)&&n(d)?p!==d&&function(t,e,r,o,s){for(var a,l,u,f=0,p=0,d=e.length-1,m=e[0],v=e[d],_=r.length-1,g=r[0],b=r[_],w=!s;f<=d&&p<=_;)i(m)?m=e[++f]:i(v)?v=e[--d]:$r(m,g)?(S(m,g,o),m=e[++f],g=r[++p]):$r(v,b)?(S(v,b,o),v=e[--d],b=r[--_]):$r(m,b)?(S(m,b,o),w&&c.insertBefore(t,m.elm,c.nextSibling(v.elm)),m=e[++f],b=r[--_]):$r(v,g)?(S(v,g,o),w&&c.insertBefore(t,v.elm,m.elm),v=e[--d],g=r[++p]):(i(a)&&(a=zr(e,f,d)),i(l=n(g.key)?a[g.key]:x(g,e,f,d))?h(g,o,t,m.elm):$r(u=e[l],g)?(S(u,g,o),e[l]=void 0,w&&c.insertBefore(t,u.elm,m.elm)):h(g,o,t,m.elm),g=r[++p]);f>d?y(t,i(r[_+1])?null:r[_+1].elm,r,p,_,o):p>_&&C(0,e,f,d)}(l,p,d,r,s):n(d)?(n(t.text)&&c.setTextContent(l,""),y(l,null,d,0,d.length-1,r)):n(p)?C(0,p,0,p.length-1):n(t.text)&&c.setTextContent(l,""):t.text!==e.text&&c.setTextContent(l,e.text),n(f)&&n(u=f.hook)&&n(u=u.postpatch)&&u(t,e)}}}function A(t,e,r){if(o(r)&&n(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var k=d("attrs,class,staticClass,staticStyle,key");function E(t,e,r,i){var s,a=e.tag,l=e.data,c=e.children;if(i=i||l&&l.pre,e.elm=t,o(e.isComment)&&n(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(n(l)&&(n(s=l.hook)&&n(s=s.init)&&s(e,!0),n(s=e.componentInstance)))return f(e,r),!0;if(n(a)){if(n(c))if(t.hasChildNodes())if(n(s=l)&&n(s=s.domProps)&&n(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,p=0;p<c.length;p++){if(!h||!E(h,c[p],r,i)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else m(e,c,r);if(n(l)){var d=!1;for(var v in l)if(!k(v)){d=!0,_(e,r);break}!d&&l.class&&te(l.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,r,s,l,u){if(!i(e)){var f,p=!1,d=[];if(i(t))p=!0,h(e,d,l,u);else{var m=n(t.nodeType);if(!m&&$r(t,e))S(t,e,d,s);else{if(m){if(1===t.nodeType&&t.hasAttribute(P)&&(t.removeAttribute(P),r=!0),o(r)&&E(t,e,d))return A(e,d,!0),t;f=t,t=new ft(c.tagName(f).toLowerCase(),{},[],void 0,f)}var _=t.elm,g=c.parentNode(_);if(h(e,d,_._leaveCb?null:g,c.nextSibling(_)),n(e.parent))for(var y=e.parent,w=v(e);y;){for(var x=0;x<a.destroy.length;++x)a.destroy[x](y);if(y.elm=e.elm,w){for(var k=0;k<a.create.length;++k)a.create[k](Wr,y);var L=y.data.hook.insert;if(L.merged)for(var T=1;T<L.fns.length;T++)L.fns[T]()}else Fr(y);y=y.parent}n(g)?C(0,[t],0,0):n(t.tag)&&b(t)}}return A(e,d,p),e.elm}n(t)&&b(t)}}({nodeOps:Nr,modules:[Jr,ai,Hi,Pi,Xi,V?{create:yn,activate:yn,remove:function(t,e){!0!==t.data.show?vn(t,e):e()}}:{}].concat(qr)});q&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Ln(t,"input")});var Cn={inserted:function(t,e,r,i){"select"===r.tag?(i.elm&&!i.elm._vOptions?oe(r,"postpatch",function(){Cn.componentUpdated(t,e,r)}):wn(t,e,r.context),t._vOptions=[].map.call(t.options,An)):("textarea"===r.tag||Ir(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("change",En),Q||(t.addEventListener("compositionstart",kn),t.addEventListener("compositionend",En)),q&&(t.vmodel=!0)))},componentUpdated:function(t,e,r){if("select"===r.tag){wn(t,e,r.context);var i=t._vOptions,n=t._vOptions=[].map.call(t.options,An);if(n.some(function(t,e){return!H(t,i[e])}))(t.multiple?e.value.some(function(t){return Sn(t,n)}):e.value!==e.oldValue&&Sn(e.value,n))&&Ln(t,"change")}}};function wn(t,e,r){xn(t,e,r),(Z||Y)&&setTimeout(function(){xn(t,e,r)},0)}function xn(t,e,r){var i=e.value,n=t.multiple;if(!n||Array.isArray(i)){for(var o,s,a=0,l=t.options.length;a<l;a++)if(s=t.options[a],n)o=D(i,An(s))>-1,s.selected!==o&&(s.selected=o);else if(H(An(s),i))return void(t.selectedIndex!==a&&(t.selectedIndex=a));n||(t.selectedIndex=-1)}}function Sn(t,e){return e.every(function(e){return!H(e,t)})}function An(t){return"_value"in t?t._value:t.value}function kn(t){t.target.composing=!0}function En(t){t.target.composing&&(t.target.composing=!1,Ln(t.target,"input"))}function Ln(t,e){var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}function Tn(t){return!t.componentInstance||t.data&&t.data.transition?t:Tn(t.componentInstance._vnode)}var Mn={model:Cn,show:{bind:function(t,e,r){var i=e.value,n=(r=Tn(r)).data&&r.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&n?(r.data.show=!0,mn(r,function(){t.style.display=o})):t.style.display=i?o:"none"},update:function(t,e,r){var i=e.value;i!==e.oldValue&&((r=Tn(r)).data&&r.data.transition?(r.data.show=!0,i?mn(r,function(){t.style.display=t.__vOriginalDisplay}):vn(r,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,r,i,n){n||(t.style.display=t.__vOriginalDisplay)}}},Rn={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function On(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?On(he(e.children)):t}function Hn(t){var e={},r=t.$options;for(var i in r.propsData)e[i]=t[i];var n=r._parentListeners;for(var o in n)e[w(o)]=n[o];return e}function Dn(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var In={name:"transition",props:Rn,abstract:!0,render:function(t){var e=this,r=this.$slots.default;if(r&&(r=r.filter(function(t){return t.tag||ue(t)})).length){0;var i=this.mode;0;var n=r[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return n;var o=On(n);if(!o)return n;if(this._leaving)return Dn(t,n);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var l=(o.data||(o.data={})).transition=Hn(this),c=this._vnode,u=On(c);if(o.data.directives&&o.data.directives.some(function(t){return"show"===t.name})&&(o.data.show=!0),u&&u.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,u)&&!ue(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=L({},l);if("out-in"===i)return this._leaving=!0,oe(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Dn(t,n);if("in-out"===i){if(ue(o))return c;var f,p=function(){f()};oe(l,"afterEnter",p),oe(l,"enterCancelled",p),oe(h,"delayLeave",function(t){f=t})}}return n}}},Pn=L({tag:String,moveClass:String},Rn);function Nn(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Bn(t){t.data.newPos=t.elm.getBoundingClientRect()}function Fn(t){var e=t.data.pos,r=t.data.newPos,i=e.left-r.left,n=e.top-r.top;if(i||n){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+n+"px)",o.transitionDuration="0s"}}delete Pn.mode;var Wn={Transition:In,TransitionGroup:{props:Pn,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),i=this.prevChildren=this.children,n=this.$slots.default||[],o=this.children=[],s=Hn(this),a=0;a<n.length;a++){var l=n[a];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),r[l.key]=l,(l.data||(l.data={})).transition=s;else;}if(i){for(var c=[],u=[],h=0;h<i.length;h++){var f=i[h];f.data.transition=s,f.data.pos=f.elm.getBoundingClientRect(),r[f.key]?c.push(f):u.push(f)}this.kept=t(e,null,c),this.removed=u}return t(e,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Nn),t.forEach(Bn),t.forEach(Fn),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var r=t.elm,i=r.style;ln(r,e),i.transform=i.WebkitTransform=i.transitionDuration="",r.addEventListener(rn,r._moveCb=function t(i){i&&!/transform$/.test(i.propertyName)||(r.removeEventListener(rn,t),r._moveCb=null,cn(r,e))})}}))},methods:{hasMove:function(t,e){if(!Qi)return!1;if(this._hasMove)return this._hasMove;var r=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Zi(r,t)}),Gi(r,e),r.style.display="none",this.$el.appendChild(r);var i=fn(r);return this.$el.removeChild(r),this._hasMove=i.hasTransform}}}};lr.config.mustUseProp=gr,lr.config.isReservedTag=Or,lr.config.isReservedAttr=vr,lr.config.getTagNamespace=Hr,lr.config.isUnknownElement=function(t){if(!V)return!0;if(Or(t))return!1;if(t=t.toLowerCase(),null!=Dr[t])return Dr[t];var e=document.createElement(t);return t.indexOf("-")>-1?Dr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Dr[t]=/HTMLUnknownElement/.test(e.toString())},L(lr.options.directives,Mn),L(lr.options.components,Wn),lr.prototype.__patch__=V?bn:M,lr.prototype.$mount=function(t,e){return function(t,e,r){return t.$el=e,t.$options.render||(t.$options.render=dt),Ce(t,"beforeMount"),new Me(t,function(){t._update(t._render(),r)},M,null,!0),r=!1,null==t.$vnode&&(t._isMounted=!0,Ce(t,"mounted")),t}(this,t=t&&V?Pr(t):void 0,e)},lr.nextTick(function(){F.devtools&&nt&&nt.emit("init",lr)},0);var jn=/\{\{((?:.|\n)+?)\}\}/g,$n=/[-.*+?^${}()|[\]\/\\]/g,zn=b(function(t){var e=t[0].replace($n,"\\$&"),r=t[1].replace($n,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+r,"g")});function Un(t,e){var r=e?zn(e):jn;if(r.test(t)){for(var i,n,o,s=[],a=[],l=r.lastIndex=0;i=r.exec(t);){(n=i.index)>l&&(a.push(o=t.slice(l,n)),s.push(JSON.stringify(o)));var c=ci(i[1].trim());s.push("_s("+c+")"),a.push({"@binding":c}),l=n+i[0].length}return l<t.length&&(a.push(o=t.slice(l)),s.push(JSON.stringify(o))),{expression:s.join("+"),tokens:a}}}var Vn={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var r=yi(t,"class");r&&(t.staticClass=JSON.stringify(r));var i=gi(t,"class",!1);i&&(t.classBinding=i)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}};var Kn,Xn={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var r=yi(t,"style");r&&(t.staticStyle=JSON.stringify(Ni(r)));var i=gi(t,"style",!1);i&&(t.styleBinding=i)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},Gn=function(t){return(Kn=Kn||document.createElement("div")).innerHTML=t,Kn.textContent},Zn=d("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),qn=d("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Yn=d("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Qn=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Jn="[a-zA-Z_][\\w\\-\\.]*",to="((?:"+Jn+"\\:)?"+Jn+")",eo=new RegExp("^<"+to),ro=/^\s*(\/?)>/,io=new RegExp("^<\\/"+to+"[^>]*>"),no=/^<!DOCTYPE [^>]+>/i,oo=/^<!--/,so=/^<!\[/,ao=!1;"x".replace(/x(.)?/g,function(t,e){ao=""===e});var lo=d("script,style,textarea",!0),co={},uo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},ho=/&(?:lt|gt|quot|amp);/g,fo=/&(?:lt|gt|quot|amp|#10|#9);/g,po=d("pre,textarea",!0),mo=function(t,e){return t&&po(t)&&"\n"===e[0]};function vo(t,e){var r=e?fo:ho;return t.replace(r,function(t){return uo[t]})}var _o,go,yo,bo,Co,wo,xo,So,Ao=/^@|^v-on:/,ko=/^v-|^@|^:/,Eo=/(.*?)\s+(?:in|of)\s+(.*)/,Lo=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,To=/^\(|\)$/g,Mo=/:(.*)$/,Ro=/^:|^v-bind:/,Oo=/\.[^.]+/g,Ho=b(Gn);function Do(t,e,r){return{type:1,tag:t,attrsList:e,attrsMap:function(t){for(var e={},r=0,i=t.length;r<i;r++)e[t[r].name]=t[r].value;return e}(e),parent:r,children:[]}}function Io(t,e){_o=e.warn||hi,wo=e.isPreTag||R,xo=e.mustUseProp||R,So=e.getTagNamespace||R,yo=fi(e.modules,"transformNode"),bo=fi(e.modules,"preTransformNode"),Co=fi(e.modules,"postTransformNode"),go=e.delimiters;var r,i,n=[],o=!1!==e.preserveWhitespace,s=!1,a=!1;function l(t){t.pre&&(s=!1),wo(t.tag)&&(a=!1);for(var r=0;r<Co.length;r++)Co[r](t,e)}return function(t,e){for(var r,i,n=[],o=e.expectHTML,s=e.isUnaryTag||R,a=e.canBeLeftOpenTag||R,l=0;t;){if(r=t,i&&lo(i)){var c=0,u=i.toLowerCase(),h=co[u]||(co[u]=new RegExp("([\\s\\S]*?)(</"+u+"[^>]*>)","i")),f=t.replace(h,function(t,r,i){return c=i.length,lo(u)||"noscript"===u||(r=r.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),mo(u,r)&&(r=r.slice(1)),e.chars&&e.chars(r),""});l+=t.length-f.length,t=f,k(u,l-c,l)}else{var p=t.indexOf("<");if(0===p){if(oo.test(t)){var d=t.indexOf("--\x3e");if(d>=0){e.shouldKeepComment&&e.comment(t.substring(4,d)),x(d+3);continue}}if(so.test(t)){var m=t.indexOf("]>");if(m>=0){x(m+2);continue}}var v=t.match(no);if(v){x(v[0].length);continue}var _=t.match(io);if(_){var g=l;x(_[0].length),k(_[1],g,l);continue}var y=S();if(y){A(y),mo(i,t)&&x(1);continue}}var b=void 0,C=void 0,w=void 0;if(p>=0){for(C=t.slice(p);!(io.test(C)||eo.test(C)||oo.test(C)||so.test(C)||(w=C.indexOf("<",1))<0);)p+=w,C=t.slice(p);b=t.substring(0,p),x(p)}p<0&&(b=t,t=""),e.chars&&b&&e.chars(b)}if(t===r){e.chars&&e.chars(t);break}}function x(e){l+=e,t=t.substring(e)}function S(){var e=t.match(eo);if(e){var r,i,n={tagName:e[1],attrs:[],start:l};for(x(e[0].length);!(r=t.match(ro))&&(i=t.match(Qn));)x(i[0].length),n.attrs.push(i);if(r)return n.unarySlash=r[1],x(r[0].length),n.end=l,n}}function A(t){var r=t.tagName,l=t.unarySlash;o&&("p"===i&&Yn(r)&&k(i),a(r)&&i===r&&k(r));for(var c=s(r)||!!l,u=t.attrs.length,h=new Array(u),f=0;f<u;f++){var p=t.attrs[f];ao&&-1===p[0].indexOf('""')&&(""===p[3]&&delete p[3],""===p[4]&&delete p[4],""===p[5]&&delete p[5]);var d=p[3]||p[4]||p[5]||"",m="a"===r&&"href"===p[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;h[f]={name:p[1],value:vo(d,m)}}c||(n.push({tag:r,lowerCasedTag:r.toLowerCase(),attrs:h}),i=r),e.start&&e.start(r,h,c,t.start,t.end)}function k(t,r,o){var s,a;if(null==r&&(r=l),null==o&&(o=l),t&&(a=t.toLowerCase()),t)for(s=n.length-1;s>=0&&n[s].lowerCasedTag!==a;s--);else s=0;if(s>=0){for(var c=n.length-1;c>=s;c--)e.end&&e.end(n[c].tag,r,o);n.length=s,i=s&&n[s-1].tag}else"br"===a?e.start&&e.start(t,[],!0,r,o):"p"===a&&(e.start&&e.start(t,[],!1,r,o),e.end&&e.end(t,r,o))}k()}(t,{warn:_o,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,start:function(t,o,c){var u=i&&i.ns||So(t);Z&&"svg"===u&&(o=function(t){for(var e=[],r=0;r<t.length;r++){var i=t[r];Wo.test(i.name)||(i.name=i.name.replace(jo,""),e.push(i))}return e}(o));var h,f=Do(t,o,i);u&&(f.ns=u),"style"!==(h=f).tag&&("script"!==h.tag||h.attrsMap.type&&"text/javascript"!==h.attrsMap.type)||it()||(f.forbidden=!0);for(var p=0;p<bo.length;p++)f=bo[p](f,e)||f;function d(t){0}if(s||(!function(t){null!=yi(t,"v-pre")&&(t.pre=!0)}(f),f.pre&&(s=!0)),wo(f.tag)&&(a=!0),s?function(t){var e=t.attrsList.length;if(e)for(var r=t.attrs=new Array(e),i=0;i<e;i++)r[i]={name:t.attrsList[i].name,value:JSON.stringify(t.attrsList[i].value)};else t.pre||(t.plain=!0)}(f):f.processed||(No(f),function(t){var e=yi(t,"v-if");if(e)t.if=e,Bo(t,{exp:e,block:t});else{null!=yi(t,"v-else")&&(t.else=!0);var r=yi(t,"v-else-if");r&&(t.elseif=r)}}(f),function(t){null!=yi(t,"v-once")&&(t.once=!0)}(f),Po(f,e)),r?n.length||r.if&&(f.elseif||f.else)&&(d(),Bo(r,{exp:f.elseif,block:f})):(r=f,d()),i&&!f.forbidden)if(f.elseif||f.else)!function(t,e){var r=function(t){var e=t.length;for(;e--;){if(1===t[e].type)return t[e];t.pop()}}(e.children);r&&r.if&&Bo(r,{exp:t.elseif,block:t})}(f,i);else if(f.slotScope){i.plain=!1;var m=f.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[m]=f}else i.children.push(f),f.parent=i;c?l(f):(i=f,n.push(f))},end:function(){var t=n[n.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!a&&t.children.pop(),n.length-=1,i=n[n.length-1],l(t)},chars:function(t){if(i&&(!Z||"textarea"!==i.tag||i.attrsMap.placeholder!==t)){var e,r,n=i.children;if(t=a||t.trim()?"script"===(e=i).tag||"style"===e.tag?t:Ho(t):o&&n.length?" ":"")!s&&" "!==t&&(r=Un(t,go))?n.push({type:2,expression:r.expression,tokens:r.tokens,text:t}):" "===t&&n.length&&" "===n[n.length-1].text||n.push({type:3,text:t})}},comment:function(t){i.children.push({type:3,text:t,isComment:!0})}}),r}function Po(t,e){var r,i;(i=gi(r=t,"key"))&&(r.key=i),t.plain=!t.key&&!t.attrsList.length,function(t){var e=gi(t,"ref");e&&(t.ref=e,t.refInFor=function(t){var e=t;for(;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){if("slot"===t.tag)t.slotName=gi(t,"name");else{var e;"template"===t.tag?(e=yi(t,"scope"),t.slotScope=e||yi(t,"slot-scope")):(e=yi(t,"slot-scope"))&&(t.slotScope=e);var r=gi(t,"slot");r&&(t.slotTarget='""'===r?'"default"':r,"template"===t.tag||t.slotScope||di(t,"slot",r))}}(t),function(t){var e;(e=gi(t,"is"))&&(t.component=e);null!=yi(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var n=0;n<yo.length;n++)t=yo[n](t,e)||t;!function(t){var e,r,i,n,o,s,a,l=t.attrsList;for(e=0,r=l.length;e<r;e++){if(i=n=l[e].name,o=l[e].value,ko.test(i))if(t.hasBindings=!0,(s=Fo(i))&&(i=i.replace(Oo,"")),Ro.test(i))i=i.replace(Ro,""),o=ci(o),a=!1,s&&(s.prop&&(a=!0,"innerHtml"===(i=w(i))&&(i="innerHTML")),s.camel&&(i=w(i)),s.sync&&_i(t,"update:"+w(i),Ci(o,"$event"))),a||!t.component&&xo(t.tag,t.attrsMap.type,i)?pi(t,i,o):di(t,i,o);else if(Ao.test(i))i=i.replace(Ao,""),_i(t,i,o,s,!1);else{var c=(i=i.replace(ko,"")).match(Mo),u=c&&c[1];u&&(i=i.slice(0,-(u.length+1))),vi(t,i,n,o,u,s)}else di(t,i,JSON.stringify(o)),!t.component&&"muted"===i&&xo(t.tag,t.attrsMap.type,i)&&pi(t,i,"true")}}(t)}function No(t){var e;if(e=yi(t,"v-for")){var r=function(t){var e=t.match(Eo);if(!e)return;var r={};r.for=e[2].trim();var i=e[1].trim().replace(To,""),n=i.match(Lo);n?(r.alias=i.replace(Lo,""),r.iterator1=n[1].trim(),n[2]&&(r.iterator2=n[2].trim())):r.alias=i;return r}(e);r&&L(t,r)}}function Bo(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function Fo(t){var e=t.match(Oo);if(e){var r={};return e.forEach(function(t){r[t.slice(1)]=!0}),r}}var Wo=/^xmlns:NS\d+/,jo=/^NS\d+:/;function $o(t){return Do(t.tag,t.attrsList.slice(),t.parent)}var zo=[Vn,Xn,{preTransformNode:function(t,e){if("input"===t.tag){var r=t.attrsMap;if(r["v-model"]&&(r["v-bind:type"]||r[":type"])){var i=gi(t,"type"),n=yi(t,"v-if",!0),o=n?"&&("+n+")":"",s=null!=yi(t,"v-else",!0),a=yi(t,"v-else-if",!0),l=$o(t);No(l),mi(l,"type","checkbox"),Po(l,e),l.processed=!0,l.if="("+i+")==='checkbox'"+o,Bo(l,{exp:l.if,block:l});var c=$o(t);yi(c,"v-for",!0),mi(c,"type","radio"),Po(c,e),Bo(l,{exp:"("+i+")==='radio'"+o,block:c});var u=$o(t);return yi(u,"v-for",!0),mi(u,":type",i),Po(u,e),Bo(l,{exp:n,block:u}),s?l.else=!0:a&&(l.elseif=a),l}}}}];var Uo,Vo,Ko={expectHTML:!0,modules:zo,directives:{model:function(t,e,r){r;var i=e.value,n=e.modifiers,o=t.tag,s=t.attrsMap.type;if(t.component)return bi(t,i,n),!1;if("select"===o)!function(t,e,r){var i='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r&&r.number?"_n(val)":"val")+"});";i=i+" "+Ci(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),_i(t,"change",i,null,!0)}(t,i,n);else if("input"===o&&"checkbox"===s)!function(t,e,r){var i=r&&r.number,n=gi(t,"value")||"null",o=gi(t,"true-value")||"true",s=gi(t,"false-value")||"false";pi(t,"checked","Array.isArray("+e+")?_i("+e+","+n+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),_i(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+s+");if(Array.isArray($$a)){var $$v="+(i?"_n("+n+")":n)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+e+"=$$a.concat([$$v]))}else{$$i>-1&&("+e+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+Ci(e,"$$c")+"}",null,!0)}(t,i,n);else if("input"===o&&"radio"===s)!function(t,e,r){var i=r&&r.number,n=gi(t,"value")||"null";pi(t,"checked","_q("+e+","+(n=i?"_n("+n+")":n)+")"),_i(t,"change",Ci(e,n),null,!0)}(t,i,n);else if("input"===o||"textarea"===o)!function(t,e,r){var i=t.attrsMap.type,n=r||{},o=n.lazy,s=n.number,a=n.trim,l=!o&&"range"!==i,c=o?"change":"range"===i?Li:"input",u="$event.target.value";a&&(u="$event.target.value.trim()"),s&&(u="_n("+u+")");var h=Ci(e,u);l&&(h="if($event.target.composing)return;"+h),pi(t,"value","("+e+")"),_i(t,c,h,null,!0),(a||s)&&_i(t,"blur","$forceUpdate()")}(t,i,n);else if(!F.isReservedTag(o))return bi(t,i,n),!1;return!0},text:function(t,e){e.value&&pi(t,"textContent","_s("+e.value+")")},html:function(t,e){e.value&&pi(t,"innerHTML","_s("+e.value+")")}},isPreTag:function(t){return"pre"===t},isUnaryTag:Zn,mustUseProp:gr,canBeLeftOpenTag:qn,isReservedTag:Or,getTagNamespace:Hr,staticKeys:function(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}(zo)},Xo=b(function(t){return d("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))});function Go(t,e){t&&(Uo=Xo(e.staticKeys||""),Vo=e.isReservedTag||R,function t(e){e.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||m(t.tag)||!Vo(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(Uo)))}(e);if(1===e.type){if(!Vo(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var r=0,i=e.children.length;r<i;r++){var n=e.children[r];t(n),n.static||(e.static=!1)}if(e.ifConditions)for(var o=1,s=e.ifConditions.length;o<s;o++){var a=e.ifConditions[o].block;t(a),a.static||(e.static=!1)}}}(t),function t(e,r){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=r),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var i=0,n=e.children.length;i<n;i++)t(e.children[i],r||!!e.for);if(e.ifConditions)for(var o=1,s=e.ifConditions.length;o<s;o++)t(e.ifConditions[o].block,r)}}(t,!1))}var Zo=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,qo=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,Yo={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Qo=function(t){return"if("+t+")return null;"},Jo={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Qo("$event.target !== $event.currentTarget"),ctrl:Qo("!$event.ctrlKey"),shift:Qo("!$event.shiftKey"),alt:Qo("!$event.altKey"),meta:Qo("!$event.metaKey"),left:Qo("'button' in $event && $event.button !== 0"),middle:Qo("'button' in $event && $event.button !== 1"),right:Qo("'button' in $event && $event.button !== 2")};function ts(t,e,r){var i=e?"nativeOn:{":"on:{";for(var n in t)i+='"'+n+'":'+es(n,t[n])+",";return i.slice(0,-1)+"}"}function es(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return es(t,e)}).join(",")+"]";var r=qo.test(e.value),i=Zo.test(e.value);if(e.modifiers){var n="",o="",s=[];for(var a in e.modifiers)if(Jo[a])o+=Jo[a],Yo[a]&&s.push(a);else if("exact"===a){var l=e.modifiers;o+=Qo(["ctrl","shift","alt","meta"].filter(function(t){return!l[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else s.push(a);return s.length&&(n+=function(t){return"if(!('button' in $event)&&"+t.map(rs).join("&&")+")return null;"}(s)),o&&(n+=o),"function($event){"+n+(r?e.value+"($event)":i?"("+e.value+")($event)":e.value)+"}"}return r||i?e.value:"function($event){"+e.value+"}"}function rs(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var r=Yo[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(r)+",$event.key)"}var is={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(r){return"_b("+r+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:M},ns=function(t){this.options=t,this.warn=t.warn||hi,this.transforms=fi(t.modules,"transformCode"),this.dataGenFns=fi(t.modules,"genData"),this.directives=L(L({},is),t.directives);var e=t.isReservedTag||R;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]};function os(t,e){var r=new ns(e);return{render:"with(this){return "+(t?ss(t,r):'_c("div")')+"}",staticRenderFns:r.staticRenderFns}}function ss(t,e){if(t.staticRoot&&!t.staticProcessed)return as(t,e);if(t.once&&!t.onceProcessed)return ls(t,e);if(t.for&&!t.forProcessed)return function(t,e,r,i){var n=t.for,o=t.alias,s=t.iterator1?","+t.iterator1:"",a=t.iterator2?","+t.iterator2:"";0;return t.forProcessed=!0,(i||"_l")+"(("+n+"),function("+o+s+a+"){return "+(r||ss)(t,e)+"})"}(t,e);if(t.if&&!t.ifProcessed)return cs(t,e);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return function(t,e){var r=t.slotName||'"default"',i=fs(t,e),n="_t("+r+(i?","+i:""),o=t.attrs&&"{"+t.attrs.map(function(t){return w(t.name)+":"+t.value}).join(",")+"}",s=t.attrsMap["v-bind"];!o&&!s||i||(n+=",null");o&&(n+=","+o);s&&(n+=(o?"":",null")+","+s);return n+")"}(t,e);var r;if(t.component)r=function(t,e,r){var i=e.inlineTemplate?null:fs(e,r,!0);return"_c("+t+","+us(e,r)+(i?","+i:"")+")"}(t.component,t,e);else{var i=t.plain?void 0:us(t,e),n=t.inlineTemplate?null:fs(t,e,!0);r="_c('"+t.tag+"'"+(i?","+i:"")+(n?","+n:"")+")"}for(var o=0;o<e.transforms.length;o++)r=e.transforms[o](t,r);return r}return fs(t,e)||"void 0"}function as(t,e){return t.staticProcessed=!0,e.staticRenderFns.push("with(this){return "+ss(t,e)+"}"),"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function ls(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return cs(t,e);if(t.staticInFor){for(var r="",i=t.parent;i;){if(i.for){r=i.key;break}i=i.parent}return r?"_o("+ss(t,e)+","+e.onceId+++","+r+")":ss(t,e)}return as(t,e)}function cs(t,e,r,i){return t.ifProcessed=!0,function t(e,r,i,n){if(!e.length)return n||"_e()";var o=e.shift();return o.exp?"("+o.exp+")?"+s(o.block)+":"+t(e,r,i,n):""+s(o.block);function s(t){return i?i(t,r):t.once?ls(t,r):ss(t,r)}}(t.ifConditions.slice(),e,r,i)}function us(t,e){var r="{",i=function(t,e){var r=t.directives;if(!r)return;var i,n,o,s,a="directives:[",l=!1;for(i=0,n=r.length;i<n;i++){o=r[i],s=!0;var c=e.directives[o.name];c&&(s=!!c(t,o,e.warn)),s&&(l=!0,a+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?',arg:"'+o.arg+'"':"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(l)return a.slice(0,-1)+"]"}(t,e);i&&(r+=i+","),t.key&&(r+="key:"+t.key+","),t.ref&&(r+="ref:"+t.ref+","),t.refInFor&&(r+="refInFor:true,"),t.pre&&(r+="pre:true,"),t.component&&(r+='tag:"'+t.tag+'",');for(var n=0;n<e.dataGenFns.length;n++)r+=e.dataGenFns[n](t);if(t.attrs&&(r+="attrs:{"+ms(t.attrs)+"},"),t.props&&(r+="domProps:{"+ms(t.props)+"},"),t.events&&(r+=ts(t.events,!1,e.warn)+","),t.nativeEvents&&(r+=ts(t.nativeEvents,!0,e.warn)+","),t.slotTarget&&!t.slotScope&&(r+="slot:"+t.slotTarget+","),t.scopedSlots&&(r+=function(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(r){return hs(r,t[r],e)}).join(",")+"])"}(t.scopedSlots,e)+","),t.model&&(r+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=function(t,e){var r=t.children[0];0;if(1===r.type){var i=os(r,e.options);return"inlineTemplate:{render:function(){"+i.render+"},staticRenderFns:["+i.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}(t,e);o&&(r+=o+",")}return r=r.replace(/,$/,"")+"}",t.wrapData&&(r=t.wrapData(r)),t.wrapListeners&&(r=t.wrapListeners(r)),r}function hs(t,e,r){return e.for&&!e.forProcessed?function(t,e,r){var i=e.for,n=e.alias,o=e.iterator1?","+e.iterator1:"",s=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+i+"),function("+n+o+s+"){return "+hs(t,e,r)+"})"}(t,e,r):"{key:"+t+",fn:"+("function("+String(e.slotScope)+"){return "+("template"===e.tag?e.if?e.if+"?"+(fs(e,r)||"undefined")+":undefined":fs(e,r)||"undefined":ss(e,r))+"}")+"}"}function fs(t,e,r,i,n){var o=t.children;if(o.length){var s=o[0];if(1===o.length&&s.for&&"template"!==s.tag&&"slot"!==s.tag)return(i||ss)(s,e);var a=r?function(t,e){for(var r=0,i=0;i<t.length;i++){var n=t[i];if(1===n.type){if(ps(n)||n.ifConditions&&n.ifConditions.some(function(t){return ps(t.block)})){r=2;break}(e(n)||n.ifConditions&&n.ifConditions.some(function(t){return e(t.block)}))&&(r=1)}}return r}(o,e.maybeComponent):0,l=n||ds;return"["+o.map(function(t){return l(t,e)}).join(",")+"]"+(a?","+a:"")}}function ps(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function ds(t,e){return 1===t.type?ss(t,e):3===t.type&&t.isComment?(i=t,"_e("+JSON.stringify(i.text)+")"):"_v("+(2===(r=t).type?r.expression:vs(JSON.stringify(r.text)))+")";var r,i}function ms(t){for(var e="",r=0;r<t.length;r++){var i=t[r];e+='"'+i.name+'":'+vs(i.value)+","}return e.slice(0,-1)}function vs(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function _s(t,e){try{return new Function(t)}catch(r){return e.push({err:r,code:t}),M}}var gs,ys,bs=(gs=function(t,e){var r=Io(t.trim(),e);!1!==e.optimize&&Go(r,e);var i=os(r,e);return{ast:r,render:i.render,staticRenderFns:i.staticRenderFns}},function(t){function e(e,r){var i=Object.create(t),n=[],o=[];if(i.warn=function(t,e){(e?o:n).push(t)},r)for(var s in r.modules&&(i.modules=(t.modules||[]).concat(r.modules)),r.directives&&(i.directives=L(Object.create(t.directives||null),r.directives)),r)"modules"!==s&&"directives"!==s&&(i[s]=r[s]);var a=gs(e,i);return a.errors=n,a.tips=o,a}return{compile:e,compileToFunctions:function(t){var e=Object.create(null);return function(r,i,n){(i=L({},i)).warn,delete i.warn;var o=i.delimiters?String(i.delimiters)+r:r;if(e[o])return e[o];var s=t(r,i),a={},l=[];return a.render=_s(s.render,l),a.staticRenderFns=s.staticRenderFns.map(function(t){return _s(t,l)}),e[o]=a}}(e)}})(Ko).compileToFunctions;function Cs(t){return(ys=ys||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',ys.innerHTML.indexOf("&#10;")>0}var ws=!!V&&Cs(!1),xs=!!V&&Cs(!0),Ss=b(function(t){var e=Pr(t);return e&&e.innerHTML}),As=lr.prototype.$mount;lr.prototype.$mount=function(t,e){if((t=t&&Pr(t))===document.body||t===document.documentElement)return this;var r=this.$options;if(!r.render){var i=r.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&(i=Ss(i));else{if(!i.nodeType)return this;i=i.innerHTML}else t&&(i=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(i){0;var n=bs(i,{shouldDecodeNewlines:ws,shouldDecodeNewlinesForHref:xs,delimiters:r.delimiters,comments:r.comments},this),o=n.render,s=n.staticRenderFns;r.render=o,r.staticRenderFns=s}}return As.call(this,t,e)},lr.compile=bs,e.a=lr}).call(e,r("DuR2"))},"8U58":function(t,e,r){var i;i=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,r=/gecko\/\d/i.test(t),i=/MSIE \d/.test(t),n=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),s=i||n||o,a=s&&(i?document.documentMode||6:+(o||n)[1]),l=!o&&/WebKit\//.test(t),c=l&&/Qt\/\d+\.\d+/.test(t),u=!o&&/Chrome\//.test(t),h=/Opera\//.test(t),f=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),d=/PhantomJS/.test(t),m=!o&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),v=/Android/.test(t),_=m||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),g=m||/Mac/.test(e),y=/\bCrOS\b/.test(t),b=/win/i.test(e),C=h&&t.match(/Version\/(\d*\.\d*)/);C&&(C=Number(C[1])),C&&C>=15&&(h=!1,l=!0);var w=g&&(c||h&&(null==C||C<12.11)),x=r||s&&a>=9;function S(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var A,k=function(t,e){var r=t.className,i=S(e).exec(r);if(i){var n=r.slice(i.index+i[0].length);t.className=r.slice(0,i.index)+(n?i[1]+n:"")}};function E(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function L(t,e){return E(t).appendChild(e)}function T(t,e,r,i){var n=document.createElement(t);if(r&&(n.className=r),i&&(n.style.cssText=i),"string"==typeof e)n.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)n.appendChild(e[o]);return n}function M(t,e,r,i){var n=T(t,e,r,i);return n.setAttribute("role","presentation"),n}function R(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function O(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function H(t,e){var r=t.className;S(e).test(r)||(t.className+=(r?" ":"")+e)}function D(t,e){for(var r=t.split(" "),i=0;i<r.length;i++)r[i]&&!S(r[i]).test(e)&&(e+=" "+r[i]);return e}A=document.createRange?function(t,e,r,i){var n=document.createRange();return n.setEnd(i||t,r),n.setStart(t,e),n}:function(t,e,r){var i=document.body.createTextRange();try{i.moveToElementText(t.parentNode)}catch(t){return i}return i.collapse(!0),i.moveEnd("character",r),i.moveStart("character",e),i};var I=function(t){t.select()};function P(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function N(t,e,r){for(var i in e||(e={}),t)!t.hasOwnProperty(i)||!1===r&&e.hasOwnProperty(i)||(e[i]=t[i]);return e}function B(t,e,r,i,n){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=i||0,s=n||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=r-s%r,o=a+1}}m?I=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:s&&(I=function(t){try{t.select()}catch(t){}});var F=function(){this.id=null};function W(t,e){for(var r=0;r<t.length;++r)if(t[r]==e)return r;return-1}F.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var j=30,$={toString:function(){return"CodeMirror.Pass"}},z={scroll:!1},U={origin:"*mouse"},V={origin:"+move"};function K(t,e,r){for(var i=0,n=0;;){var o=t.indexOf("\t",i);-1==o&&(o=t.length);var s=o-i;if(o==t.length||n+s>=e)return i+Math.min(s,e-n);if(n+=o-i,i=o+1,(n+=r-n%r)>=e)return i}}var X=[""];function G(t){for(;X.length<=t;)X.push(Z(X)+" ");return X[t]}function Z(t){return t[t.length-1]}function q(t,e){for(var r=[],i=0;i<t.length;i++)r[i]=e(t[i],i);return r}function Y(){}function Q(t,e){var r;return Object.create?r=Object.create(t):(Y.prototype=t,r=new Y),e&&N(e,r),r}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tt(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||J.test(t))}function et(t,e){return e?!!(e.source.indexOf("\\w")>-1&&tt(t))||e.test(t):tt(t)}function rt(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var it=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function nt(t){return t.charCodeAt(0)>=768&&it.test(t)}function ot(t,e,r){for(;(r<0?e>0:e<t.length)&&nt(t.charAt(e));)e+=r;return e}function st(t,e,r){for(var i=e>r?-1:1;;){if(e==r)return e;var n=(e+r)/2,o=i<0?Math.ceil(n):Math.floor(n);if(o==e)return t(o)?e:r;t(o)?r=o:e=o+i}}function at(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var r=t;!r.lines;)for(var i=0;;++i){var n=r.children[i],o=n.chunkSize();if(e<o){r=n;break}e-=o}return r.lines[e]}function lt(t,e,r){var i=[],n=e.line;return t.iter(e.line,r.line+1,function(t){var o=t.text;n==r.line&&(o=o.slice(0,r.ch)),n==e.line&&(o=o.slice(e.ch)),i.push(o),++n}),i}function ct(t,e,r){var i=[];return t.iter(e,r,function(t){i.push(t.text)}),i}function ut(t,e){var r=e-t.height;if(r)for(var i=t;i;i=i.parent)i.height+=r}function ht(t){if(null==t.parent)return null;for(var e=t.parent,r=W(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var n=0;i.children[n]!=e;++n)r+=i.children[n].chunkSize();return r+e.first}function ft(t,e){var r=t.first;t:do{for(var i=0;i<t.children.length;++i){var n=t.children[i],o=n.height;if(e<o){t=n;continue t}e-=o,r+=n.chunkSize()}return r}while(!t.lines);for(var s=0;s<t.lines.length;++s){var a=t.lines[s].height;if(e<a)break;e-=a}return r+s}function pt(t,e){return e>=t.first&&e<t.first+t.size}function dt(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function mt(t,e,r){if(void 0===r&&(r=null),!(this instanceof mt))return new mt(t,e,r);this.line=t,this.ch=e,this.sticky=r}function vt(t,e){return t.line-e.line||t.ch-e.ch}function _t(t,e){return t.sticky==e.sticky&&0==vt(t,e)}function gt(t){return mt(t.line,t.ch)}function yt(t,e){return vt(t,e)<0?e:t}function bt(t,e){return vt(t,e)<0?t:e}function Ct(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function wt(t,e){if(e.line<t.first)return mt(t.first,0);var r=t.first+t.size-1;return e.line>r?mt(r,at(t,r).text.length):function(t,e){var r=t.ch;return null==r||r>e?mt(t.line,e):r<0?mt(t.line,0):t}(e,at(t,e.line).text.length)}function xt(t,e){for(var r=[],i=0;i<e.length;i++)r[i]=wt(t,e[i]);return r}var St=!1,At=!1;function kt(t,e,r){this.marker=t,this.from=e,this.to=r}function Et(t,e){if(t)for(var r=0;r<t.length;++r){var i=t[r];if(i.marker==e)return i}}function Lt(t,e){for(var r,i=0;i<t.length;++i)t[i]!=e&&(r||(r=[])).push(t[i]);return r}function Tt(t,e){if(e.full)return null;var r=pt(t,e.from.line)&&at(t,e.from.line).markedSpans,i=pt(t,e.to.line)&&at(t,e.to.line).markedSpans;if(!r&&!i)return null;var n=e.from.ch,o=e.to.ch,s=0==vt(e.from,e.to),a=function(t,e,r){var i;if(t)for(var n=0;n<t.length;++n){var o=t[n],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==s.type&&(!r||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(i||(i=[])).push(new kt(s,o.from,a?null:o.to))}}return i}(r,n,s),l=function(t,e,r){var i;if(t)for(var n=0;n<t.length;++n){var o=t[n],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==s.type&&(!r||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(i||(i=[])).push(new kt(s,a?null:o.from-e,null==o.to?null:o.to-e))}}return i}(i,o,s),c=1==e.text.length,u=Z(e.text).length+(c?n:0);if(a)for(var h=0;h<a.length;++h){var f=a[h];if(null==f.to){var p=Et(l,f.marker);p?c&&(f.to=null==p.to?null:p.to+u):f.to=n}}if(l)for(var d=0;d<l.length;++d){var m=l[d];if(null!=m.to&&(m.to+=u),null==m.from)Et(a,m.marker)||(m.from=u,c&&(a||(a=[])).push(m));else m.from+=u,c&&(a||(a=[])).push(m)}a&&(a=Mt(a)),l&&l!=a&&(l=Mt(l));var v=[a];if(!c){var _,g=e.text.length-2;if(g>0&&a)for(var y=0;y<a.length;++y)null==a[y].to&&(_||(_=[])).push(new kt(a[y].marker,null,null));for(var b=0;b<g;++b)v.push(_);v.push(l)}return v}function Mt(t){for(var e=0;e<t.length;++e){var r=t[e];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Rt(t){var e=t.markedSpans;if(e){for(var r=0;r<e.length;++r)e[r].marker.detachLine(t);t.markedSpans=null}}function Ot(t,e){if(e){for(var r=0;r<e.length;++r)e[r].marker.attachLine(t);t.markedSpans=e}}function Ht(t){return t.inclusiveLeft?-1:0}function Dt(t){return t.inclusiveRight?1:0}function It(t,e){var r=t.lines.length-e.lines.length;if(0!=r)return r;var i=t.find(),n=e.find(),o=vt(i.from,n.from)||Ht(t)-Ht(e);if(o)return-o;var s=vt(i.to,n.to)||Dt(t)-Dt(e);return s||e.id-t.id}function Pt(t,e){var r,i=At&&t.markedSpans;if(i)for(var n=void 0,o=0;o<i.length;++o)(n=i[o]).marker.collapsed&&null==(e?n.from:n.to)&&(!r||It(r,n.marker)<0)&&(r=n.marker);return r}function Nt(t){return Pt(t,!0)}function Bt(t){return Pt(t,!1)}function Ft(t,e,r,i,n){var o=at(t,e),s=At&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=vt(c.from,r)||Ht(l.marker)-Ht(n),h=vt(c.to,i)||Dt(l.marker)-Dt(n);if(!(u>=0&&h<=0||u<=0&&h>=0)&&(u<=0&&(l.marker.inclusiveRight&&n.inclusiveLeft?vt(c.to,r)>=0:vt(c.to,r)>0)||u>=0&&(l.marker.inclusiveRight&&n.inclusiveLeft?vt(c.from,i)<=0:vt(c.from,i)<0)))return!0}}}function Wt(t){for(var e;e=Nt(t);)t=e.find(-1,!0).line;return t}function jt(t,e){var r=at(t,e),i=Wt(r);return r==i?e:ht(i)}function $t(t,e){if(e>t.lastLine())return e;var r,i=at(t,e);if(!zt(t,i))return e;for(;r=Bt(i);)i=r.find(1,!0).line;return ht(i)+1}function zt(t,e){var r=At&&e.markedSpans;if(r)for(var i=void 0,n=0;n<r.length;++n)if((i=r[n]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Ut(t,e,i))return!0}}function Ut(t,e,r){if(null==r.to){var i=r.marker.find(1,!0);return Ut(t,i.line,Et(i.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==e.text.length)return!0;for(var n=void 0,o=0;o<e.markedSpans.length;++o)if((n=e.markedSpans[o]).marker.collapsed&&!n.marker.widgetNode&&n.from==r.to&&(null==n.to||n.to!=r.from)&&(n.marker.inclusiveLeft||r.marker.inclusiveRight)&&Ut(t,e,n))return!0}function Vt(t){for(var e=0,r=(t=Wt(t)).parent,i=0;i<r.lines.length;++i){var n=r.lines[i];if(n==t)break;e+=n.height}for(var o=r.parent;o;o=(r=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==r)break;e+=a.height}return e}function Kt(t){if(0==t.height)return 0;for(var e,r=t.text.length,i=t;e=Nt(i);){var n=e.find(0,!0);i=n.from.line,r+=n.from.ch-n.to.ch}for(i=t;e=Bt(i);){var o=e.find(0,!0);r-=i.text.length-o.from.ch,r+=(i=o.to.line).text.length-o.to.ch}return r}function Xt(t){var e=t.display,r=t.doc;e.maxLine=at(r,r.first),e.maxLineLength=Kt(e.maxLine),e.maxLineChanged=!0,r.iter(function(t){var r=Kt(t);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=t)})}var Gt=null;function Zt(t,e,r){var i;Gt=null;for(var n=0;n<t.length;++n){var o=t[n];if(o.from<e&&o.to>e)return n;o.to==e&&(o.from!=o.to&&"before"==r?i=n:Gt=n),o.from==e&&(o.from!=o.to&&"before"!=r?i=n:Gt=n)}return null!=i?i:Gt}var qt=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,n=/[LRr]/,o=/[Lb1n]/,s=/[1n]/;function a(t,e,r){this.level=t,this.from=e,this.to=r}return function(l,c){var u="ltr"==c?"L":"R";if(0==l.length||"ltr"==c&&!r.test(l))return!1;for(var h,f=l.length,p=[],d=0;d<f;++d)p.push((h=l.charCodeAt(d))<=247?t.charAt(h):1424<=h&&h<=1524?"R":1536<=h&&h<=1785?e.charAt(h-1536):1774<=h&&h<=2220?"r":8192<=h&&h<=8203?"w":8204==h?"b":"L");for(var m=0,v=u;m<f;++m){var _=p[m];"m"==_?p[m]=v:v=_}for(var g=0,y=u;g<f;++g){var b=p[g];"1"==b&&"r"==y?p[g]="n":n.test(b)&&(y=b,"r"==b&&(p[g]="R"))}for(var C=1,w=p[0];C<f-1;++C){var x=p[C];"+"==x&&"1"==w&&"1"==p[C+1]?p[C]="1":","!=x||w!=p[C+1]||"1"!=w&&"n"!=w||(p[C]=w),w=x}for(var S=0;S<f;++S){var A=p[S];if(","==A)p[S]="N";else if("%"==A){var k=void 0;for(k=S+1;k<f&&"%"==p[k];++k);for(var E=S&&"!"==p[S-1]||k<f&&"1"==p[k]?"1":"N",L=S;L<k;++L)p[L]=E;S=k-1}}for(var T=0,M=u;T<f;++T){var R=p[T];"L"==M&&"1"==R?p[T]="L":n.test(R)&&(M=R)}for(var O=0;O<f;++O)if(i.test(p[O])){var H=void 0;for(H=O+1;H<f&&i.test(p[H]);++H);for(var D="L"==(O?p[O-1]:u),I=D==("L"==(H<f?p[H]:u))?D?"L":"R":u,P=O;P<H;++P)p[P]=I;O=H-1}for(var N,B=[],F=0;F<f;)if(o.test(p[F])){var W=F;for(++F;F<f&&o.test(p[F]);++F);B.push(new a(0,W,F))}else{var j=F,$=B.length;for(++F;F<f&&"L"!=p[F];++F);for(var z=j;z<F;)if(s.test(p[z])){j<z&&B.splice($,0,new a(1,j,z));var U=z;for(++z;z<F&&s.test(p[z]);++z);B.splice($,0,new a(2,U,z)),j=z}else++z;j<F&&B.splice($,0,new a(1,j,F))}return"ltr"==c&&(1==B[0].level&&(N=l.match(/^\s+/))&&(B[0].from=N[0].length,B.unshift(new a(0,0,N[0].length))),1==Z(B).level&&(N=l.match(/\s+$/))&&(Z(B).to-=N[0].length,B.push(new a(0,f-N[0].length,f)))),"rtl"==c?B.reverse():B}}();function Yt(t,e){var r=t.order;return null==r&&(r=t.order=qt(t.text,e)),r}var Qt=[],Jt=function(t,e,r){if(t.addEventListener)t.addEventListener(e,r,!1);else if(t.attachEvent)t.attachEvent("on"+e,r);else{var i=t._handlers||(t._handlers={});i[e]=(i[e]||Qt).concat(r)}};function te(t,e){return t._handlers&&t._handlers[e]||Qt}function ee(t,e,r){if(t.removeEventListener)t.removeEventListener(e,r,!1);else if(t.detachEvent)t.detachEvent("on"+e,r);else{var i=t._handlers,n=i&&i[e];if(n){var o=W(n,r);o>-1&&(i[e]=n.slice(0,o).concat(n.slice(o+1)))}}}function re(t,e){var r=te(t,e);if(r.length)for(var i=Array.prototype.slice.call(arguments,2),n=0;n<r.length;++n)r[n].apply(null,i)}function ie(t,e,r){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),re(t,r||e.type,t,e),ce(e)||e.codemirrorIgnore}function ne(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var r=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)-1==W(r,e[i])&&r.push(e[i])}function oe(t,e){return te(t,e).length>0}function se(t){t.prototype.on=function(t,e){Jt(this,t,e)},t.prototype.off=function(t,e){ee(this,t,e)}}function ae(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function le(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function ce(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function ue(t){ae(t),le(t)}function he(t){return t.target||t.srcElement}function fe(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),g&&t.ctrlKey&&1==e&&(e=3),e}var pe,de,me=function(){if(s&&a<9)return!1;var t=T("div");return"draggable"in t||"dragDrop"in t}();function ve(t){if(null==pe){var e=T("span","");L(t,T("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(pe=e.offsetWidth<=1&&e.offsetHeight>2&&!(s&&a<8))}var r=pe?T("span",""):T("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function _e(t){if(null!=de)return de;var e=L(t,document.createTextNode("AA")),r=A(e,0,1).getBoundingClientRect(),i=A(e,1,2).getBoundingClientRect();return E(t),!(!r||r.left==r.right)&&(de=i.right-r.right<3)}var ge,ye=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,r=[],i=t.length;e<=i;){var n=t.indexOf("\n",e);-1==n&&(n=t.length);var o=t.slice(e,"\r"==t.charAt(n-1)?n-1:n),s=o.indexOf("\r");-1!=s?(r.push(o.slice(0,s)),e+=s+1):(r.push(o),e=n+1)}return r}:function(t){return t.split(/\r\n?|\n/)},be=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Ce="oncopy"in(ge=T("div"))||(ge.setAttribute("oncopy","return;"),"function"==typeof ge.oncopy),we=null;var xe={},Se={};function Ae(t){if("string"==typeof t&&Se.hasOwnProperty(t))t=Se[t];else if(t&&"string"==typeof t.name&&Se.hasOwnProperty(t.name)){var e=Se[t.name];"string"==typeof e&&(e={name:e}),(t=Q(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Ae("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Ae("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function ke(t,e){e=Ae(e);var r=xe[e.name];if(!r)return ke(t,"text/plain");var i=r(t,e);if(Ee.hasOwnProperty(e.name)){var n=Ee[e.name];for(var o in n)n.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=n[o])}if(i.name=e.name,e.helperType&&(i.helperType=e.helperType),e.modeProps)for(var s in e.modeProps)i[s]=e.modeProps[s];return i}var Ee={};function Le(t,e){N(e,Ee.hasOwnProperty(t)?Ee[t]:Ee[t]={})}function Te(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var r={};for(var i in e){var n=e[i];n instanceof Array&&(n=n.concat([])),r[i]=n}return r}function Me(t,e){for(var r;t.innerMode&&(r=t.innerMode(e))&&r.mode!=t;)e=r.state,t=r.mode;return r||{mode:t,state:e}}function Re(t,e,r){return!t.startState||t.startState(e,r)}var Oe=function(t,e,r){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};Oe.prototype.eol=function(){return this.pos>=this.string.length},Oe.prototype.sol=function(){return this.pos==this.lineStart},Oe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Oe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Oe.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Oe.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Oe.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Oe.prototype.skipToEnd=function(){this.pos=this.string.length},Oe.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Oe.prototype.backUp=function(t){this.pos-=t},Oe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=B(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Oe.prototype.indentation=function(){return B(this.string,null,this.tabSize)-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Oe.prototype.match=function(t,e,r){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&!1!==e&&(this.pos+=i[0].length),i)}var n=function(t){return r?t.toLowerCase():t};if(n(this.string.substr(this.pos,t.length))==n(t))return!1!==e&&(this.pos+=t.length),!0},Oe.prototype.current=function(){return this.string.slice(this.start,this.pos)},Oe.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Oe.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Oe.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var He=function(t,e){this.state=t,this.lookAhead=e},De=function(t,e,r,i){this.state=e,this.doc=t,this.line=r,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};function Ie(t,e,r,i){var n=[t.state.modeGen],o={};Ue(t,e.text,t.doc.mode,r,function(t,e){return n.push(t,e)},o,i);for(var s=r.state,a=function(i){r.baseTokens=n;var a=t.state.overlays[i],l=1,c=0;r.state=!0,Ue(t,e.text,a.mode,r,function(t,e){for(var r=l;c<t;){var i=n[l];i>t&&n.splice(l,1,t,n[l+1],i),l+=2,c=Math.min(t,i)}if(e)if(a.opaque)n.splice(r,l-r,t,"overlay "+e),l=r+2;else for(;r<l;r+=2){var o=n[r+1];n[r+1]=(o?o+" ":"")+"overlay "+e}},o),r.state=s,r.baseTokens=null,r.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)a(l);return{styles:n,classes:o.bgClass||o.textClass?o:null}}function Pe(t,e,r){if(!e.styles||e.styles[0]!=t.state.modeGen){var i=Ne(t,ht(e)),n=e.text.length>t.options.maxHighlightLength&&Te(t.doc.mode,i.state),o=Ie(t,e,i);n&&(i.state=n),e.stateAfter=i.save(!n),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),r===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function Ne(t,e,r){var i=t.doc,n=t.display;if(!i.mode.startState)return new De(i,!0,e);var o=function(t,e,r){for(var i,n,o=t.doc,s=r?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=at(o,a-1),c=l.stateAfter;if(c&&(!r||a+(c instanceof He?c.lookAhead:0)<=o.modeFrontier))return a;var u=B(l.text,null,t.options.tabSize);(null==n||i>u)&&(n=a-1,i=u)}return n}(t,e,r),s=o>i.first&&at(i,o-1).stateAfter,a=s?De.fromSaved(i,s,o):new De(i,Re(i.mode),o);return i.iter(o,e,function(r){Be(t,r.text,a);var i=a.line;r.stateAfter=i==e-1||i%5==0||i>=n.viewFrom&&i<n.viewTo?a.save():null,a.nextLine()}),r&&(i.modeFrontier=a.line),a}function Be(t,e,r,i){var n=t.doc.mode,o=new Oe(e,t.options.tabSize,r);for(o.start=o.pos=i||0,""==e&&Fe(n,r.state);!o.eol();)We(n,o,r.state),o.start=o.pos}function Fe(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var r=Me(t,e);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function We(t,e,r,i){for(var n=0;n<10;n++){i&&(i[0]=Me(t,r).mode);var o=t.token(e,r);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}De.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},De.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},De.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},De.fromSaved=function(t,e,r){return e instanceof He?new De(t,Te(t.mode,e.state),r,e.lookAhead):new De(t,Te(t.mode,e),r)},De.prototype.save=function(t){var e=!1!==t?Te(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new He(e,this.maxLookAhead):e};var je=function(t,e,r){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=r};function $e(t,e,r,i){var n,o,s=t.doc,a=s.mode,l=at(s,(e=wt(s,e)).line),c=Ne(t,e.line,r),u=new Oe(l.text,t.options.tabSize,c);for(i&&(o=[]);(i||u.pos<e.ch)&&!u.eol();)u.start=u.pos,n=We(a,u,c.state),i&&o.push(new je(u,n,Te(s.mode,c.state)));return i?o:new je(u,n,c.state)}function ze(t,e){if(t)for(;;){var r=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;t=t.slice(0,r.index)+t.slice(r.index+r[0].length);var i=r[1]?"bgClass":"textClass";null==e[i]?e[i]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(e[i])||(e[i]+=" "+r[2])}return t}function Ue(t,e,r,i,n,o,s){var a=r.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,u=null,h=new Oe(e,t.options.tabSize,i),f=t.options.addModeClass&&[null];for(""==e&&ze(Fe(r,i.state),o);!h.eol();){if(h.pos>t.options.maxHighlightLength?(a=!1,s&&Be(t,e,i,h.pos),h.pos=e.length,l=null):l=ze(We(r,h,i.state,f),o),f){var p=f[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||u!=l){for(;c<h.start;)n(c=Math.min(h.start,c+5e3),u);u=l}h.start=h.pos}for(;c<h.pos;){var d=Math.min(h.pos,c+5e3);n(d,u),c=d}}var Ve=function(t,e,r){this.text=t,Ot(this,e),this.height=r?r(this):1};function Ke(t){t.parent=null,Rt(t)}Ve.prototype.lineNo=function(){return ht(this)},se(Ve);var Xe={},Ge={};function Ze(t,e){if(!t||/^\s*$/.test(t))return null;var r=e.addModeClass?Ge:Xe;return r[t]||(r[t]=t.replace(/\S+/g,"cm-$&"))}function qe(t,e){var r=M("span",null,null,l?"padding-right: .1px":null),i={pre:M("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:(s||l)&&t.getOption("lineWrapping")};e.measure={};for(var n=0;n<=(e.rest?e.rest.length:0);n++){var o=n?e.rest[n-1]:e.line,a=void 0;i.pos=0,i.addToken=Qe,_e(t.display.measure)&&(a=Yt(o,t.doc.direction))&&(i.addToken=Je(i.addToken,a)),i.map=[],er(o,i,Pe(t,o,e!=t.display.externalMeasured&&ht(o))),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=D(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=D(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(ve(t.display.measure))),0==n?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var c=i.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return re(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=D(i.pre.className,i.textClass||"")),i}function Ye(t){var e=T("span","","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Qe(t,e,r,i,n,o,l){if(e){var c,u=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var r=e,i="",n=0;n<t.length;n++){var o=t.charAt(n);" "!=o||!r||n!=t.length-1&&32!=t.charCodeAt(n+1)||(o=""),i+=o,r=" "==o}return i}(e,t.trailingSpace):e,h=t.cm.state.specialChars,f=!1;if(h.test(e)){c=document.createDocumentFragment();for(var p=0;;){h.lastIndex=p;var d=h.exec(e),m=d?d.index-p:e.length-p;if(m){var v=document.createTextNode(u.slice(p,p+m));s&&a<9?c.appendChild(T("span",[v])):c.appendChild(v),t.map.push(t.pos,t.pos+m,v),t.col+=m,t.pos+=m}if(!d)break;p+=m+1;var _=void 0;if("\t"==d[0]){var g=t.cm.options.tabSize,y=g-t.col%g;(_=c.appendChild(T("span",G(y),"cm-tab"))).setAttribute("role","presentation"),_.setAttribute("cm-text","\t"),t.col+=y}else"\r"==d[0]||"\n"==d[0]?((_=c.appendChild(T("span","\r"==d[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",d[0]),t.col+=1):((_=t.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),s&&a<9?c.appendChild(T("span",[_])):c.appendChild(_),t.col+=1);t.map.push(t.pos,t.pos+1,_),t.pos++}}else t.col+=e.length,c=document.createTextNode(u),t.map.push(t.pos,t.pos+e.length,c),s&&a<9&&(f=!0),t.pos+=e.length;if(t.trailingSpace=32==u.charCodeAt(e.length-1),r||i||n||f||l){var b=r||"";i&&(b+=i),n&&(b+=n);var C=T("span",[c],b,l);return o&&(C.title=o),t.content.appendChild(C)}t.content.appendChild(c)}}function Je(t,e){return function(r,i,n,o,s,a,l){n=n?n+" cm-force-border":"cm-force-border";for(var c=r.pos,u=c+i.length;;){for(var h=void 0,f=0;f<e.length&&!((h=e[f]).to>c&&h.from<=c);f++);if(h.to>=u)return t(r,i,n,o,s,a,l);t(r,i.slice(0,h.to-c),n,o,null,a,l),o=null,i=i.slice(h.to-c),c=h.to}}}function tr(t,e,r,i){var n=!i&&r.widgetNode;n&&t.map.push(t.pos,t.pos+e,n),!i&&t.cm.display.input.needsContentAttribute&&(n||(n=t.content.appendChild(document.createElement("span"))),n.setAttribute("cm-marker",r.id)),n&&(t.cm.display.input.setUneditable(n),t.content.appendChild(n)),t.pos+=e,t.trailingSpace=!1}function er(t,e,r){var i=t.markedSpans,n=t.text,o=0;if(i)for(var s,a,l,c,u,h,f,p=n.length,d=0,m=1,v="",_=0;;){if(_==d){l=c=u=h=a="",f=null,_=1/0;for(var g=[],y=void 0,b=0;b<i.length;++b){var C=i[b],w=C.marker;"bookmark"==w.type&&C.from==d&&w.widgetNode?g.push(w):C.from<=d&&(null==C.to||C.to>d||w.collapsed&&C.to==d&&C.from==d)?(null!=C.to&&C.to!=d&&_>C.to&&(_=C.to,c=""),w.className&&(l+=" "+w.className),w.css&&(a=(a?a+";":"")+w.css),w.startStyle&&C.from==d&&(u+=" "+w.startStyle),w.endStyle&&C.to==_&&(y||(y=[])).push(w.endStyle,C.to),w.title&&!h&&(h=w.title),w.collapsed&&(!f||It(f.marker,w)<0)&&(f=C)):C.from>d&&_>C.from&&(_=C.from)}if(y)for(var x=0;x<y.length;x+=2)y[x+1]==_&&(c+=" "+y[x]);if(!f||f.from==d)for(var S=0;S<g.length;++S)tr(e,0,g[S]);if(f&&(f.from||0)==d){if(tr(e,(null==f.to?p+1:f.to)-d,f.marker,null==f.from),null==f.to)return;f.to==d&&(f=!1)}}if(d>=p)break;for(var A=Math.min(p,_);;){if(v){var k=d+v.length;if(!f){var E=k>A?v.slice(0,A-d):v;e.addToken(e,E,s?s+l:l,u,d+E.length==_?c:"",h,a)}if(k>=A){v=v.slice(A-d),d=A;break}d=k,u=""}v=n.slice(o,o=r[m++]),s=Ze(r[m++],e.cm.options)}}else for(var L=1;L<r.length;L+=2)e.addToken(e,n.slice(o,o=r[L]),Ze(r[L+1],e.cm.options))}function rr(t,e,r){this.line=e,this.rest=function(t){for(var e,r;e=Bt(t);)t=e.find(1,!0).line,(r||(r=[])).push(t);return r}(e),this.size=this.rest?ht(Z(this.rest))-r+1:1,this.node=this.text=null,this.hidden=zt(t,e)}function ir(t,e,r){for(var i,n=[],o=e;o<r;o=i){var s=new rr(t.doc,at(t.doc,o),o);i=o+s.size,n.push(s)}return n}var nr=null;var or=null;function sr(t,e){var r=te(t,e);if(r.length){var i,n=Array.prototype.slice.call(arguments,2);nr?i=nr.delayedCallbacks:or?i=or:(i=or=[],setTimeout(ar,0));for(var o=function(t){i.push(function(){return r[t].apply(null,n)})},s=0;s<r.length;++s)o(s)}}function ar(){var t=or;or=null;for(var e=0;e<t.length;++e)t[e]()}function lr(t,e,r,i){for(var n=0;n<e.changes.length;n++){var o=e.changes[n];"text"==o?hr(t,e):"gutter"==o?pr(t,e,r,i):"class"==o?fr(t,e):"widget"==o&&dr(t,e,i)}e.changes=null}function cr(t){return t.node==t.text&&(t.node=T("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),s&&a<8&&(t.node.style.zIndex=2)),t.node}function ur(t,e){var r=t.display.externalMeasured;return r&&r.line==e.line?(t.display.externalMeasured=null,e.measure=r.measure,r.built):qe(t,e)}function hr(t,e){var r=e.text.className,i=ur(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,fr(t,e)):r&&(e.text.className=r)}function fr(t,e){!function(t,e){var r=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),e.background)r?e.background.className=r:(e.background.parentNode.removeChild(e.background),e.background=null);else if(r){var i=cr(e);e.background=i.insertBefore(T("div",null,r),i.firstChild),t.display.input.setUneditable(e.background)}}(t,e),e.line.wrapClass?cr(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var r=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=r||""}function pr(t,e,r,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var n=cr(e);e.gutterBackground=T("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),n.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var s=cr(e),a=e.gutter=T("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),s.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(T("div",dt(t.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.options.gutters.length;++l){var c=t.options.gutters[l],u=o.hasOwnProperty(c)&&o[c];u&&a.appendChild(T("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function dr(t,e,r){e.alignable&&(e.alignable=null);for(var i=e.node.firstChild,n=void 0;i;i=n)n=i.nextSibling,"CodeMirror-linewidget"==i.className&&e.node.removeChild(i);vr(t,e,r)}function mr(t,e,r,i){var n=ur(t,e);return e.text=e.node=n.pre,n.bgClass&&(e.bgClass=n.bgClass),n.textClass&&(e.textClass=n.textClass),fr(t,e),pr(t,e,r,i),vr(t,e,i),e.node}function vr(t,e,r){if(_r(t,e.line,e,r,!0),e.rest)for(var i=0;i<e.rest.length;i++)_r(t,e.rest[i],e,r,!1)}function _r(t,e,r,i,n){if(e.widgets)for(var o=cr(r),s=0,a=e.widgets;s<a.length;++s){var l=a[s],c=T("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),gr(l,c,r,i),t.display.input.setUneditable(c),n&&l.above?o.insertBefore(c,r.gutter||r.text):o.appendChild(c),sr(l,"redraw")}}function gr(t,e,r,i){if(t.noHScroll){(r.alignable||(r.alignable=[])).push(e);var n=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(n-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=n+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function yr(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!R(document.body,t.node)){var r="position: relative;";t.coverGutter&&(r+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(r+="width: "+e.display.wrapper.clientWidth+"px;"),L(e.display.measure,T("div",[t.node],null,r))}return t.height=t.node.parentNode.offsetHeight}function br(t,e){for(var r=he(e);r!=t.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==t.sizer&&r!=t.mover)return!0}function Cr(t){return t.lineSpace.offsetTop}function wr(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function xr(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=L(t.measure,T("pre","x")),r=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(t.cachedPaddingH=i),i}function Sr(t){return j-t.display.nativeBarWidth}function Ar(t){return t.display.scroller.clientWidth-Sr(t)-t.display.barWidth}function kr(t){return t.display.scroller.clientHeight-Sr(t)-t.display.barHeight}function Er(t,e,r){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(var n=0;n<t.rest.length;n++)if(ht(t.rest[n])>r)return{map:t.measure.maps[n],cache:t.measure.caches[n],before:!0}}function Lr(t,e,r,i){return Rr(t,Mr(t,e),r,i)}function Tr(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[si(t,e)];var r=t.display.externalMeasured;return r&&e>=r.lineN&&e<r.lineN+r.size?r:void 0}function Mr(t,e){var r=ht(e),i=Tr(t,r);i&&!i.text?i=null:i&&i.changes&&(lr(t,i,r,ei(t)),t.curOp.forceUpdate=!0),i||(i=function(t,e){var r=ht(e=Wt(e)),i=t.display.externalMeasured=new rr(t.doc,e,r);i.lineN=r;var n=i.built=qe(t,i);return i.text=n.pre,L(t.display.lineMeasure,n.pre),i}(t,e));var n=Er(i,e,r);return{line:e,view:i,rect:null,map:n.map,cache:n.cache,before:n.before,hasHeights:!1}}function Rr(t,e,r,i,n){e.before&&(r=-1);var o,l=r+(i||"");return e.cache.hasOwnProperty(l)?o=e.cache[l]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(!function(t,e,r){var i=t.options.lineWrapping,n=i&&Ar(t);if(!e.measure.heights||i&&e.measure.width!=n){var o=e.measure.heights=[];if(i){e.measure.width=n;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-r.top)}}o.push(r.bottom-r.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,r,i){var n,o=Dr(e.map,r,i),l=o.node,c=o.start,u=o.end,h=o.collapse;if(3==l.nodeType){for(var f=0;f<4;f++){for(;c&&nt(e.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&nt(e.line.text.charAt(o.coverStart+u));)++u;if((n=s&&a<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Ir(A(l,c,u).getClientRects(),i)).left||n.right||0==c)break;u=c,c-=1,h="right"}s&&a<11&&(n=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=we)return we;var e=L(t,T("span","x")),r=e.getBoundingClientRect(),i=A(e,0,1).getBoundingClientRect();return we=Math.abs(r.left-i.left)>1}(t))return e;var r=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*r,right:e.right*r,top:e.top*i,bottom:e.bottom*i}}(t.display.measure,n))}else{var p;c>0&&(h=i="right"),n=t.options.lineWrapping&&(p=l.getClientRects()).length>1?p["right"==i?p.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!n||!n.left&&!n.right)){var d=l.parentNode.getClientRects()[0];n=d?{left:d.left,right:d.left+ti(t.display),top:d.top,bottom:d.bottom}:Hr}for(var m=n.top-e.rect.top,v=n.bottom-e.rect.top,_=(m+v)/2,g=e.view.measure.heights,y=0;y<g.length-1&&!(_<g[y]);y++);var b=y?g[y-1]:0,C=g[y],w={left:("right"==h?n.right:n.left)-e.rect.left,right:("left"==h?n.left:n.right)-e.rect.left,top:b,bottom:C};n.left||n.right||(w.bogus=!0);t.options.singleCursorHeightPerLine||(w.rtop=m,w.rbottom=v);return w}(t,e,r,i)).bogus||(e.cache[l]=o)),{left:o.left,right:o.right,top:n?o.rtop:o.top,bottom:n?o.rbottom:o.bottom}}var Or,Hr={left:0,right:0,top:0,bottom:0};function Dr(t,e,r){for(var i,n,o,s,a,l,c=0;c<t.length;c+=3)if(a=t[c],l=t[c+1],e<a?(n=0,o=1,s="left"):e<l?o=(n=e-a)+1:(c==t.length-3||e==l&&t[c+3]>e)&&(n=(o=l-a)-1,e>=l&&(s="right")),null!=n){if(i=t[c+2],a==l&&r==(i.insertLeft?"left":"right")&&(s=r),"left"==r&&0==n)for(;c&&t[c-2]==t[c-3]&&t[c-1].insertLeft;)i=t[2+(c-=3)],s="left";if("right"==r&&n==l-a)for(;c<t.length-3&&t[c+3]==t[c+4]&&!t[c+5].insertLeft;)i=t[(c+=3)+2],s="right";break}return{node:i,start:n,end:o,collapse:s,coverStart:a,coverEnd:l}}function Ir(t,e){var r=Hr;if("left"==e)for(var i=0;i<t.length&&(r=t[i]).left==r.right;i++);else for(var n=t.length-1;n>=0&&(r=t[n]).left==r.right;n--);return r}function Pr(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Nr(t){t.display.externalMeasure=null,E(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Pr(t.display.view[e])}function Br(t){Nr(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Fr(){return u&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Wr(){return u&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function jr(t){var e=0;if(t.widgets)for(var r=0;r<t.widgets.length;++r)t.widgets[r].above&&(e+=yr(t.widgets[r]));return e}function $r(t,e,r,i,n){if(!n){var o=jr(e);r.top+=o,r.bottom+=o}if("line"==i)return r;i||(i="local");var s=Vt(e);if("local"==i?s+=Cr(t.display):s-=t.display.viewOffset,"page"==i||"window"==i){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:Wr());var l=a.left+("window"==i?0:Fr());r.left+=l,r.right+=l}return r.top+=s,r.bottom+=s,r}function zr(t,e,r){if("div"==r)return e;var i=e.left,n=e.top;if("page"==r)i-=Fr(),n-=Wr();else if("local"==r||!r){var o=t.display.sizer.getBoundingClientRect();i+=o.left,n+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:n-s.top}}function Ur(t,e,r,i,n){return i||(i=at(t.doc,e.line)),$r(t,i,Lr(t,i,e.ch,n),r)}function Vr(t,e,r,i,n,o){function s(e,s){var a=Rr(t,n,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,$r(t,i,a,r)}i=i||at(t.doc,e.line),n||(n=Mr(t,i));var a=Yt(i,t.doc.direction),l=e.ch,c=e.sticky;if(l>=i.text.length?(l=i.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function u(t,e,r){var i=1==a[e].level;return s(r?t-1:t,i!=r)}var h=Zt(a,l,c),f=Gt,p=u(l,h,"before"==c);return null!=f&&(p.other=u(l,f,"before"!=c)),p}function Kr(t,e){var r=0;e=wt(t.doc,e),t.options.lineWrapping||(r=ti(t.display)*e.ch);var i=at(t.doc,e.line),n=Vt(i)+Cr(t.display);return{left:r,right:r,top:n,bottom:n+i.height}}function Xr(t,e,r,i,n){var o=mt(t,e,r);return o.xRel=n,i&&(o.outside=!0),o}function Gr(t,e,r){var i=t.doc;if((r+=t.display.viewOffset)<0)return Xr(i.first,0,null,!0,-1);var n=ft(i,r),o=i.first+i.size-1;if(n>o)return Xr(i.first+i.size-1,at(i,o).text.length,null,!0,1);e<0&&(e=0);for(var s=at(i,n);;){var a=Qr(t,s,n,e,r),l=Bt(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;n=ht(s=c.to.line)}}function Zr(t,e,r,i){i-=jr(e);var n=e.text.length,o=st(function(e){return Rr(t,r,e-1).bottom<=i},n,0);return{begin:o,end:n=st(function(e){return Rr(t,r,e).top>i},o,n)}}function qr(t,e,r,i){return r||(r=Mr(t,e)),Zr(t,e,r,$r(t,e,Rr(t,r,i),"line").top)}function Yr(t,e,r,i){return!(t.bottom<=r)&&(t.top>r||(i?t.left:t.right)>e)}function Qr(t,e,r,i,n){n-=Vt(e);var o=Mr(t,e),s=jr(e),a=0,l=e.text.length,c=!0,u=Yt(e,t.doc.direction);if(u){var h=(t.options.lineWrapping?function(t,e,r,i,n,o,s){var a=Zr(t,e,i,s),l=a.begin,c=a.end;/\s/.test(e.text.charAt(c-1))&&c--;for(var u=null,h=null,f=0;f<n.length;f++){var p=n[f];if(!(p.from>=c||p.to<=l)){var d=1!=p.level,m=Rr(t,i,d?Math.min(c,p.to)-1:Math.max(l,p.from)).right,v=m<o?o-m+1e9:m-o;(!u||h>v)&&(u=p,h=v)}}u||(u=n[n.length-1]);u.from<l&&(u={from:l,to:u.to,level:u.level});u.to>c&&(u={from:u.from,to:c,level:u.level});return u}:function(t,e,r,i,n,o,s){var a=st(function(a){var l=n[a],c=1!=l.level;return Yr(Vr(t,mt(r,c?l.to:l.from,c?"before":"after"),"line",e,i),o,s,!0)},0,n.length-1),l=n[a];if(a>0){var c=1!=l.level,u=Vr(t,mt(r,c?l.from:l.to,c?"after":"before"),"line",e,i);Yr(u,o,s,!0)&&u.top>s&&(l=n[a-1])}return l})(t,e,r,o,u,i,n);a=(c=1!=h.level)?h.from:h.to-1,l=c?h.to:h.from-1}var f,p,d=null,m=null,v=st(function(e){var r=Rr(t,o,e);return r.top+=s,r.bottom+=s,!!Yr(r,i,n,!1)&&(r.top<=n&&r.left<=i&&(d=e,m=r),!0)},a,l),_=!1;if(m){var g=i-m.left<m.right-i,y=g==c;v=d+(y?0:1),p=y?"after":"before",f=g?m.left:m.right}else{c||v!=l&&v!=a||v++,p=0==v?"after":v==e.text.length?"before":Rr(t,o,v-(c?1:0)).bottom+s<=n==c?"after":"before";var b=Vr(t,mt(r,v,p),"line",e,o);f=b.left,_=n<b.top||n>=b.bottom}return Xr(r,v=ot(e.text,v,1),p,_,i-f)}function Jr(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Or){Or=T("pre");for(var e=0;e<49;++e)Or.appendChild(document.createTextNode("x")),Or.appendChild(T("br"));Or.appendChild(document.createTextNode("x"))}L(t.measure,Or);var r=Or.offsetHeight/50;return r>3&&(t.cachedTextHeight=r),E(t.measure),r||1}function ti(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=T("span","xxxxxxxxxx"),r=T("pre",[e]);L(t.measure,r);var i=e.getBoundingClientRect(),n=(i.right-i.left)/10;return n>2&&(t.cachedCharWidth=n),n||10}function ei(t){for(var e=t.display,r={},i={},n=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s)r[t.options.gutters[s]]=o.offsetLeft+o.clientLeft+n,i[t.options.gutters[s]]=o.clientWidth;return{fixedPos:ri(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:r,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function ri(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function ii(t){var e=Jr(t.display),r=t.options.lineWrapping,i=r&&Math.max(5,t.display.scroller.clientWidth/ti(t.display)-3);return function(n){if(zt(t.doc,n))return 0;var o=0;if(n.widgets)for(var s=0;s<n.widgets.length;s++)n.widgets[s].height&&(o+=n.widgets[s].height);return r?o+(Math.ceil(n.text.length/i)||1)*e:o+e}}function ni(t){var e=t.doc,r=ii(t);e.iter(function(t){var e=r(t);e!=t.height&&ut(t,e)})}function oi(t,e,r,i){var n=t.display;if(!r&&"true"==he(e).getAttribute("cm-not-content"))return null;var o,s,a=n.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(e){return null}var l,c=Gr(t,o,s);if(i&&1==c.xRel&&(l=at(t.doc,c.line).text).length==c.ch){var u=B(l,l.length,t.options.tabSize)-l.length;c=mt(c.line,Math.max(0,Math.round((o-xr(t.display).left)/ti(t.display))-u))}return c}function si(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var r=t.display.view,i=0;i<r.length;i++)if((e-=r[i].size)<0)return i}function ai(t){t.display.input.showSelection(t.display.input.prepareSelection())}function li(t,e){void 0===e&&(e=!0);for(var r=t.doc,i={},n=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<r.sel.ranges.length;s++)if(e||s!=r.sel.primIndex){var a=r.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&ci(t,a.head,n),l||hi(t,a,o)}}return i}function ci(t,e,r){var i=Vr(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),n=r.appendChild(T("div","","CodeMirror-cursor"));if(n.style.left=i.left+"px",n.style.top=i.top+"px",n.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",i.other){var o=r.appendChild(T("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function ui(t,e){return t.top-e.top||t.left-e.left}function hi(t,e,r){var i=t.display,n=t.doc,o=document.createDocumentFragment(),s=xr(t.display),a=s.left,l=Math.max(i.sizerWidth,Ar(t)-i.sizer.offsetLeft)-s.right,c="ltr"==n.direction;function u(t,e,r,i){e<0&&(e=0),e=Math.round(e),i=Math.round(i),o.appendChild(T("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==r?l-t:r)+"px;\n                             height: "+(i-e)+"px"))}function h(e,r,i){var o,s,h=at(n,e),f=h.text.length;function p(r,i){return Ur(t,mt(e,r),"div",h,i)}function d(e,r,i){var n=qr(t,h,null,e),o="ltr"==r==("after"==i)?"left":"right";return p("after"==i?n.begin:n.end-(/\s/.test(h.text.charAt(n.end-1))?2:1),o)[o]}var m=Yt(h,n.direction);return function(t,e,r,i){if(!t)return i(e,r,"ltr",0);for(var n=!1,o=0;o<t.length;++o){var s=t[o];(s.from<r&&s.to>e||e==r&&s.to==e)&&(i(Math.max(s.from,e),Math.min(s.to,r),1==s.level?"rtl":"ltr",o),n=!0)}n||i(e,r,"ltr")}(m,r||0,null==i?f:i,function(t,e,n,h){var v="ltr"==n,_=p(t,v?"left":"right"),g=p(e-1,v?"right":"left"),y=null==r&&0==t,b=null==i&&e==f,C=0==h,w=!m||h==m.length-1;if(g.top-_.top<=3){var x=(c?b:y)&&w,S=(c?y:b)&&C?a:(v?_:g).left,A=x?l:(v?g:_).right;u(S,_.top,A-S,_.bottom)}else{var k,E,L,T;v?(k=c&&y&&C?a:_.left,E=c?l:d(t,n,"before"),L=c?a:d(e,n,"after"),T=c&&b&&w?l:g.right):(k=c?d(t,n,"before"):a,E=!c&&y&&C?l:_.right,L=!c&&b&&w?a:g.left,T=c?d(e,n,"after"):l),u(k,_.top,E-k,_.bottom),_.bottom<g.top&&u(a,_.bottom,null,g.top),u(L,g.top,T-L,g.bottom)}(!o||ui(_,o)<0)&&(o=_),ui(g,o)<0&&(o=g),(!s||ui(_,s)<0)&&(s=_),ui(g,s)<0&&(s=g)}),{start:o,end:s}}var f=e.from(),p=e.to();if(f.line==p.line)h(f.line,f.ch,p.ch);else{var d=at(n,f.line),m=at(n,p.line),v=Wt(d)==Wt(m),_=h(f.line,f.ch,v?d.text.length+1:null).end,g=h(p.line,v?0:null,p.ch).start;v&&(_.top<g.top-2?(u(_.right,_.top,null,_.bottom),u(a,g.top,g.left,g.bottom)):u(_.right,_.top,g.left-_.right,_.bottom)),_.bottom<g.top&&u(a,_.bottom,null,g.top)}r.appendChild(o)}function fi(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var r=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){return e.cursorDiv.style.visibility=(r=!r)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function pi(t){t.state.focused||(t.display.input.focus(),mi(t))}function di(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,vi(t))},100)}function mi(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(re(t,"focus",t,e),t.state.focused=!0,H(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),fi(t))}function vi(t,e){t.state.delayingBlurEvent||(t.state.focused&&(re(t,"blur",t,e),t.state.focused=!1,k(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function _i(t){for(var e=t.display,r=e.lineDiv.offsetTop,i=0;i<e.view.length;i++){var n=e.view[i],o=void 0;if(!n.hidden){if(s&&a<8){var l=n.node.offsetTop+n.node.offsetHeight;o=l-r,r=l}else{var c=n.node.getBoundingClientRect();o=c.bottom-c.top}var u=n.line.height-o;if(o<2&&(o=Jr(e)),(u>.005||u<-.005)&&(ut(n.line,o),gi(n.line),n.rest))for(var h=0;h<n.rest.length;h++)gi(n.rest[h])}}}function gi(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var r=t.widgets[e],i=r.node.parentNode;i&&(r.height=i.offsetHeight)}}function yi(t,e,r){var i=r&&null!=r.top?Math.max(0,r.top):t.scroller.scrollTop;i=Math.floor(i-Cr(t));var n=r&&null!=r.bottom?r.bottom:i+t.wrapper.clientHeight,o=ft(e,i),s=ft(e,n);if(r&&r.ensure){var a=r.ensure.from.line,l=r.ensure.to.line;a<o?(o=a,s=ft(e,Vt(at(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=ft(e,Vt(at(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function bi(t){var e=t.display,r=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=ri(e)-e.scroller.scrollLeft+t.doc.scrollLeft,n=e.gutters.offsetWidth,o=i+"px",s=0;s<r.length;s++)if(!r[s].hidden){t.options.fixedGutter&&(r[s].gutter&&(r[s].gutter.style.left=o),r[s].gutterBackground&&(r[s].gutterBackground.style.left=o));var a=r[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=i+n+"px")}}function Ci(t){if(!t.options.lineNumbers)return!1;var e=t.doc,r=dt(t.options,e.first+e.size-1),i=t.display;if(r.length!=i.lineNumChars){var n=i.measure.appendChild(T("div",[T("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=n.firstChild.offsetWidth,s=n.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?r.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",an(t),!0}return!1}function wi(t,e){var r=t.display,i=Jr(t.display);e.top<0&&(e.top=0);var n=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:r.scroller.scrollTop,o=kr(t),s={};e.bottom-e.top>o&&(e.bottom=e.top+o);var a=t.doc.height+wr(r),l=e.top<i,c=e.bottom>a-i;if(e.top<n)s.scrollTop=l?0:e.top;else if(e.bottom>n+o){var u=Math.min(e.top,(c?a:e.bottom)-o);u!=n&&(s.scrollTop=u)}var h=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:r.scroller.scrollLeft,f=Ar(t)-(t.options.fixedGutter?r.gutters.offsetWidth:0),p=e.right-e.left>f;return p&&(e.right=e.left+f),e.left<10?s.scrollLeft=0:e.left<h?s.scrollLeft=Math.max(0,e.left-(p?0:10)):e.right>f+h-3&&(s.scrollLeft=e.right+(p?0:10)-f),s}function xi(t,e){null!=e&&(ki(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Si(t){ki(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Ai(t,e,r){null==e&&null==r||ki(t),null!=e&&(t.curOp.scrollLeft=e),null!=r&&(t.curOp.scrollTop=r)}function ki(t){var e=t.curOp.scrollToPos;e&&(t.curOp.scrollToPos=null,Ei(t,Kr(t,e.from),Kr(t,e.to),e.margin))}function Ei(t,e,r,i){var n=wi(t,{left:Math.min(e.left,r.left),top:Math.min(e.top,r.top)-i,right:Math.max(e.right,r.right),bottom:Math.max(e.bottom,r.bottom)+i});Ai(t,n.scrollLeft,n.scrollTop)}function Li(t,e){Math.abs(t.doc.scrollTop-e)<2||(r||sn(t,{top:e}),Ti(t,e,!0),r&&sn(t),tn(t,100))}function Ti(t,e,r){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||r)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Mi(t,e,r,i){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(r?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!i||(t.doc.scrollLeft=e,bi(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Ri(t){var e=t.display,r=e.gutters.offsetWidth,i=Math.round(t.doc.height+wr(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?r:0,docHeight:i,scrollHeight:i+Sr(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:r}}var Oi=function(t,e,r){this.cm=r;var i=this.vert=T("div",[T("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n=this.horiz=T("div",[T("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(i),t(n),Jt(i,"scroll",function(){i.clientHeight&&e(i.scrollTop,"vertical")}),Jt(n,"scroll",function(){n.clientWidth&&e(n.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Oi.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,r=t.scrollHeight>t.clientHeight+1,i=t.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=e?i+"px":"0";var n=t.viewHeight-(e?i:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+n)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=r?i+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(r?i:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?i:0,bottom:e?i:0}},Oi.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Oi.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Oi.prototype.zeroWidthHack=function(){var t=g&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new F,this.disableVert=new F},Oi.prototype.enableZeroWidthBar=function(t,e,r){t.style.pointerEvents="auto",e.set(1e3,function i(){var n=t.getBoundingClientRect();("vert"==r?document.elementFromPoint(n.right-1,(n.top+n.bottom)/2):document.elementFromPoint((n.right+n.left)/2,n.bottom-1))!=t?t.style.pointerEvents="none":e.set(1e3,i)})},Oi.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Hi=function(){};function Di(t,e){e||(e=Ri(t));var r=t.display.barWidth,i=t.display.barHeight;Ii(t,e);for(var n=0;n<4&&r!=t.display.barWidth||i!=t.display.barHeight;n++)r!=t.display.barWidth&&t.options.lineWrapping&&_i(t),Ii(t,Ri(t)),r=t.display.barWidth,i=t.display.barHeight}function Ii(t,e){var r=t.display,i=r.scrollbars.update(e);r.sizer.style.paddingRight=(r.barWidth=i.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=i.bottom)+"px",r.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=i.bottom+"px",r.scrollbarFiller.style.width=i.right+"px"):r.scrollbarFiller.style.display="",i.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=i.bottom+"px",r.gutterFiller.style.width=e.gutterWidth+"px"):r.gutterFiller.style.display=""}Hi.prototype.update=function(){return{bottom:0,right:0}},Hi.prototype.setScrollLeft=function(){},Hi.prototype.setScrollTop=function(){},Hi.prototype.clear=function(){};var Pi={native:Oi,null:Hi};function Ni(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&k(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Pi[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Jt(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,r){"horizontal"==r?Mi(t,e):Li(t,e)},t),t.display.scrollbars.addClass&&H(t.display.wrapper,t.display.scrollbars.addClass)}var Bi=0;function Fi(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Bi},e=t.curOp,nr?nr.ops.push(e):e.ownsGroup=nr={ops:[e],delayedCallbacks:[]}}function Wi(t){!function(t,e){var r=t.ownsGroup;if(r)try{!function(t){var e=t.delayedCallbacks,r=0;do{for(;r<e.length;r++)e[r].call(null);for(var i=0;i<t.ops.length;i++){var n=t.ops[i];if(n.cursorActivityHandlers)for(;n.cursorActivityCalled<n.cursorActivityHandlers.length;)n.cursorActivityHandlers[n.cursorActivityCalled++].call(null,n.cm)}}while(r<e.length)}(r)}finally{nr=null,e(r)}}(t.curOp,function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,r=0;r<e.length;r++)ji(e[r]);for(var i=0;i<e.length;i++)(n=e[i]).updatedDisplay=n.mustUpdate&&nn(n.cm,n.update);var n;for(var o=0;o<e.length;o++)$i(e[o]);for(var s=0;s<e.length;s++)zi(e[s]);for(var a=0;a<e.length;a++)Ui(e[a])}(t)})}function ji(t){var e=t.cm,r=e.display;!function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Sr(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Sr(t)+"px",e.scrollbarsClipped=!0)}(e),t.updateMaxLine&&Xt(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<r.viewFrom||t.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new rn(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function $i(t){var e=t.cm,r=e.display;t.updatedDisplay&&_i(e),t.barMeasure=Ri(e),r.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Lr(e,r.maxLine,r.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+t.adjustWidthTo+Sr(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+t.adjustWidthTo-Ar(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=r.input.prepareSelection())}function zi(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Mi(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var r=t.focus&&t.focus==O();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,r),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Di(e,t.barMeasure),t.updatedDisplay&&ln(e,t.barMeasure),t.selectionChanged&&fi(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),r&&pi(t.cm)}function Ui(t){var e=t.cm,r=e.display,i=e.doc;(t.updatedDisplay&&on(e,t.update),null==r.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=t.scrollTop&&Ti(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&Mi(e,t.scrollLeft,!0,!0),t.scrollToPos)&&function(t,e){if(!ie(t,"scrollCursorIntoView")){var r=t.display,i=r.sizer.getBoundingClientRect(),n=null;if(e.top+i.top<0?n=!0:e.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(n=!1),null!=n&&!d){var o=T("div","",null,"position: absolute;\n                         top: "+(e.top-r.viewOffset-Cr(t.display))+"px;\n                         height: "+(e.bottom-e.top+Sr(t)+r.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(n),t.display.lineSpace.removeChild(o)}}}(e,function(t,e,r,i){var n;null==i&&(i=0),t.options.lineWrapping||e!=r||(r="before"==(e=e.ch?mt(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e).sticky?mt(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var s=!1,a=Vr(t,e),l=r&&r!=e?Vr(t,r):a,c=wi(t,n={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-i,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+i}),u=t.doc.scrollTop,h=t.doc.scrollLeft;if(null!=c.scrollTop&&(Li(t,c.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(Mi(t,c.scrollLeft),Math.abs(t.doc.scrollLeft-h)>1&&(s=!0)),!s)break}return n}(e,wt(i,t.scrollToPos.from),wt(i,t.scrollToPos.to),t.scrollToPos.margin));var n=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(n)for(var s=0;s<n.length;++s)n[s].lines.length||re(n[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&re(o[a],"unhide");r.wrapper.offsetHeight&&(i.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&re(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Vi(t,e){if(t.curOp)return e();Fi(t);try{return e()}finally{Wi(t)}}function Ki(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Fi(t);try{return e.apply(t,arguments)}finally{Wi(t)}}}function Xi(t){return function(){if(this.curOp)return t.apply(this,arguments);Fi(this);try{return t.apply(this,arguments)}finally{Wi(this)}}}function Gi(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Fi(e);try{return t.apply(this,arguments)}finally{Wi(e)}}}function Zi(t,e,r,i){null==e&&(e=t.doc.first),null==r&&(r=t.doc.first+t.doc.size),i||(i=0);var n=t.display;if(i&&r<n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>e)&&(n.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=n.viewTo)At&&jt(t.doc,e)<n.viewTo&&Yi(t);else if(r<=n.viewFrom)At&&$t(t.doc,r+i)>n.viewFrom?Yi(t):(n.viewFrom+=i,n.viewTo+=i);else if(e<=n.viewFrom&&r>=n.viewTo)Yi(t);else if(e<=n.viewFrom){var o=Qi(t,r,r+i,1);o?(n.view=n.view.slice(o.index),n.viewFrom=o.lineN,n.viewTo+=i):Yi(t)}else if(r>=n.viewTo){var s=Qi(t,e,e,-1);s?(n.view=n.view.slice(0,s.index),n.viewTo=s.lineN):Yi(t)}else{var a=Qi(t,e,e,-1),l=Qi(t,r,r+i,1);a&&l?(n.view=n.view.slice(0,a.index).concat(ir(t,a.lineN,l.lineN)).concat(n.view.slice(l.index)),n.viewTo+=i):Yi(t)}var c=n.externalMeasured;c&&(r<c.lineN?c.lineN+=i:e<c.lineN+c.size&&(n.externalMeasured=null))}function qi(t,e,r){t.curOp.viewChanged=!0;var i=t.display,n=t.display.externalMeasured;if(n&&e>=n.lineN&&e<n.lineN+n.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var o=i.view[si(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==W(s,r)&&s.push(r)}}}function Yi(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Qi(t,e,r,i){var n,o=si(t,e),s=t.display.view;if(!At||r==t.doc.first+t.doc.size)return{index:o,lineN:r};for(var a=t.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=e){if(i>0){if(o==s.length-1)return null;n=a+s[o].size-e,o++}else n=a-e;e+=n,r+=n}for(;jt(t.doc,r)!=r;){if(o==(i<0?0:s.length-1))return null;r+=i*s[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:r}}function Ji(t){for(var e=t.display.view,r=0,i=0;i<e.length;i++){var n=e[i];n.hidden||n.node&&!n.changes||++r}return r}function tn(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,P(en,t))}function en(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var r=+new Date+t.options.workTime,i=Ne(t,e.highlightFrontier),n=[];e.iter(i.line,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(i.line>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength?Te(e.mode,i.state):null,l=Ie(t,o,i,!0);a&&(i.state=a),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),f=0;!h&&f<s.length;++f)h=s[f]!=o.styles[f];h&&n.push(i.line),o.stateAfter=i.save(),i.nextLine()}else o.text.length<=t.options.maxHighlightLength&&Be(t,o.text,i),o.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>r)return tn(t,t.options.workDelay),!0}),e.highlightFrontier=i.line,e.modeFrontier=Math.max(e.modeFrontier,i.line),n.length&&Vi(t,function(){for(var e=0;e<n.length;e++)qi(t,n[e],"text")})}}var rn=function(t,e,r){var i=t.display;this.viewport=e,this.visible=yi(i,t.doc,e),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Ar(t),this.force=r,this.dims=ei(t),this.events=[]};function nn(t,e){var r=t.display,i=t.doc;if(e.editorIsHidden)return Yi(t),!1;if(!e.force&&e.visible.from>=r.viewFrom&&e.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Ji(t))return!1;Ci(t)&&(Yi(t),e.dims=ei(t));var n=i.first+i.size,o=Math.max(e.visible.from-t.options.viewportMargin,i.first),s=Math.min(n,e.visible.to+t.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(i.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(n,r.viewTo)),At&&(o=jt(t.doc,o),s=$t(t.doc,s));var a=o!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=e.wrapperHeight||r.lastWrapWidth!=e.wrapperWidth;!function(t,e,r){var i=t.display;0==i.view.length||e>=i.viewTo||r<=i.viewFrom?(i.view=ir(t,e,r),i.viewFrom=e):(i.viewFrom>e?i.view=ir(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(si(t,e))),i.viewFrom=e,i.viewTo<r?i.view=i.view.concat(ir(t,i.viewTo,r)):i.viewTo>r&&(i.view=i.view.slice(0,si(t,r)))),i.viewTo=r}(t,o,s),r.viewOffset=Vt(at(t.doc,r.viewFrom)),t.display.mover.style.top=r.viewOffset+"px";var c=Ji(t);if(!a&&0==c&&!e.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var u=function(t){if(t.hasFocus())return null;var e=O();if(!e||!R(t.display.lineDiv,e))return null;var r={activeElt:e};if(window.getSelection){var i=window.getSelection();i.anchorNode&&i.extend&&R(t.display.lineDiv,i.anchorNode)&&(r.anchorNode=i.anchorNode,r.anchorOffset=i.anchorOffset,r.focusNode=i.focusNode,r.focusOffset=i.focusOffset)}return r}(t);return c>4&&(r.lineDiv.style.display="none"),function(t,e,r){var i=t.display,n=t.options.lineNumbers,o=i.lineDiv,s=o.firstChild;function a(e){var r=e.nextSibling;return l&&g&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),r}for(var c=i.view,u=i.viewFrom,h=0;h<c.length;h++){var f=c[h];if(f.hidden);else if(f.node&&f.node.parentNode==o){for(;s!=f.node;)s=a(s);var p=n&&null!=e&&e<=u&&f.lineNumber;f.changes&&(W(f.changes,"gutter")>-1&&(p=!1),lr(t,f,u,r)),p&&(E(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(dt(t.options,u)))),s=f.node.nextSibling}else{var d=mr(t,f,u,r);o.insertBefore(d,s)}u+=f.size}for(;s;)s=a(s)}(t,r.updateLineNumbers,e.dims),c>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(t){if(t&&t.activeElt&&t.activeElt!=O()&&(t.activeElt.focus(),t.anchorNode&&R(document.body,t.anchorNode)&&R(document.body,t.focusNode))){var e=window.getSelection(),r=document.createRange();r.setEnd(t.anchorNode,t.anchorOffset),r.collapse(!1),e.removeAllRanges(),e.addRange(r),e.extend(t.focusNode,t.focusOffset)}}(u),E(r.cursorDiv),E(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,a&&(r.lastWrapHeight=e.wrapperHeight,r.lastWrapWidth=e.wrapperWidth,tn(t,400)),r.updateLineNumbers=null,!0}function on(t,e){for(var r=e.viewport,i=!0;(i&&t.options.lineWrapping&&e.oldDisplayWidth!=Ar(t)||(r&&null!=r.top&&(r={top:Math.min(t.doc.height+wr(t.display)-kr(t),r.top)}),e.visible=yi(t.display,t.doc,r),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&nn(t,e);i=!1){_i(t);var n=Ri(t);ai(t),Di(t,n),ln(t,n),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function sn(t,e){var r=new rn(t,e);if(nn(t,r)){_i(t),on(t,r);var i=Ri(t);ai(t),Di(t,i),ln(t,i),r.finish()}}function an(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function ln(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Sr(t)+"px"}function cn(t){var e=t.display.gutters,r=t.options.gutters;E(e);for(var i=0;i<r.length;++i){var n=r[i],o=e.appendChild(T("div",null,"CodeMirror-gutter "+n));"CodeMirror-linenumbers"==n&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=i?"":"none",an(t)}function un(t){var e=W(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}rn.prototype.signal=function(t,e){oe(t,e)&&this.events.push(arguments)},rn.prototype.finish=function(){for(var t=0;t<this.events.length;t++)re.apply(null,this.events[t])};var hn=0,fn=null;function pn(t){var e=t.wheelDeltaX,r=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==r&&t.detail&&t.axis==t.VERTICAL_AXIS?r=t.detail:null==r&&(r=t.wheelDelta),{x:e,y:r}}function dn(t){var e=pn(t);return e.x*=fn,e.y*=fn,e}function mn(t,e){var i=pn(e),n=i.x,o=i.y,s=t.display,a=s.scroller,c=a.scrollWidth>a.clientWidth,u=a.scrollHeight>a.clientHeight;if(n&&c||o&&u){if(o&&g&&l)t:for(var f=e.target,p=s.view;f!=a;f=f.parentNode)for(var d=0;d<p.length;d++)if(p[d].node==f){t.display.currentWheelTarget=f;break t}if(n&&!r&&!h&&null!=fn)return o&&u&&Li(t,Math.max(0,a.scrollTop+o*fn)),Mi(t,Math.max(0,a.scrollLeft+n*fn)),(!o||o&&u)&&ae(e),void(s.wheelStartX=null);if(o&&null!=fn){var m=o*fn,v=t.doc.scrollTop,_=v+s.wrapper.clientHeight;m<0?v=Math.max(0,v+m-50):_=Math.min(t.doc.height,_+m+50),sn(t,{top:v,bottom:_})}hn<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=n,s.wheelDY=o,setTimeout(function(){if(null!=s.wheelStartX){var t=a.scrollLeft-s.wheelStartX,e=a.scrollTop-s.wheelStartY,r=e&&s.wheelDY&&e/s.wheelDY||t&&s.wheelDX&&t/s.wheelDX;s.wheelStartX=s.wheelStartY=null,r&&(fn=(fn*hn+r)/(hn+1),++hn)}},200)):(s.wheelDX+=n,s.wheelDY+=o))}}s?fn=-.53:r?fn=15:u?fn=-.7:f&&(fn=-1/3);var vn=function(t,e){this.ranges=t,this.primIndex=e};vn.prototype.primary=function(){return this.ranges[this.primIndex]},vn.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var r=this.ranges[e],i=t.ranges[e];if(!_t(r.anchor,i.anchor)||!_t(r.head,i.head))return!1}return!0},vn.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new _n(gt(this.ranges[e].anchor),gt(this.ranges[e].head));return new vn(t,this.primIndex)},vn.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},vn.prototype.contains=function(t,e){e||(e=t);for(var r=0;r<this.ranges.length;r++){var i=this.ranges[r];if(vt(e,i.from())>=0&&vt(t,i.to())<=0)return r}return-1};var _n=function(t,e){this.anchor=t,this.head=e};function gn(t,e){var r=t[e];t.sort(function(t,e){return vt(t.from(),e.from())}),e=W(t,r);for(var i=1;i<t.length;i++){var n=t[i],o=t[i-1];if(vt(o.to(),n.from())>=0){var s=bt(o.from(),n.from()),a=yt(o.to(),n.to()),l=o.empty()?n.from()==n.head:o.from()==o.head;i<=e&&--e,t.splice(--i,2,new _n(l?a:s,l?s:a))}}return new vn(t,e)}function yn(t,e){return new vn([new _n(t,e||t)],0)}function bn(t){return t.text?mt(t.from.line+t.text.length-1,Z(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Cn(t,e){if(vt(t,e.from)<0)return t;if(vt(t,e.to)<=0)return bn(e);var r=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=bn(e).ch-e.to.ch),mt(r,i)}function wn(t,e){for(var r=[],i=0;i<t.sel.ranges.length;i++){var n=t.sel.ranges[i];r.push(new _n(Cn(n.anchor,e),Cn(n.head,e)))}return gn(r,t.sel.primIndex)}function xn(t,e,r){return t.line==e.line?mt(r.line,t.ch-e.ch+r.ch):mt(r.line+(t.line-e.line),t.ch)}function Sn(t){t.doc.mode=ke(t.options,t.doc.modeOption),An(t)}function An(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,tn(t,100),t.state.modeGen++,t.curOp&&Zi(t)}function kn(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Z(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function En(t,e,r,i){function n(t){return r?r[t]:null}function o(t,r,n){!function(t,e,r,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Rt(t),Ot(t,r);var n=i?i(t):1;n!=t.height&&ut(t,n)}(t,r,n,i),sr(t,"change",t,e)}function s(t,e){for(var r=[],o=t;o<e;++o)r.push(new Ve(c[o],n(o),i));return r}var a=e.from,l=e.to,c=e.text,u=at(t,a.line),h=at(t,l.line),f=Z(c),p=n(c.length-1),d=l.line-a.line;if(e.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(kn(t,e)){var m=s(0,c.length-1);o(h,h.text,p),d&&t.remove(a.line,d),m.length&&t.insert(a.line,m)}else if(u==h)if(1==c.length)o(u,u.text.slice(0,a.ch)+f+u.text.slice(l.ch),p);else{var v=s(1,c.length-1);v.push(new Ve(f+u.text.slice(l.ch),p,i)),o(u,u.text.slice(0,a.ch)+c[0],n(0)),t.insert(a.line+1,v)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),n(0)),t.remove(a.line+1,d);else{o(u,u.text.slice(0,a.ch)+c[0],n(0)),o(h,f+h.text.slice(l.ch),p);var _=s(1,c.length-1);d>1&&t.remove(a.line+1,d-1),t.insert(a.line+1,_)}sr(t,"change",t,e)}function Ln(t,e,r){!function t(i,n,o){if(i.linked)for(var s=0;s<i.linked.length;++s){var a=i.linked[s];if(a.doc!=n){var l=o&&a.sharedHist;r&&!l||(e(a.doc,l),t(a.doc,i,l))}}}(t,null,!0)}function Tn(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,ni(t),Sn(t),Mn(t),t.options.lineWrapping||Xt(t),t.options.mode=e.modeOption,Zi(t)}function Mn(t){("rtl"==t.doc.direction?H:k)(t.display.lineDiv,"CodeMirror-rtl")}function Rn(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function On(t,e){var r={from:gt(e.from),to:bn(e),text:lt(t,e.from,e.to)};return Nn(t,r,e.from.line,e.to.line+1),Ln(t,function(t){return Nn(t,r,e.from.line,e.to.line+1)},!0),r}function Hn(t){for(;t.length;){if(!Z(t).ranges)break;t.pop()}}function Dn(t,e,r,i){var n=t.history;n.undone.length=0;var o,s,a=+new Date;if((n.lastOp==i||n.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&n.lastModTime>a-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=function(t,e){return e?(Hn(t.done),Z(t.done)):t.done.length&&!Z(t.done).ranges?Z(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Z(t.done)):void 0}(n,n.lastOp==i)))s=Z(o.changes),0==vt(e.from,e.to)&&0==vt(e.from,s.to)?s.to=bn(e):o.changes.push(On(t,e));else{var l=Z(n.done);for(l&&l.ranges||Pn(t.sel,n.done),o={changes:[On(t,e)],generation:n.generation},n.done.push(o);n.done.length>n.undoDepth;)n.done.shift(),n.done[0].ranges||n.done.shift()}n.done.push(r),n.generation=++n.maxGeneration,n.lastModTime=n.lastSelTime=a,n.lastOp=n.lastSelOp=i,n.lastOrigin=n.lastSelOrigin=e.origin,s||re(t,"historyAdded")}function In(t,e,r,i){var n=t.history,o=i&&i.origin;r==n.lastSelOp||o&&n.lastSelOrigin==o&&(n.lastModTime==n.lastSelTime&&n.lastOrigin==o||function(t,e,r,i){var n=e.charAt(0);return"*"==n||"+"==n&&r.ranges.length==i.ranges.length&&r.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,Z(n.done),e))?n.done[n.done.length-1]=e:Pn(e,n.done),n.lastSelTime=+new Date,n.lastSelOrigin=o,n.lastSelOp=r,i&&!1!==i.clearRedo&&Hn(n.undone)}function Pn(t,e){var r=Z(e);r&&r.ranges&&r.equals(t)||e.push(t)}function Nn(t,e,r,i){var n=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,r),Math.min(t.first+t.size,i),function(r){r.markedSpans&&((n||(n=e["spans_"+t.id]={}))[o]=r.markedSpans),++o})}function Bn(t){if(!t)return null;for(var e,r=0;r<t.length;++r)t[r].marker.explicitlyCleared?e||(e=t.slice(0,r)):e&&e.push(t[r]);return e?e.length?e:null:t}function Fn(t,e){var r=function(t,e){var r=e["spans_"+t.id];if(!r)return null;for(var i=[],n=0;n<e.text.length;++n)i.push(Bn(r[n]));return i}(t,e),i=Tt(t,e);if(!r)return i;if(!i)return r;for(var n=0;n<r.length;++n){var o=r[n],s=i[n];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(r[n]=s)}return r}function Wn(t,e,r){for(var i=[],n=0;n<t.length;++n){var o=t[n];if(o.ranges)i.push(r?vn.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];i.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),e)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&W(e,Number(u[1]))>-1&&(Z(a)[h]=c[h],delete c[h])}}}return i}function jn(t,e,r,i){if(i){var n=t.anchor;if(r){var o=vt(e,n)<0;o!=vt(r,n)<0?(n=e,e=r):o!=vt(e,r)<0&&(e=r)}return new _n(n,e)}return new _n(r||e,e)}function $n(t,e,r,i,n){null==n&&(n=t.cm&&(t.cm.display.shift||t.extend)),Xn(t,new vn([jn(t.sel.primary(),e,r,n)],0),i)}function zn(t,e,r){for(var i=[],n=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)i[o]=jn(t.sel.ranges[o],e[o],null,n);Xn(t,gn(i,t.sel.primIndex),r)}function Un(t,e,r,i){var n=t.sel.ranges.slice(0);n[e]=r,Xn(t,gn(n,t.sel.primIndex),i)}function Vn(t,e,r,i){Xn(t,yn(e,r),i)}function Kn(t,e,r){var i=t.history.done,n=Z(i);n&&n.ranges?(i[i.length-1]=e,Gn(t,e,r)):Xn(t,e,r)}function Xn(t,e,r){Gn(t,e,r),In(t,t.sel,t.cm?t.cm.curOp.id:NaN,r)}function Gn(t,e,r){(oe(t,"beforeSelectionChange")||t.cm&&oe(t.cm,"beforeSelectionChange"))&&(e=function(t,e,r){var i={ranges:e.ranges,update:function(e){this.ranges=[];for(var r=0;r<e.length;r++)this.ranges[r]=new _n(wt(t,e[r].anchor),wt(t,e[r].head))},origin:r&&r.origin};return re(t,"beforeSelectionChange",t,i),t.cm&&re(t.cm,"beforeSelectionChange",t.cm,i),i.ranges!=e.ranges?gn(i.ranges,i.ranges.length-1):e}(t,e,r)),Zn(t,Yn(t,e,r&&r.bias||(vt(e.primary().head,t.sel.primary().head)<0?-1:1),!0)),r&&!1===r.scroll||!t.cm||Si(t.cm)}function Zn(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,ne(t.cm)),sr(t,"cursorActivity",t))}function qn(t){Zn(t,Yn(t,t.sel,null,!1))}function Yn(t,e,r,i){for(var n,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=Jn(t,s.anchor,a&&a.anchor,r,i),c=Jn(t,s.head,a&&a.head,r,i);(n||l!=s.anchor||c!=s.head)&&(n||(n=e.ranges.slice(0,o)),n[o]=new _n(l,c))}return n?gn(n,e.primIndex):e}function Qn(t,e,r,i,n){var o=at(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(l.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(n&&(re(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(r){var c=l.find(i<0?1:-1),u=void 0;if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(c=to(t,c,-i,c&&c.line==e.line?o:null)),c&&c.line==e.line&&(u=vt(c,r))&&(i<0?u<0:u>0))return Qn(t,c,e,i,n)}var h=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(h=to(t,h,i,h.line==e.line?o:null)),h?Qn(t,h,e,i,n):null}}return e}function Jn(t,e,r,i,n){var o=i||1,s=Qn(t,e,r,o,n)||!n&&Qn(t,e,r,o,!0)||Qn(t,e,r,-o,n)||!n&&Qn(t,e,r,-o,!0);return s||(t.cantEdit=!0,mt(t.first,0))}function to(t,e,r,i){return r<0&&0==e.ch?e.line>t.first?wt(t,mt(e.line-1)):null:r>0&&e.ch==(i||at(t,e.line)).text.length?e.line<t.first+t.size-1?mt(e.line+1,0):null:new mt(e.line,e.ch+r)}function eo(t){t.setSelection(mt(t.firstLine(),0),mt(t.lastLine()),z)}function ro(t,e,r){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return i.canceled=!0}};return r&&(i.update=function(e,r,n,o){e&&(i.from=wt(t,e)),r&&(i.to=wt(t,r)),n&&(i.text=n),void 0!==o&&(i.origin=o)}),re(t,"beforeChange",t,i),t.cm&&re(t.cm,"beforeChange",t.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function io(t,e,r){if(t.cm){if(!t.cm.curOp)return Ki(t.cm,io)(t,e,r);if(t.cm.state.suppressEdits)return}if(!(oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"))||(e=ro(t,e,!0))){var i=St&&!r&&function(t,e,r){var i=null;if(t.iter(e.line,r.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var r=t.markedSpans[e].marker;!r.readOnly||i&&-1!=W(i,r)||(i||(i=[])).push(r)}}),!i)return null;for(var n=[{from:e,to:r}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<n.length;++l){var c=n[l];if(!(vt(c.to,a.from)<0||vt(c.from,a.to)>0)){var u=[l,1],h=vt(c.from,a.from),f=vt(c.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(f>0||!s.inclusiveRight&&!f)&&u.push({from:a.to,to:c.to}),n.splice.apply(n,u),l+=u.length-3}}return n}(t,e.from,e.to);if(i)for(var n=i.length-1;n>=0;--n)no(t,{from:i[n].from,to:i[n].to,text:n?[""]:e.text,origin:e.origin});else no(t,e)}}function no(t,e){if(1!=e.text.length||""!=e.text[0]||0!=vt(e.from,e.to)){var r=wn(t,e);Dn(t,e,r,t.cm?t.cm.curOp.id:NaN),ao(t,e,r,Tt(t,e));var i=[];Ln(t,function(t,r){r||-1!=W(i,t.history)||(ho(t.history,e),i.push(t.history)),ao(t,e,null,Tt(t,e))})}}function oo(t,e,r){if(!t.cm||!t.cm.state.suppressEdits||r){for(var i,n=t.history,o=t.sel,s="undo"==e?n.done:n.undone,a="undo"==e?n.undone:n.done,l=0;l<s.length&&(i=s[l],r?!i.ranges||i.equals(t.sel):i.ranges);l++);if(l!=s.length){for(n.lastOrigin=n.lastSelOrigin=null;(i=s.pop()).ranges;){if(Pn(i,a),r&&!i.equals(t.sel))return void Xn(t,i,{clearRedo:!1});o=i}var c=[];Pn(o,a),a.push({changes:c,generation:n.generation}),n.generation=i.generation||++n.maxGeneration;for(var u=oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"),h=function(r){var n=i.changes[r];if(n.origin=e,u&&!ro(t,n,!1))return s.length=0,{};c.push(On(t,n));var o=r?wn(t,n):Z(s);ao(t,n,o,Fn(t,n)),!r&&t.cm&&t.cm.scrollIntoView({from:n.from,to:bn(n)});var a=[];Ln(t,function(t,e){e||-1!=W(a,t.history)||(ho(t.history,n),a.push(t.history)),ao(t,n,null,Fn(t,n))})},f=i.changes.length-1;f>=0;--f){var p=h(f);if(p)return p.v}}}}function so(t,e){if(0!=e&&(t.first+=e,t.sel=new vn(q(t.sel.ranges,function(t){return new _n(mt(t.anchor.line+e,t.anchor.ch),mt(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){Zi(t.cm,t.first,t.first-e,e);for(var r=t.cm.display,i=r.viewFrom;i<r.viewTo;i++)qi(t.cm,i,"gutter")}}function ao(t,e,r,i){if(t.cm&&!t.cm.curOp)return Ki(t.cm,ao)(t,e,r,i);if(e.to.line<t.first)so(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var n=e.text.length-1-(t.first-e.from.line);so(t,n),e={from:mt(t.first,0),to:mt(e.to.line+n,e.to.ch),text:[Z(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:mt(o,at(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=lt(t,e.from,e.to),r||(r=wn(t,e)),t.cm?function(t,e,r){var i=t.doc,n=t.display,o=e.from,s=e.to,a=!1,l=o.line;t.options.lineWrapping||(l=ht(Wt(at(i,o.line))),i.iter(l,s.line+1,function(t){if(t==n.maxLine)return a=!0,!0}));i.sel.contains(e.from,e.to)>-1&&ne(t);En(i,e,r,ii(t)),t.options.lineWrapping||(i.iter(l,o.line+e.text.length,function(t){var e=Kt(t);e>n.maxLineLength&&(n.maxLine=t,n.maxLineLength=e,n.maxLineChanged=!0,a=!1)}),a&&(t.curOp.updateMaxLine=!0));(function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var r=t.first,i=e-1;i>r;i--){var n=at(t,i).stateAfter;if(n&&(!(n instanceof He)||i+n.lookAhead<e)){r=i+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,r)}})(i,o.line),tn(t,400);var c=e.text.length-(s.line-o.line)-1;e.full?Zi(t):o.line!=s.line||1!=e.text.length||kn(t.doc,e)?Zi(t,o.line,s.line+1,c):qi(t,o.line,"text");var u=oe(t,"changes"),h=oe(t,"change");if(h||u){var f={from:o,to:s,text:e.text,removed:e.removed,origin:e.origin};h&&sr(t,"change",t,f),u&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(f)}t.display.selForContextMenu=null}(t.cm,e,i):En(t,e,i),Gn(t,r,z)}}function lo(t,e,r,i,n){var o;(i||(i=r),vt(i,r)<0)&&(r=(o=[i,r])[0],i=o[1]);"string"==typeof e&&(e=t.splitLines(e)),io(t,{from:r,to:i,text:e,origin:n})}function co(t,e,r,i){r<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function uo(t,e,r,i){for(var n=0;n<t.length;++n){var o=t[n],s=!0;if(o.ranges){o.copied||((o=t[n]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)co(o.ranges[a].anchor,e,r,i),co(o.ranges[a].head,e,r,i)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(r<c.from.line)c.from=mt(c.from.line+i,c.from.ch),c.to=mt(c.to.line+i,c.to.ch);else if(e<=c.to.line){s=!1;break}}s||(t.splice(0,n+1),n=0)}}}function ho(t,e){var r=e.from.line,i=e.to.line,n=e.text.length-(i-r)-1;uo(t.done,r,i,n),uo(t.undone,r,i,n)}function fo(t,e,r,i){var n=e,o=e;return"number"==typeof e?o=at(t,Ct(t,e)):n=ht(e),null==n?null:(i(o,n)&&t.cm&&qi(t.cm,n,r),o)}function po(t){this.lines=t,this.parent=null;for(var e=0,r=0;r<t.length;++r)t[r].parent=this,e+=t[r].height;this.height=e}function mo(t){this.children=t;for(var e=0,r=0,i=0;i<t.length;++i){var n=t[i];e+=n.chunkSize(),r+=n.height,n.parent=this}this.size=e,this.height=r,this.parent=null}_n.prototype.from=function(){return bt(this.anchor,this.head)},_n.prototype.to=function(){return yt(this.anchor,this.head)},_n.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},po.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var r=t,i=t+e;r<i;++r){var n=this.lines[r];this.height-=n.height,Ke(n),sr(n,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,r){this.height+=r,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,r){for(var i=t+e;t<i;++t)if(r(this.lines[t]))return!0}},mo.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var r=0;r<this.children.length;++r){var i=this.children[r],n=i.chunkSize();if(t<n){var o=Math.min(e,n-t),s=i.height;if(i.removeInner(t,o),this.height-=s-i.height,n==o&&(this.children.splice(r--,1),i.parent=null),0==(e-=o))break;t=0}else t-=n}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof po))){var a=[];this.collapse(a),this.children=[new po(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,r){this.size+=e.length,this.height+=r;for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(t<=o){if(n.insertInner(t,e,r),n.lines&&n.lines.length>50){for(var s=n.lines.length%25+25,a=s;a<n.lines.length;){var l=new po(n.lines.slice(a,a+=25));n.height-=l.height,this.children.splice(++i,0,l),l.parent=this}n.lines=n.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new mo(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var r=W(t.parent.children,t);t.parent.children.splice(r+1,0,e)}else{var i=new mo(t.children);i.parent=t,t.children=[i,e],t=i}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,r){for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(t<o){var s=Math.min(e,o-t);if(n.iterN(t,s,r))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var vo=function(t,e,r){if(r)for(var i in r)r.hasOwnProperty(i)&&(this[i]=r[i]);this.doc=t,this.node=e};function _o(t,e,r){Vt(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&xi(t,r)}vo.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,r=this.line,i=ht(r);if(null!=i&&e){for(var n=0;n<e.length;++n)e[n]==this&&e.splice(n--,1);e.length||(r.widgets=null);var o=yr(this);ut(r,Math.max(0,r.height-o)),t&&(Vi(t,function(){_o(t,r,-o),qi(t,i,"widget")}),sr(t,"lineWidgetCleared",t,this,i))}},vo.prototype.changed=function(){var t=this,e=this.height,r=this.doc.cm,i=this.line;this.height=null;var n=yr(this)-e;n&&(ut(i,i.height+n),r&&Vi(r,function(){r.curOp.forceUpdate=!0,_o(r,i,n),sr(r,"lineWidgetChanged",r,t,ht(i))}))},se(vo);var go=0,yo=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++go};function bo(t,e,r,i,n){if(i&&i.shared)return function(t,e,r,i,n){(i=N(i)).shared=!1;var o=[bo(t,e,r,i,n)],s=o[0],a=i.widgetNode;return Ln(t,function(t){a&&(i.widgetNode=a.cloneNode(!0)),o.push(bo(t,wt(t,e),wt(t,r),i,n));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=Z(o)}),new Co(o,s)}(t,e,r,i,n);if(t.cm&&!t.cm.curOp)return Ki(t.cm,bo)(t,e,r,i,n);var o=new yo(t,n),s=vt(e,r);if(i&&N(i,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=M("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Ft(t,e.line,e,r,o)||e.line!=r.line&&Ft(t,r.line,e,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");At=!0}o.addToHistory&&Dn(t,{from:e,to:r,origin:"markText"},t.sel,NaN);var a,l=e.line,c=t.cm;if(t.iter(l,r.line+1,function(t){c&&o.collapsed&&!c.options.lineWrapping&&Wt(t)==c.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&ut(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new kt(o,l==e.line?e.ch:null,l==r.line?r.ch:null)),++l}),o.collapsed&&t.iter(e.line,r.line+1,function(e){zt(t,e)&&ut(e,0)}),o.clearOnEnter&&Jt(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(St=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++go,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)Zi(c,e.line,r.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=e.line;u<=r.line;u++)qi(c,u,"text");o.atomic&&qn(c.doc),sr(c,"markerAdded",c,o)}return o}yo.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Fi(t),oe(this,"clear")){var r=this.find();r&&sr(this,"clear",r.from,r.to)}for(var i=null,n=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Et(s.markedSpans,this);t&&!this.collapsed?qi(t,ht(s),"text"):t&&(null!=a.to&&(n=ht(s)),null!=a.from&&(i=ht(s))),s.markedSpans=Lt(s.markedSpans,a),null==a.from&&this.collapsed&&!zt(this.doc,s)&&t&&ut(s,Jr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Wt(this.lines[l]),u=Kt(c);u>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&Zi(t,i,n+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&qn(t.doc)),t&&sr(t,"markerCleared",t,this,i,n),e&&Wi(t),this.parent&&this.parent.clear()}},yo.prototype.find=function(t,e){var r,i;null==t&&"bookmark"==this.type&&(t=1);for(var n=0;n<this.lines.length;++n){var o=this.lines[n],s=Et(o.markedSpans,this);if(null!=s.from&&(r=mt(e?o:ht(o),s.from),-1==t))return r;if(null!=s.to&&(i=mt(e?o:ht(o),s.to),1==t))return i}return r&&{from:r,to:i}},yo.prototype.changed=function(){var t=this,e=this.find(-1,!0),r=this,i=this.doc.cm;e&&i&&Vi(i,function(){var n=e.line,o=ht(e.line),s=Tr(i,o);if(s&&(Pr(s),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!zt(r.doc,n)&&null!=r.height){var a=r.height;r.height=null;var l=yr(r)-a;l&&ut(n,n.height+l)}sr(i,"markerChanged",i,t)})},yo.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=W(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},yo.prototype.detachLine=function(t){if(this.lines.splice(W(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},se(yo);var Co=function(t,e){this.markers=t,this.primary=e;for(var r=0;r<t.length;++r)t[r].parent=this};function wo(t){return t.findMarks(mt(t.first,0),t.clipPos(mt(t.lastLine())),function(t){return t.parent})}function xo(t){for(var e=function(e){var r=t[e],i=[r.primary.doc];Ln(r.primary.doc,function(t){return i.push(t)});for(var n=0;n<r.markers.length;n++){var o=r.markers[n];-1==W(i,o.doc)&&(o.parent=null,r.markers.splice(n--,1))}},r=0;r<t.length;r++)e(r)}Co.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();sr(this,"clear")}},Co.prototype.find=function(t,e){return this.primary.find(t,e)},se(Co);var So=0,Ao=function(t,e,r,i,n){if(!(this instanceof Ao))return new Ao(t,e,r,i,n);null==r&&(r=0),mo.call(this,[new po([new Ve("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=mt(r,0);this.sel=yn(o),this.history=new Rn(null),this.id=++So,this.modeOption=e,this.lineSep=i,this.direction="rtl"==n?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),En(this,{from:o,to:o,text:t}),Xn(this,yn(o),z)};Ao.prototype=Q(mo.prototype,{constructor:Ao,iter:function(t,e,r){r?this.iterN(t-this.first,e-t,r):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var r=0,i=0;i<e.length;++i)r+=e[i].height;this.insertInner(t-this.first,e,r)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=ct(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:Gi(function(t){var e=mt(this.first,0),r=this.first+this.size-1;io(this,{from:e,to:mt(r,at(this,r).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Ai(this.cm,0,0),Xn(this,yn(e),z)}),replaceRange:function(t,e,r,i){lo(this,t,e=wt(this,e),r=r?wt(this,r):e,i)},getRange:function(t,e,r){var i=lt(this,wt(this,t),wt(this,e));return!1===r?i:i.join(r||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(pt(this,t))return at(this,t)},getLineNumber:function(t){return ht(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=at(this,t)),Wt(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return wt(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Gi(function(t,e,r){Vn(this,wt(this,"number"==typeof t?mt(t,e||0):t),null,r)}),setSelection:Gi(function(t,e,r){Vn(this,wt(this,t),wt(this,e||t),r)}),extendSelection:Gi(function(t,e,r){$n(this,wt(this,t),e&&wt(this,e),r)}),extendSelections:Gi(function(t,e){zn(this,xt(this,t),e)}),extendSelectionsBy:Gi(function(t,e){zn(this,xt(this,q(this.sel.ranges,t)),e)}),setSelections:Gi(function(t,e,r){if(t.length){for(var i=[],n=0;n<t.length;n++)i[n]=new _n(wt(this,t[n].anchor),wt(this,t[n].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Xn(this,gn(i,e),r)}}),addSelection:Gi(function(t,e,r){var i=this.sel.ranges.slice(0);i.push(new _n(wt(this,t),wt(this,e||t))),Xn(this,gn(i,i.length-1),r)}),getSelection:function(t){for(var e,r=this.sel.ranges,i=0;i<r.length;i++){var n=lt(this,r[i].from(),r[i].to());e=e?e.concat(n):n}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],r=this.sel.ranges,i=0;i<r.length;i++){var n=lt(this,r[i].from(),r[i].to());!1!==t&&(n=n.join(t||this.lineSeparator())),e[i]=n}return e},replaceSelection:function(t,e,r){for(var i=[],n=0;n<this.sel.ranges.length;n++)i[n]=t;this.replaceSelections(i,e,r||"+input")},replaceSelections:Gi(function(t,e,r){for(var i=[],n=this.sel,o=0;o<n.ranges.length;o++){var s=n.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:r}}for(var a=e&&"end"!=e&&function(t,e,r){for(var i=[],n=mt(t.first,0),o=n,s=0;s<e.length;s++){var a=e[s],l=xn(a.from,n,o),c=xn(bn(a),n,o);if(n=a.to,o=c,"around"==r){var u=t.sel.ranges[s],h=vt(u.head,u.anchor)<0;i[s]=new _n(h?c:l,h?l:c)}else i[s]=new _n(l,l)}return new vn(i,t.sel.primIndex)}(this,i,e),l=i.length-1;l>=0;l--)io(this,i[l]);a?Kn(this,a):this.cm&&Si(this.cm)}),undo:Gi(function(){oo(this,"undo")}),redo:Gi(function(){oo(this,"redo")}),undoSelection:Gi(function(){oo(this,"undo",!0)}),redoSelection:Gi(function(){oo(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,r=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(var n=0;n<t.undone.length;n++)t.undone[n].ranges||++r;return{undo:e,redo:r}},clearHistory:function(){this.history=new Rn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Wn(this.history.done),undone:Wn(this.history.undone)}},setHistory:function(t){var e=this.history=new Rn(this.history.maxGeneration);e.done=Wn(t.done.slice(0),null,!0),e.undone=Wn(t.undone.slice(0),null,!0)},setGutterMarker:Gi(function(t,e,r){return fo(this,t,"gutter",function(t){var i=t.gutterMarkers||(t.gutterMarkers={});return i[e]=r,!r&&rt(i)&&(t.gutterMarkers=null),!0})}),clearGutter:Gi(function(t){var e=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[t]&&fo(e,r,"gutter",function(){return r.gutterMarkers[t]=null,rt(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if("number"==typeof t){if(!pt(this,t))return null;if(e=t,!(t=at(this,t)))return null}else if(null==(e=ht(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Gi(function(t,e,r){return fo(this,t,"gutter"==e?"gutter":"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[i]){if(S(r).test(t[i]))return!1;t[i]+=" "+r}else t[i]=r;return!0})}),removeLineClass:Gi(function(t,e,r){return fo(this,t,"gutter"==e?"gutter":"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",n=t[i];if(!n)return!1;if(null==r)t[i]=null;else{var o=n.match(S(r));if(!o)return!1;var s=o.index+o[0].length;t[i]=n.slice(0,o.index)+(o.index&&s!=n.length?" ":"")+n.slice(s)||null}return!0})}),addLineWidget:Gi(function(t,e,r){return function(t,e,r,i){var n=new vo(t,r,i),o=t.cm;return o&&n.noHScroll&&(o.display.alignWidgets=!0),fo(t,e,"widget",function(e){var r=e.widgets||(e.widgets=[]);if(null==n.insertAt?r.push(n):r.splice(Math.min(r.length-1,Math.max(0,n.insertAt)),0,n),n.line=e,o&&!zt(t,e)){var i=Vt(e)<t.scrollTop;ut(e,e.height+yr(n)),i&&xi(o,n.height),o.curOp.forceUpdate=!0}return!0}),sr(o,"lineWidgetAdded",o,n,"number"==typeof e?e:ht(e)),n}(this,t,e,r)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,r){return bo(this,wt(this,t),wt(this,e),r,r&&r.type||"range")},setBookmark:function(t,e){var r={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return bo(this,t=wt(this,t),t,r,"bookmark")},findMarksAt:function(t){var e=[],r=at(this,(t=wt(this,t)).line).markedSpans;if(r)for(var i=0;i<r.length;++i){var n=r[i];(null==n.from||n.from<=t.ch)&&(null==n.to||n.to>=t.ch)&&e.push(n.marker.parent||n.marker)}return e},findMarks:function(t,e,r){t=wt(this,t),e=wt(this,e);var i=[],n=t.line;return this.iter(t.line,e.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&n==t.line&&t.ch>=l.to||null==l.from&&n!=t.line||null!=l.from&&n==e.line&&l.from>=e.ch||r&&!r(l.marker)||i.push(l.marker.parent||l.marker)}++n}),i},getAllMarks:function(){var t=[];return this.iter(function(e){var r=e.markedSpans;if(r)for(var i=0;i<r.length;++i)null!=r[i].from&&t.push(r[i].marker)}),t},posFromIndex:function(t){var e,r=this.first,i=this.lineSeparator().length;return this.iter(function(n){var o=n.text.length+i;if(o>t)return e=t,!0;t-=o,++r}),wt(this,mt(r,e))},indexFromPos:function(t){var e=(t=wt(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+r}),e},copy:function(t){var e=new Ao(ct(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,r=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<r&&(r=t.to);var i=new Ao(ct(this,e,r),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var r=0;r<e.length;r++){var i=e[r],n=i.find(),o=t.clipPos(n.from),s=t.clipPos(n.to);if(vt(o,s)){var a=bo(t,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}(i,wo(this)),i},unlinkDoc:function(t){if(t instanceof ws&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),xo(wo(this));break}}if(t.history==this.history){var r=[t.id];Ln(t,function(t){return r.push(t.id)},!0),t.history=new Rn(null),t.history.done=Wn(this.history.done,r),t.history.undone=Wn(this.history.undone,r)}},iterLinkedDocs:function(t){Ln(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):ye(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Gi(function(t){var e;("rtl"!=t&&(t="ltr"),t!=this.direction)&&(this.direction=t,this.iter(function(t){return t.order=null}),this.cm&&Vi(e=this.cm,function(){Mn(e),Zi(e)}))})}),Ao.prototype.eachLine=Ao.prototype.iter;var ko=0;function Eo(t){var e=this;if(Lo(e),!ie(e,t)&&!br(e.display,t)){ae(t),s&&(ko=+new Date);var r=oi(e,t,!0),i=t.dataTransfer.files;if(r&&!e.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var n=i.length,o=Array(n),a=0,l=function(t,i){if(!e.options.allowDropFileTypes||-1!=W(e.options.allowDropFileTypes,t.type)){var s=new FileReader;s.onload=Ki(e,function(){var t=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[i]=t,++a==n){var l={from:r=wt(e.doc,r),to:r,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};io(e.doc,l),Kn(e.doc,yn(r,bn(l)))}}),s.readAsText(t)}},c=0;c<n;++c)l(i[c],c);else{if(e.state.draggingText&&e.doc.sel.contains(r)>-1)return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var u=t.dataTransfer.getData("Text");if(u){var h;if(e.state.draggingText&&!e.state.draggingText.copy&&(h=e.listSelections()),Gn(e.doc,yn(r,r)),h)for(var f=0;f<h.length;++f)lo(e.doc,"",h[f].anchor,h[f].head,"drag");e.replaceSelection(u,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Lo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function To(t){if(document.getElementsByClassName)for(var e=document.getElementsByClassName("CodeMirror"),r=0;r<e.length;r++){var i=e[r].CodeMirror;i&&t(i)}}var Mo=!1;function Ro(){var t;Mo||(Jt(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,To(Oo)},100))}),Jt(window,"blur",function(){return To(vi)}),Mo=!0)}function Oo(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}for(var Ho={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Do=0;Do<10;Do++)Ho[Do+48]=Ho[Do+96]=String(Do);for(var Io=65;Io<=90;Io++)Ho[Io]=String.fromCharCode(Io);for(var Po=1;Po<=12;Po++)Ho[Po+111]=Ho[Po+63235]="F"+Po;var No={};function Bo(t){var e,r,i,n,o=t.split(/-(?!$)/);t=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))n=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return e&&(t="Alt-"+t),r&&(t="Ctrl-"+t),n&&(t="Cmd-"+t),i&&(t="Shift-"+t),t}function Fo(t){var e={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==i){delete t[r];continue}for(var n=q(r.split(" "),Bo),o=0;o<n.length;o++){var s=void 0,a=void 0;o==n.length-1?(a=n.join(" "),s=i):(a=n.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[r]}for(var c in e)t[c]=e[c];return t}function Wo(t,e,r,i){var n=(e=Uo(e)).call?e.call(t,i):e[t];if(!1===n)return"nothing";if("..."===n)return"multi";if(null!=n&&r(n))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Wo(t,e.fallthrough,r,i);for(var o=0;o<e.fallthrough.length;o++){var s=Wo(t,e.fallthrough[o],r,i);if(s)return s}}}function jo(t){var e="string"==typeof t?t:Ho[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function $o(t,e,r){var i=t;return e.altKey&&"Alt"!=i&&(t="Alt-"+t),(w?e.metaKey:e.ctrlKey)&&"Ctrl"!=i&&(t="Ctrl-"+t),(w?e.ctrlKey:e.metaKey)&&"Cmd"!=i&&(t="Cmd-"+t),!r&&e.shiftKey&&"Shift"!=i&&(t="Shift-"+t),t}function zo(t,e){if(h&&34==t.keyCode&&t.char)return!1;var r=Ho[t.keyCode];return null!=r&&!t.altGraphKey&&$o(r,t,e)}function Uo(t){return"string"==typeof t?No[t]:t}function Vo(t,e){for(var r=t.doc.sel.ranges,i=[],n=0;n<r.length;n++){for(var o=e(r[n]);i.length&&vt(o.from,Z(i).to)<=0;){var s=i.pop();if(vt(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}Vi(t,function(){for(var e=i.length-1;e>=0;e--)lo(t.doc,"",i[e].from,i[e].to,"+delete");Si(t)})}function Ko(t,e,r){var i=ot(t.text,e+r,r);return i<0||i>t.text.length?null:i}function Xo(t,e,r){var i=Ko(t,e.ch,r);return null==i?null:new mt(e.line,i,r<0?"after":"before")}function Go(t,e,r,i,n){if(t){var o=Yt(r,e.doc.direction);if(o){var s,a=n<0?Z(o):o[0],l=n<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==e.doc.direction){var c=Mr(e,r);s=n<0?r.text.length-1:0;var u=Rr(e,c,s).top;s=st(function(t){return Rr(e,c,t).top==u},n<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Ko(r,s,1))}else s=n<0?a.to:a.from;return new mt(i,s,l)}}return new mt(i,n<0?r.text.length:0,n<0?"before":"after")}No.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},No.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},No.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},No.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},No.default=g?No.macDefault:No.pcDefault;var Zo={selectAll:eo,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),z)},killLine:function(t){return Vo(t,function(e){if(e.empty()){var r=at(t.doc,e.head.line).text.length;return e.head.ch==r&&e.head.line<t.lastLine()?{from:e.head,to:mt(e.head.line+1,0)}:{from:e.head,to:mt(e.head.line,r)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return Vo(t,function(e){return{from:mt(e.from().line,0),to:wt(t.doc,mt(e.to().line+1,0))}})},delLineLeft:function(t){return Vo(t,function(t){return{from:mt(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return Vo(t,function(e){var r=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:r},"div"),to:e.from()}})},delWrappedLineRight:function(t){return Vo(t,function(e){var r=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:r},"div");return{from:e.from(),to:i}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(mt(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(mt(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return qo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Yo(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return function(t,e){var r=at(t.doc,e),i=function(t){for(var e;e=Bt(t);)t=e.find(1,!0).line;return t}(r);i!=r&&(e=ht(i));return Go(!0,t,r,e,-1)}(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var r=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:r},"div")},V)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var r=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:r},"div")},V)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var r=t.cursorCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:r},"div");return i.ch<t.getLine(i.line).search(/\S/)?Yo(t,e.head):i},V)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],r=t.listSelections(),i=t.options.tabSize,n=0;n<r.length;n++){var o=r[n].from(),s=B(t.getLine(o.line),o.ch,i);e.push(G(i-s%i))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Vi(t,function(){for(var e=t.listSelections(),r=[],i=0;i<e.length;i++)if(e[i].empty()){var n=e[i].head,o=at(t.doc,n.line).text;if(o)if(n.ch==o.length&&(n=new mt(n.line,n.ch-1)),n.ch>0)n=new mt(n.line,n.ch+1),t.replaceRange(o.charAt(n.ch-1)+o.charAt(n.ch-2),mt(n.line,n.ch-2),n,"+transpose");else if(n.line>t.doc.first){var s=at(t.doc,n.line-1).text;s&&(n=new mt(n.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),mt(n.line-1,s.length-1),n,"+transpose"))}r.push(new _n(n,n))}t.setSelections(r)})},newlineAndIndent:function(t){return Vi(t,function(){for(var e=t.listSelections(),r=e.length-1;r>=0;r--)t.replaceRange(t.doc.lineSeparator(),e[r].anchor,e[r].head,"+input");e=t.listSelections();for(var i=0;i<e.length;i++)t.indentLine(e[i].from().line,null,!0);Si(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function qo(t,e){var r=at(t.doc,e),i=Wt(r);return i!=r&&(e=ht(i)),Go(!0,t,i,e,1)}function Yo(t,e){var r=qo(t,e.line),i=at(t.doc,r.line),n=Yt(i,t.doc.direction);if(!n||0==n[0].level){var o=Math.max(0,i.text.search(/\S/)),s=e.line==r.line&&e.ch<=o&&e.ch;return mt(r.line,s?0:o,r.sticky)}return r}function Qo(t,e,r){if("string"==typeof e&&!(e=Zo[e]))return!1;t.display.input.ensurePolled();var i=t.display.shift,n=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r&&(t.display.shift=!1),n=e(t)!=$}finally{t.display.shift=i,t.state.suppressEdits=!1}return n}var Jo=new F;function ts(t,e,r,i){var n=t.state.keySeq;if(n){if(jo(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:Jo.set(50,function(){t.state.keySeq==n&&(t.state.keySeq=null,t.display.input.reset())}),es(t,n+" "+e,r,i))return!0}return es(t,e,r,i)}function es(t,e,r,i){var n=function(t,e,r){for(var i=0;i<t.state.keyMaps.length;i++){var n=Wo(e,t.state.keyMaps[i],r,t);if(n)return n}return t.options.extraKeys&&Wo(e,t.options.extraKeys,r,t)||Wo(e,t.options.keyMap,r,t)}(t,e,i);return"multi"==n&&(t.state.keySeq=e),"handled"==n&&sr(t,"keyHandled",t,e,r),"handled"!=n&&"multi"!=n||(ae(r),fi(t)),!!n}function rs(t,e){var r=zo(e,!0);return!!r&&(e.shiftKey&&!t.state.keySeq?ts(t,"Shift-"+r,e,function(e){return Qo(t,e,!0)})||ts(t,r,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return Qo(t,e)}):ts(t,r,e,function(e){return Qo(t,e)}))}var is=null;function ns(t){var e=this;if(e.curOp.focus=O(),!ie(e,t)){s&&a<11&&27==t.keyCode&&(t.returnValue=!1);var r=t.keyCode;e.display.shift=16==r||t.shiftKey;var i=rs(e,t);h&&(is=i?r:null,!i&&88==r&&!Ce&&(g?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function r(t){18!=t.keyCode&&t.altKey||(k(e,"CodeMirror-crosshair"),ee(document,"keyup",r),ee(document,"mouseover",r))}H(e,"CodeMirror-crosshair"),Jt(document,"keyup",r),Jt(document,"mouseover",r)}(e)}}function os(t){16==t.keyCode&&(this.doc.sel.shift=!1),ie(this,t)}function ss(t){var e=this;if(!(br(e.display,t)||ie(e,t)||t.ctrlKey&&!t.altKey||g&&t.metaKey)){var r=t.keyCode,i=t.charCode;if(h&&r==is)return is=null,void ae(t);if(!h||t.which&&!(t.which<10)||!rs(e,t)){var n=String.fromCharCode(null==i?r:i);"\b"!=n&&(function(t,e,r){return ts(t,"'"+r+"'",e,function(e){return Qo(t,e,!0)})}(e,t,n)||e.display.input.onKeyPress(t))}}}var as,ls,cs=function(t,e,r){this.time=t,this.pos=e,this.button=r};function us(t){var e=this,r=e.display;if(!(ie(e,t)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=t.shiftKey,br(r,t))l||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!ps(e,t)){var i=oi(e,t),n=fe(t),o=i?function(t,e){var r=+new Date;return ls&&ls.compare(r,t,e)?(as=ls=null,"triple"):as&&as.compare(r,t,e)?(ls=new cs(r,t,e),as=null,"double"):(as=new cs(r,t,e),ls=null,"single")}(i,n):"single";window.focus(),1==n&&e.state.selectingText&&e.state.selectingText(t),i&&function(t,e,r,i,n){var o="Click";"double"==i?o="Double"+o:"triple"==i&&(o="Triple"+o);return ts(t,$o(o=(1==e?"Left":2==e?"Middle":"Right")+o,n),n,function(e){if("string"==typeof e&&(e=Zo[e]),!e)return!1;var i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i=e(t,r)!=$}finally{t.state.suppressEdits=!1}return i})}(e,n,i,o,t)||(1==n?i?function(t,e,r,i){s?setTimeout(P(pi,t),0):t.curOp.focus=O();var n,o=function(t,e,r){var i=t.getOption("configureMouse"),n=i?i(t,e,r):{};if(null==n.unit){var o=y?r.shiftKey&&r.metaKey:r.altKey;n.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}(null==n.extend||t.doc.extend)&&(n.extend=t.doc.extend||r.shiftKey);null==n.addNew&&(n.addNew=g?r.metaKey:r.ctrlKey);null==n.moveOnDrag&&(n.moveOnDrag=!(g?r.altKey:r.ctrlKey));return n}(t,r,i),c=t.doc.sel;t.options.dragDrop&&me&&!t.isReadOnly()&&"single"==r&&(n=c.contains(e))>-1&&(vt((n=c.ranges[n]).from(),e)<0||e.xRel>0)&&(vt(n.to(),e)>0||e.xRel<0)?function(t,e,r,i){var n=t.display,o=!1,c=Ki(t,function(e){l&&(n.scroller.draggable=!1),t.state.draggingText=!1,ee(document,"mouseup",c),ee(document,"mousemove",u),ee(n.scroller,"dragstart",h),ee(n.scroller,"drop",c),o||(ae(e),i.addNew||$n(t.doc,r,null,null,i.extend),l||s&&9==a?setTimeout(function(){document.body.focus(),n.input.focus()},20):n.input.focus())}),u=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},h=function(){return o=!0};l&&(n.scroller.draggable=!0);t.state.draggingText=c,c.copy=!i.moveOnDrag,n.scroller.dragDrop&&n.scroller.dragDrop();Jt(document,"mouseup",c),Jt(document,"mousemove",u),Jt(n.scroller,"dragstart",h),Jt(n.scroller,"drop",c),di(t),setTimeout(function(){return n.input.focus()},20)}(t,i,e,o):function(t,e,r,i){var n=t.display,o=t.doc;ae(e);var s,a,l=o.sel,c=l.ranges;i.addNew&&!i.extend?(a=o.sel.contains(r),s=a>-1?c[a]:new _n(r,r)):(s=o.sel.primary(),a=o.sel.primIndex);if("rectangle"==i.unit)i.addNew||(s=new _n(r,r)),r=oi(t,e,!0,!0),a=-1;else{var u=hs(t,r,i.unit);s=i.extend?jn(s,u.anchor,u.head,i.extend):u}i.addNew?-1==a?(a=c.length,Xn(o,gn(c.concat([s]),a),{scroll:!1,origin:"*mouse"})):c.length>1&&c[a].empty()&&"char"==i.unit&&!i.extend?(Xn(o,gn(c.slice(0,a).concat(c.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Un(o,a,s,U):(a=0,Xn(o,new vn([s],0),U),l=o.sel);var h=r;function f(e){if(0!=vt(h,e))if(h=e,"rectangle"==i.unit){for(var n=[],c=t.options.tabSize,u=B(at(o,r.line).text,r.ch,c),f=B(at(o,e.line).text,e.ch,c),p=Math.min(u,f),d=Math.max(u,f),m=Math.min(r.line,e.line),v=Math.min(t.lastLine(),Math.max(r.line,e.line));m<=v;m++){var _=at(o,m).text,g=K(_,p,c);p==d?n.push(new _n(mt(m,g),mt(m,g))):_.length>g&&n.push(new _n(mt(m,g),mt(m,K(_,d,c))))}n.length||n.push(new _n(r,r)),Xn(o,gn(l.ranges.slice(0,a).concat(n),a),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var y,b=s,C=hs(t,e,i.unit),w=b.anchor;vt(C.anchor,w)>0?(y=C.head,w=bt(b.from(),C.anchor)):(y=C.anchor,w=yt(b.to(),C.head));var x=l.ranges.slice(0);x[a]=function(t,e){var r=e.anchor,i=e.head,n=at(t.doc,r.line);if(0==vt(r,i)&&r.sticky==i.sticky)return e;var o=Yt(n);if(!o)return e;var s=Zt(o,r.ch,r.sticky),a=o[s];if(a.from!=r.ch&&a.to!=r.ch)return e;var l,c=s+(a.from==r.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return e;if(i.line!=r.line)l=(i.line-r.line)*("ltr"==t.doc.direction?1:-1)>0;else{var u=Zt(o,i.ch,i.sticky),h=u-s||(i.ch-r.ch)*(1==a.level?-1:1);l=u==c-1||u==c?h<0:h>0}var f=o[c+(l?-1:0)],p=l==(1==f.level),d=p?f.from:f.to,m=p?"after":"before";return r.ch==d&&r.sticky==m?e:new _n(new mt(r.line,d,m),i)}(t,new _n(wt(o,w),y)),Xn(o,gn(x,a),U)}}var p=n.wrapper.getBoundingClientRect(),d=0;function m(e){t.state.selectingText=!1,d=1/0,ae(e),n.input.focus(),ee(document,"mousemove",v),ee(document,"mouseup",_),o.history.lastSelOrigin=null}var v=Ki(t,function(e){fe(e)?function e(r){var s=++d;var a=oi(t,r,!0,"rectangle"==i.unit);if(!a)return;if(0!=vt(a,h)){t.curOp.focus=O(),f(a);var l=yi(n,o);(a.line>=l.to||a.line<l.from)&&setTimeout(Ki(t,function(){d==s&&e(r)}),150)}else{var c=r.clientY<p.top?-20:r.clientY>p.bottom?20:0;c&&setTimeout(Ki(t,function(){d==s&&(n.scroller.scrollTop+=c,e(r))}),50)}}(e):m(e)}),_=Ki(t,m);t.state.selectingText=_,Jt(document,"mousemove",v),Jt(document,"mouseup",_)}(t,i,e,o)}(e,i,o,t):he(t)==r.scroller&&ae(t):2==n?(i&&$n(e.doc,i),setTimeout(function(){return r.input.focus()},20)):3==n&&(x?ds(e,t):di(e)))}}function hs(t,e,r){if("char"==r)return new _n(e,e);if("word"==r)return t.findWordAt(e);if("line"==r)return new _n(mt(e.line,0),wt(t.doc,mt(e.line+1,0)));var i=r(t,e);return new _n(i.from,i.to)}function fs(t,e,r,i){var n,o;if(e.touches)n=e.touches[0].clientX,o=e.touches[0].clientY;else try{n=e.clientX,o=e.clientY}catch(e){return!1}if(n>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&ae(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!oe(t,r))return ce(e);o-=a.top-s.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=n)return re(t,r,t,ft(t.doc,o),t.options.gutters[l],e),ce(e)}}function ps(t,e){return fs(t,e,"gutterClick",!0)}function ds(t,e){br(t.display,e)||function(t,e){if(!oe(t,"gutterContextMenu"))return!1;return fs(t,e,"gutterContextMenu",!1)}(t,e)||ie(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function ms(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Br(t)}cs.prototype.compare=function(t,e,r){return this.time+400>t&&0==vt(e,this.pos)&&r==this.button};var vs={toString:function(){return"CodeMirror.Init"}},_s={},gs={};function ys(t){cn(t),Zi(t),bi(t)}function bs(t,e,r){if(!e!=!(r&&r!=vs)){var i=t.display.dragFunctions,n=e?Jt:ee;n(t.display.scroller,"dragstart",i.start),n(t.display.scroller,"dragenter",i.enter),n(t.display.scroller,"dragover",i.over),n(t.display.scroller,"dragleave",i.leave),n(t.display.scroller,"drop",i.drop)}}function Cs(t){t.options.lineWrapping?(H(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(k(t.display.wrapper,"CodeMirror-wrap"),Xt(t)),ni(t),Zi(t),Br(t),setTimeout(function(){return Di(t)},100)}function ws(t,e){var i=this;if(!(this instanceof ws))return new ws(t,e);this.options=e=e?N(e):{},N(_s,e,!1),un(e);var n=e.value;"string"==typeof n&&(n=new Ao(n,e.mode,null,e.lineSeparator,e.direction)),this.doc=n;var o=new ws.inputStyles[e.inputStyle](this),c=this.display=new function(t,e,i){var n=this;this.input=i,n.scrollbarFiller=T("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=T("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=M("div",null,"CodeMirror-code"),n.selectionDiv=T("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=T("div",null,"CodeMirror-cursors"),n.measure=T("div",null,"CodeMirror-measure"),n.lineMeasure=T("div",null,"CodeMirror-measure"),n.lineSpace=M("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none");var o=M("div",[n.lineSpace],"CodeMirror-lines");n.mover=T("div",[o],null,"position: relative"),n.sizer=T("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=T("div",null,null,"position: absolute; height: "+j+"px; width: 1px;"),n.gutters=T("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=T("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=T("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),s&&a<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),l||r&&_||(n.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(n.wrapper):t(n.wrapper)),n.viewFrom=n.viewTo=e.first,n.reportedViewFrom=n.reportedViewTo=e.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,i.init(n)}(t,n,o);for(var u in c.wrapper.CodeMirror=this,cn(this),ms(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ni(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new F,keySeq:null,specialChars:null},e.autofocus&&!_&&c.input.focus(),s&&a<11&&setTimeout(function(){return i.display.input.reset(!0)},20),function(t){var e=t.display;Jt(e.scroller,"mousedown",Ki(t,us)),Jt(e.scroller,"dblclick",s&&a<11?Ki(t,function(e){if(!ie(t,e)){var r=oi(t,e);if(r&&!ps(t,e)&&!br(t.display,e)){ae(e);var i=t.findWordAt(r);$n(t.doc,i.anchor,i.head)}}}):function(e){return ie(t,e)||ae(e)});x||Jt(e.scroller,"contextmenu",function(e){return ds(t,e)});var r,i={end:0};function n(){e.activeTouch&&(r=setTimeout(function(){return e.activeTouch=null},1e3),(i=e.activeTouch).end=+new Date)}function o(t,e){if(null==e.left)return!0;var r=e.left-t.left,i=e.top-t.top;return r*r+i*i>400}Jt(e.scroller,"touchstart",function(n){if(!ie(t,n)&&!function(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}(n)&&!ps(t,n)){e.input.ensurePolled(),clearTimeout(r);var o=+new Date;e.activeTouch={start:o,moved:!1,prev:o-i.end<=300?i:null},1==n.touches.length&&(e.activeTouch.left=n.touches[0].pageX,e.activeTouch.top=n.touches[0].pageY)}}),Jt(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),Jt(e.scroller,"touchend",function(r){var i=e.activeTouch;if(i&&!br(e,r)&&null!=i.left&&!i.moved&&new Date-i.start<300){var s,a=t.coordsChar(e.activeTouch,"page");s=!i.prev||o(i,i.prev)?new _n(a,a):!i.prev.prev||o(i,i.prev.prev)?t.findWordAt(a):new _n(mt(a.line,0),wt(t.doc,mt(a.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),ae(r)}n()}),Jt(e.scroller,"touchcancel",n),Jt(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Li(t,e.scroller.scrollTop),Mi(t,e.scroller.scrollLeft,!0),re(t,"scroll",t))}),Jt(e.scroller,"mousewheel",function(e){return mn(t,e)}),Jt(e.scroller,"DOMMouseScroll",function(e){return mn(t,e)}),Jt(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(e){ie(t,e)||ue(e)},over:function(e){ie(t,e)||(!function(t,e){var r=oi(t,e);if(r){var i=document.createDocumentFragment();ci(t,r,i),t.display.dragCursor||(t.display.dragCursor=T("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),L(t.display.dragCursor,i)}}(t,e),ue(e))},start:function(e){return function(t,e){if(s&&(!t.state.draggingText||+new Date-ko<100))ue(e);else if(!ie(t,e)&&!br(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!f)){var r=T("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(r.width=r.height=1,t.display.wrapper.appendChild(r),r._top=r.offsetTop),e.dataTransfer.setDragImage(r,0,0),h&&r.parentNode.removeChild(r)}}(t,e)},drop:Ki(t,Eo),leave:function(e){ie(t,e)||Lo(t)}};var l=e.input.getField();Jt(l,"keyup",function(e){return os.call(t,e)}),Jt(l,"keydown",Ki(t,ns)),Jt(l,"keypress",Ki(t,ss)),Jt(l,"focus",function(e){return mi(t,e)}),Jt(l,"blur",function(e){return vi(t,e)})}(this),Ro(),Fi(this),this.curOp.forceUpdate=!0,Tn(this,n),e.autofocus&&!_||this.hasFocus()?setTimeout(P(mi,this),20):vi(this),gs)gs.hasOwnProperty(u)&&gs[u](i,e[u],vs);Ci(this),e.finishInit&&e.finishInit(this);for(var p=0;p<xs.length;++p)xs[p](i);Wi(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(c.lineDiv).textRendering&&(c.lineDiv.style.textRendering="auto")}ws.defaults=_s,ws.optionHandlers=gs;var xs=[];function Ss(t,e,r,i){var n,o=t.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?n=Ne(t,e).state:r="prev");var s=t.options.tabSize,a=at(o,e),l=B(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==r&&((c=o.mode.indent(n,a.text.slice(u.length),a.text))==$||c>150)){if(!i)return;r="prev"}}else c=0,r="not";"prev"==r?c=e>o.first?B(at(o,e-1).text,null,s):0:"add"==r?c=l+t.options.indentUnit:"subtract"==r?c=l-t.options.indentUnit:"number"==typeof r&&(c=l+r),c=Math.max(0,c);var h="",f=0;if(t.options.indentWithTabs)for(var p=Math.floor(c/s);p;--p)f+=s,h+="\t";if(f<c&&(h+=G(c-f)),h!=u)return lo(o,h,mt(e,0),mt(e,u.length),"+input"),a.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var m=o.sel.ranges[d];if(m.head.line==e&&m.head.ch<u.length){var v=mt(e,u.length);Un(o,d,new _n(v,v));break}}}ws.defineInitHook=function(t){return xs.push(t)};var As=null;function ks(t){As=t}function Es(t,e,r,i,n){var o=t.doc;t.display.shift=!1,i||(i=o.sel);var s,a=t.state.pasteIncoming||"paste"==n,l=ye(e),c=null;if(a&&i.ranges.length>1)if(As&&As.text.join("\n")==e){if(i.ranges.length%As.text.length==0){c=[];for(var u=0;u<As.text.length;u++)c.push(o.splitLines(As.text[u]))}}else l.length==i.ranges.length&&t.options.pasteLinesPerSelection&&(c=q(l,function(t){return[t]}));for(var h=i.ranges.length-1;h>=0;h--){var f=i.ranges[h],p=f.from(),d=f.to();f.empty()&&(r&&r>0?p=mt(p.line,p.ch-r):t.state.overwrite&&!a?d=mt(d.line,Math.min(at(o,d.line).text.length,d.ch+Z(l).length)):As&&As.lineWise&&As.text.join("\n")==e&&(p=d=mt(p.line,0))),s=t.curOp.updateInput;var m={from:p,to:d,text:c?c[h%c.length]:l,origin:n||(a?"paste":t.state.cutIncoming?"cut":"+input")};io(t.doc,m),sr(t,"inputRead",t,m)}e&&!a&&Ts(t,e),Si(t),t.curOp.updateInput=s,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Ls(t,e){var r=t.clipboardData&&t.clipboardData.getData("Text");if(r)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Vi(e,function(){return Es(e,r,0,null,"paste")}),!0}function Ts(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var r=t.doc.sel,i=r.ranges.length-1;i>=0;i--){var n=r.ranges[i];if(!(n.head.ch>100||i&&r.ranges[i-1].head.line==n.head.line)){var o=t.getModeAt(n.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Ss(t,n.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(at(t.doc,n.head.line).text.slice(0,n.head.ch))&&(s=Ss(t,n.head.line,"smart"));s&&sr(t,"electricInput",t,n.head.line)}}}function Ms(t){for(var e=[],r=[],i=0;i<t.doc.sel.ranges.length;i++){var n=t.doc.sel.ranges[i].head.line,o={anchor:mt(n,0),head:mt(n+1,0)};r.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:r}}function Rs(t,e){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck",!!e)}function Os(){var t=T("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=T("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),m&&(t.style.border="1px solid black"),Rs(t),e}function Hs(t,e,r,i,n){var o=e,s=r,a=at(t,e.line);function l(i){var o,s;if(null==(o=n?function(t,e,r,i){var n=Yt(e,t.doc.direction);if(!n)return Xo(e,r,i);r.ch>=e.text.length?(r.ch=e.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=Zt(n,r.ch,r.sticky),s=n[o];if("ltr"==t.doc.direction&&s.level%2==0&&(i>0?s.to>r.ch:s.from<r.ch))return Xo(e,r,i);var a,l=function(t,r){return Ko(e,t instanceof mt?t.ch:t,r)},c=function(r){return t.options.lineWrapping?(a=a||Mr(t,e),qr(t,e,a,r)):{begin:0,end:e.text.length}},u=c("before"==r.sticky?l(r,-1):r.ch);if("rtl"==t.doc.direction||1==s.level){var h=1==s.level==i<0,f=l(r,h?1:-1);if(null!=f&&(h?f<=s.to&&f<=u.end:f>=s.from&&f>=u.begin)){var p=h?"before":"after";return new mt(r.line,f,p)}}var d=function(t,e,i){for(var o=function(t,e){return e?new mt(r.line,l(t,1),"before"):new mt(r.line,t,"after")};t>=0&&t<n.length;t+=e){var s=n[t],a=e>0==(1!=s.level),c=a?i.begin:l(i.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),i.begin<=c&&c<i.end)return o(c,a)}},m=d(o+i,i,u);if(m)return m;var v=i>0?u.end:l(u.begin,-1);return null==v||i>0&&v==e.text.length||!(m=d(i>0?0:n.length-1,i,c(v)))?null:m}(t.cm,a,e,r):Xo(a,e,r))){if(i||(s=e.line+r)<t.first||s>=t.first+t.size||(e=new mt(s,e.ch,e.sticky),!(a=at(t,s))))return!1;e=Go(n,t.cm,a,e.line,r)}else e=o;return!0}if("char"==i)l();else if("column"==i)l(!0);else if("word"==i||"group"==i)for(var c=null,u="group"==i,h=t.cm&&t.cm.getHelper(e,"wordChars"),f=!0;!(r<0)||l(!f);f=!1){var p=a.text.charAt(e.ch)||"\n",d=et(p,h)?"w":u&&"\n"==p?"n":!u||/\s/.test(p)?null:"p";if(!u||f||d||(d="s"),c&&c!=d){r<0&&(r=1,l(),e.sticky="after");break}if(d&&(c=d),r>0&&!l(!f))break}var m=Jn(t,e,o,s,!0);return _t(o,m)&&(m.hitSide=!0),m}function Ds(t,e,r,i){var n,o,s=t.doc,a=e.left;if("page"==i){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*Jr(t.display),3);n=(r>0?e.bottom:e.top)+r*c}else"line"==i&&(n=r>0?e.bottom+3:e.top-3);for(;(o=Gr(t,a,n)).outside;){if(r<0?n<=0:n>=s.height){o.hitSide=!0;break}n+=5*r}return o}var Is=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new F,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ps(t,e){var r=Tr(t,e.line);if(!r||r.hidden)return null;var i=at(t.doc,e.line),n=Er(r,i,e.line),o=Yt(i,t.doc.direction),s="left";o&&(s=Zt(o,e.ch)%2?"right":"left");var a=Dr(n.map,e.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Ns(t,e){return e&&(t.bad=!0),t}function Bs(t,e,r){var i;if(e==t.display.lineDiv){if(!(i=t.display.lineDiv.childNodes[r]))return Ns(t.clipPos(mt(t.display.viewTo-1)),!0);e=null,r=0}else for(i=e;;i=i.parentNode){if(!i||i==t.display.lineDiv)return null;if(i.parentNode&&i.parentNode==t.display.lineDiv)break}for(var n=0;n<t.display.view.length;n++){var o=t.display.view[n];if(o.node==i)return Fs(o,e,r)}}function Fs(t,e,r){var i=t.text.firstChild,n=!1;if(!e||!R(i,e))return Ns(mt(ht(t.line),0),!0);if(e==i&&(n=!0,e=i.childNodes[r],r=0,!e)){var o=t.rest?Z(t.rest):t.line;return Ns(mt(ht(o),o.text.length),n)}var s=3==e.nodeType?e:null,a=e;for(s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,r&&(r=s.nodeValue.length));a.parentNode!=i;)a=a.parentNode;var l=t.measure,c=l.maps;function u(e,r,i){for(var n=-1;n<(c?c.length:0);n++)for(var o=n<0?l.map:c[n],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==r){var u=ht(n<0?t.line:t.rest[n]),h=o[s]+i;return(i<0||a!=e)&&(h=o[s+(i?1:0)]),mt(u,h)}}}var h=u(s,a,r);if(h)return Ns(h,n);for(var f=a.nextSibling,p=s?s.nodeValue.length-r:0;f;f=f.nextSibling){if(h=u(f,f.firstChild,0))return Ns(mt(h.line,h.ch-p),n);p+=f.textContent.length}for(var d=a.previousSibling,m=r;d;d=d.previousSibling){if(h=u(d,d.firstChild,-1))return Ns(mt(h.line,h.ch+m),n);m+=d.textContent.length}}Is.prototype.init=function(t){var e=this,r=this,i=r.cm,n=r.div=t.lineDiv;function o(t){if(!ie(i,t)){if(i.somethingSelected())ks({lineWise:!1,text:i.getSelections()}),"cut"==t.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var e=Ms(i);ks({lineWise:!0,text:e.text}),"cut"==t.type&&i.operation(function(){i.setSelections(e.ranges,0,z),i.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var o=As.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var s=Os(),a=s.firstChild;i.display.lineSpace.insertBefore(s,i.display.lineSpace.firstChild),a.value=As.text.join("\n");var l=document.activeElement;I(a),setTimeout(function(){i.display.lineSpace.removeChild(s),l.focus(),l==n&&r.showPrimarySelection()},50)}}Rs(n,i.options.spellcheck),Jt(n,"paste",function(t){ie(i,t)||Ls(t,i)||a<=11&&setTimeout(Ki(i,function(){return e.updateFromDOM()}),20)}),Jt(n,"compositionstart",function(t){e.composing={data:t.data,done:!1}}),Jt(n,"compositionupdate",function(t){e.composing||(e.composing={data:t.data,done:!1})}),Jt(n,"compositionend",function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),Jt(n,"touchstart",function(){return r.forceCompositionEnd()}),Jt(n,"input",function(){e.composing||e.readFromDOMSoon()}),Jt(n,"copy",o),Jt(n,"cut",o)},Is.prototype.prepareSelection=function(){var t=li(this.cm,!1);return t.focus=this.cm.state.focused,t},Is.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Is.prototype.showPrimarySelection=function(){var t=window.getSelection(),e=this.cm,i=e.doc.sel.primary(),n=i.from(),o=i.to();if(e.display.viewTo==e.display.viewFrom||n.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var s=Bs(e,t.anchorNode,t.anchorOffset),a=Bs(e,t.focusNode,t.focusOffset);if(!s||s.bad||!a||a.bad||0!=vt(bt(s,a),n)||0!=vt(yt(s,a),o)){var l=e.display.view,c=n.line>=e.display.viewFrom&&Ps(e,n)||{node:l[0].measure.map[2],offset:0},u=o.line<e.display.viewTo&&Ps(e,o);if(!u){var h=l[l.length-1].measure,f=h.maps?h.maps[h.maps.length-1]:h.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(c&&u){var p,d=t.rangeCount&&t.getRangeAt(0);try{p=A(c.node,c.offset,u.offset,u.node)}catch(t){}p&&(!r&&e.state.focused?(t.collapse(c.node,c.offset),p.collapsed||(t.removeAllRanges(),t.addRange(p))):(t.removeAllRanges(),t.addRange(p)),d&&null==t.anchorNode?t.addRange(d):r&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Is.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Is.prototype.showMultipleSelections=function(t){L(this.cm.display.cursorDiv,t.cursors),L(this.cm.display.selectionDiv,t.selection)},Is.prototype.rememberSelection=function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Is.prototype.selectionInEditor=function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return R(this.div,e)},Is.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Is.prototype.blur=function(){this.div.blur()},Is.prototype.getField=function(){return this.div},Is.prototype.supportsTouch=function(){return!0},Is.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Vi(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},Is.prototype.selectionChanged=function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Is.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;if(v&&u&&this.cm.options.gutters.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Bs(e,t.anchorNode,t.anchorOffset),i=Bs(e,t.focusNode,t.focusOffset);r&&i&&Vi(e,function(){Xn(e.doc,yn(r,i),z),(r.bad||i.bad)&&(e.curOp.selectionChanged=!0)})}}},Is.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,r,i=this.cm,n=i.display,o=i.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>i.firstLine()&&(s=mt(s.line-1,at(i.doc,s.line-1).length)),a.ch==at(i.doc,a.line).text.length&&a.line<i.lastLine()&&(a=mt(a.line+1,0)),s.line<n.viewFrom||a.line>n.viewTo-1)return!1;s.line==n.viewFrom||0==(t=si(i,s.line))?(e=ht(n.view[0].line),r=n.view[0].node):(e=ht(n.view[t].line),r=n.view[t-1].node.nextSibling);var l,c,u=si(i,a.line);if(u==n.view.length-1?(l=n.viewTo-1,c=n.lineDiv.lastChild):(l=ht(n.view[u+1].line)-1,c=n.view[u+1].node.previousSibling),!r)return!1;for(var h=i.doc.splitLines(function(t,e,r,i,n){var o="",s=!1,a=t.doc.lineSeparator();function l(){s&&(o+=a,s=!1)}function c(t){t&&(l(),o+=t)}function u(e){if(1==e.nodeType){var r=e.getAttribute("cm-text");if(null!=r)return void c(r||e.textContent.replace(/\u200b/g,""));var o,h=e.getAttribute("cm-marker");if(h){var f=t.findMarks(mt(i,0),mt(n+1,0),(m=+h,function(t){return t.id==m}));return void(f.length&&(o=f[0].find(0))&&c(lt(t.doc,o.from,o.to).join(a)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(e.nodeName);p&&l();for(var d=0;d<e.childNodes.length;d++)u(e.childNodes[d]);p&&(s=!0)}else 3==e.nodeType&&c(e.nodeValue);var m}for(;u(e),e!=r;)e=e.nextSibling;return o}(i,r,c,e,l)),f=lt(i.doc,mt(e,0),mt(l,at(i.doc,l).text.length));h.length>1&&f.length>1;)if(Z(h)==Z(f))h.pop(),f.pop(),l--;else{if(h[0]!=f[0])break;h.shift(),f.shift(),e++}for(var p=0,d=0,m=h[0],v=f[0],_=Math.min(m.length,v.length);p<_&&m.charCodeAt(p)==v.charCodeAt(p);)++p;for(var g=Z(h),y=Z(f),b=Math.min(g.length-(1==h.length?p:0),y.length-(1==f.length?p:0));d<b&&g.charCodeAt(g.length-d-1)==y.charCodeAt(y.length-d-1);)++d;if(1==h.length&&1==f.length&&e==s.line)for(;p&&p>s.ch&&g.charCodeAt(g.length-d-1)==y.charCodeAt(y.length-d-1);)p--,d++;h[h.length-1]=g.slice(0,g.length-d).replace(/^\u200b+/,""),h[0]=h[0].slice(p).replace(/\u200b+$/,"");var C=mt(e,p),w=mt(l,f.length?Z(f).length-d:0);return h.length>1||h[0]||vt(C,w)?(lo(i.doc,h,C,w,"+input"),!0):void 0},Is.prototype.ensurePolled=function(){this.forceCompositionEnd()},Is.prototype.reset=function(){this.forceCompositionEnd()},Is.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Is.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()},80))},Is.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Vi(this.cm,function(){return Zi(t.cm)})},Is.prototype.setUneditable=function(t){t.contentEditable="false"},Is.prototype.onKeyPress=function(t){0!=t.charCode&&(t.preventDefault(),this.cm.isReadOnly()||Ki(this.cm,Es)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Is.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Is.prototype.onContextMenu=function(){},Is.prototype.resetPosition=function(){},Is.prototype.needsContentAttribute=!0;var Ws=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new F,this.hasSelection=!1,this.composing=null};Ws.prototype.init=function(t){var e=this,r=this,i=this.cm,n=this.wrapper=Os(),o=this.textarea=n.firstChild;function l(t){if(!ie(i,t)){if(i.somethingSelected())ks({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var e=Ms(i);ks({lineWise:!0,text:e.text}),"cut"==t.type?i.setSelections(e.ranges,null,z):(r.prevInput="",o.value=e.text.join("\n"),I(o))}"cut"==t.type&&(i.state.cutIncoming=!0)}}t.wrapper.insertBefore(n,t.wrapper.firstChild),m&&(o.style.width="0px"),Jt(o,"input",function(){s&&a>=9&&e.hasSelection&&(e.hasSelection=null),r.poll()}),Jt(o,"paste",function(t){ie(i,t)||Ls(t,i)||(i.state.pasteIncoming=!0,r.fastPoll())}),Jt(o,"cut",l),Jt(o,"copy",l),Jt(t.scroller,"paste",function(e){br(t,e)||ie(i,e)||(i.state.pasteIncoming=!0,r.focus())}),Jt(t.lineSpace,"selectstart",function(e){br(t,e)||ae(e)}),Jt(o,"compositionstart",function(){var t=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:t,range:i.markText(t,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Jt(o,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},Ws.prototype.prepareSelection=function(){var t=this.cm,e=t.display,r=t.doc,i=li(t);if(t.options.moveInputWithCursor){var n=Vr(t,r.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,n.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,n.left+s.left-o.left))}return i},Ws.prototype.showSelection=function(t){var e=this.cm.display;L(e.cursorDiv,t.cursors),L(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Ws.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var r=e.getSelection();this.textarea.value=r,e.state.focused&&I(this.textarea),s&&a>=9&&(this.hasSelection=r)}else t||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},Ws.prototype.getField=function(){return this.textarea},Ws.prototype.supportsTouch=function(){return!1},Ws.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!_||O()!=this.textarea))try{this.textarea.focus()}catch(t){}},Ws.prototype.blur=function(){this.textarea.blur()},Ws.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ws.prototype.receivedFocus=function(){this.slowPoll()},Ws.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},Ws.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,function r(){e.poll()||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,r))})},Ws.prototype.poll=function(){var t=this,e=this.cm,r=this.textarea,i=this.prevInput;if(this.contextMenuPending||!e.state.focused||be(r)&&!i&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var n=r.value;if(n==i&&!e.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===n||g&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=n.charCodeAt(0);if(8203!=o||i||(i=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(i.length,n.length);l<c&&i.charCodeAt(l)==n.charCodeAt(l);)++l;return Vi(e,function(){Es(e,n.slice(l),i.length-l,null,t.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?r.value=t.prevInput="":t.prevInput=n,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ws.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ws.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},Ws.prototype.onContextMenu=function(t){var e=this,r=e.cm,i=r.display,n=e.textarea,o=oi(r,t),c=i.scroller.scrollTop;if(o&&!h){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o)&&Ki(r,Xn)(r.doc,yn(o),z);var u=n.style.cssText,f=e.wrapper.style.cssText;e.wrapper.style.cssText="position: absolute";var p,d=e.wrapper.getBoundingClientRect();if(n.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-d.top-5)+"px; left: "+(t.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(p=window.scrollY),i.input.focus(),l&&window.scrollTo(null,p),i.input.reset(),r.somethingSelected()||(n.value=e.prevInput=" "),e.contextMenuPending=!0,i.selForContextMenu=r.doc.sel,clearTimeout(i.detectingSelectAll),s&&a>=9&&v(),x){ue(t);var m=function(){ee(window,"mouseup",m),setTimeout(_,20)};Jt(window,"mouseup",m)}else setTimeout(_,50)}function v(){if(null!=n.selectionStart){var t=r.somethingSelected(),o=""+(t?n.value:"");n.value="",n.value=o,e.prevInput=t?"":"",n.selectionStart=1,n.selectionEnd=o.length,i.selForContextMenu=r.doc.sel}}function _(){if(e.contextMenuPending=!1,e.wrapper.style.cssText=f,n.style.cssText=u,s&&a<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=c),null!=n.selectionStart){(!s||s&&a<9)&&v();var t=0,o=function(){i.selForContextMenu==r.doc.sel&&0==n.selectionStart&&n.selectionEnd>0&&""==e.prevInput?Ki(r,eo)(r):t++<10?i.detectingSelectAll=setTimeout(o,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(o,200)}}},Ws.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},Ws.prototype.setUneditable=function(){},Ws.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function r(r,i,n,o){t.defaults[r]=i,n&&(e[r]=o?function(t,e,r){r!=vs&&n(t,e,r)}:n)}t.defineOption=r,t.Init=vs,r("value","",function(t,e){return t.setValue(e)},!0),r("mode",null,function(t,e){t.doc.modeOption=e,Sn(t)},!0),r("indentUnit",2,Sn,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(t){An(t),Br(t),Zi(t)},!0),r("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var r=[],i=t.doc.first;t.doc.iter(function(t){for(var n=0;;){var o=t.text.indexOf(e,n);if(-1==o)break;n=o+e.length,r.push(mt(i,o))}i++});for(var n=r.length-1;n>=0;n--)lo(t.doc,e,r[n],mt(r[n].line,r[n].ch+e.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,e,r){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),r!=vs&&t.refresh()}),r("specialCharPlaceholder",Ye,function(t){return t.refresh()},!0),r("electricChars",!0),r("inputStyle",_?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(t,e){return t.getInputField().spellcheck=e},!0),r("rtlMoveVisually",!b),r("wholeLineUpdateBefore",!0),r("theme","default",function(t){ms(t),ys(t)},!0),r("keyMap","default",function(t,e,r){var i=Uo(e),n=r!=vs&&Uo(r);n&&n.detach&&n.detach(t,i),i.attach&&i.attach(t,n||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,Cs,!0),r("gutters",[],function(t){un(t.options),ys(t)},!0),r("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?ri(t.display)+"px":"0",t.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(t){return Di(t)},!0),r("scrollbarStyle","native",function(t){Ni(t),Di(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),r("lineNumbers",!1,function(t){un(t.options),ys(t)},!0),r("firstLineNumber",1,ys,!0),r("lineNumberFormatter",function(t){return t},ys,!0),r("showCursorWhenSelecting",!1,ai,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("readOnly",!1,function(t,e){"nocursor"==e&&(vi(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)}),r("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),r("dragDrop",!0,bs),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,ai,!0),r("singleCursorHeightPerLine",!0,ai,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,An,!0),r("addModeClass",!1,An,!0),r("pollInterval",100),r("undoDepth",200,function(t,e){return t.doc.history.undoDepth=e}),r("historyEventDelay",1250),r("viewportMargin",10,function(t){return t.refresh()},!0),r("maxHighlightLength",1e4,An,!0),r("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),r("tabindex",null,function(t,e){return t.display.input.getField().tabIndex=e||""}),r("autofocus",null),r("direction","ltr",function(t,e){return t.doc.setDirection(e)},!0)}(ws),function(t){var e=t.optionHandlers,r=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,r){var i=this.options,n=i[t];i[t]==r&&"mode"!=t||(i[t]=r,e.hasOwnProperty(t)&&Ki(this,e[t])(this,r,n),re(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Uo(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,r=0;r<e.length;++r)if(e[r]==t||e[r].name==t)return e.splice(r,1),!0},addOverlay:Xi(function(e,r){var i=e.token?e:t.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");!function(t,e,r){for(var i=0,n=r(e);i<t.length&&r(t[i])<=n;)i++;t.splice(i,0,e)}(this.state.overlays,{mode:i,modeSpec:e,opaque:r&&r.opaque,priority:r&&r.priority||0},function(t){return t.priority}),this.state.modeGen++,Zi(this)}),removeOverlay:Xi(function(t){for(var e=this.state.overlays,r=0;r<e.length;++r){var i=e[r].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(r,1),this.state.modeGen++,void Zi(this)}}),indentLine:Xi(function(t,e,r){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),pt(this.doc,t)&&Ss(this,t,e,r)}),indentSelection:Xi(function(t){for(var e=this.doc.sel.ranges,r=-1,i=0;i<e.length;i++){var n=e[i];if(n.empty())n.head.line>r&&(Ss(this,n.head.line,t,!0),r=n.head.line,i==this.doc.sel.primIndex&&Si(this));else{var o=n.from(),s=n.to(),a=Math.max(r,o.line);r=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<r;++l)Ss(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[i].from().ch>0&&Un(this.doc,i,new _n(o,c[i].to()),z)}}}),getTokenAt:function(t,e){return $e(this,t,e)},getLineTokens:function(t,e){return $e(this,mt(t),e,!0)},getTokenTypeAt:function(t){t=wt(this.doc,t);var e,r=Pe(this,at(this.doc,t.line)),i=0,n=(r.length-1)/2,o=t.ch;if(0==o)e=r[2];else for(;;){var s=i+n>>1;if((s?r[2*s-1]:0)>=o)n=s;else{if(!(r[2*s+1]<o)){e=r[2*s+2];break}i=s+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(e).state).mode:r},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var i=[];if(!r.hasOwnProperty(e))return i;var n=r[e],o=this.getModeAt(t);if("string"==typeof o[e])n[o[e]]&&i.push(n[o[e]]);else if(o[e])for(var s=0;s<o[e].length;s++){var a=n[o[e][s]];a&&i.push(a)}else o.helperType&&n[o.helperType]?i.push(n[o.helperType]):n[o.name]&&i.push(n[o.name]);for(var l=0;l<n._global.length;l++){var c=n._global[l];c.pred(o,this)&&-1==W(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(t,e){var r=this.doc;return Ne(this,(t=Ct(r,null==t?r.first+r.size-1:t))+1,e).state},cursorCoords:function(t,e){var r=this.doc.sel.primary();return Vr(this,null==t?r.head:"object"==typeof t?wt(this.doc,t):t?r.from():r.to(),e||"page")},charCoords:function(t,e){return Ur(this,wt(this.doc,t),e||"page")},coordsChar:function(t,e){return Gr(this,(t=zr(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=zr(this,{top:t,left:0},e||"page").top,ft(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,r){var i,n=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,n=!0),i=at(this.doc,t)}else i=t;return $r(this,i,{top:0,left:0},e||"page",r||n).top+(n?this.doc.height-Vt(i):0)},defaultTextHeight:function(){return Jr(this.display)},defaultCharWidth:function(){return ti(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,r,i,n){var o,s,a,l=this.display,c=(t=Vr(this,wt(this.doc,t))).bottom,u=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),l.sizer.appendChild(e),"over"==i)c=t.top;else if("above"==i||"near"==i){var h=Math.max(l.wrapper.clientHeight,this.doc.height),f=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>h)&&t.top>e.offsetHeight?c=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=h&&(c=t.bottom),u+e.offsetWidth>f&&(u=f-e.offsetWidth)}e.style.top=c+"px",e.style.left=e.style.right="","right"==n?(u=l.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==n?u=0:"middle"==n&&(u=(l.sizer.clientWidth-e.offsetWidth)/2),e.style.left=u+"px"),r&&(o=this,s={left:u,top:c,right:u+e.offsetWidth,bottom:c+e.offsetHeight},null!=(a=wi(o,s)).scrollTop&&Li(o,a.scrollTop),null!=a.scrollLeft&&Mi(o,a.scrollLeft))},triggerOnKeyDown:Xi(ns),triggerOnKeyPress:Xi(ss),triggerOnKeyUp:os,triggerOnMouseDown:Xi(us),execCommand:function(t){if(Zo.hasOwnProperty(t))return Zo[t].call(null,this)},triggerElectric:Xi(function(t){Ts(this,t)}),findPosH:function(t,e,r,i){var n=1;e<0&&(n=-1,e=-e);for(var o=wt(this.doc,t),s=0;s<e&&!(o=Hs(this.doc,o,n,r,i)).hitSide;++s);return o},moveH:Xi(function(t,e){var r=this;this.extendSelectionsBy(function(i){return r.display.shift||r.doc.extend||i.empty()?Hs(r.doc,i.head,t,e,r.options.rtlMoveVisually):t<0?i.from():i.to()},V)}),deleteH:Xi(function(t,e){var r=this.doc.sel,i=this.doc;r.somethingSelected()?i.replaceSelection("",null,"+delete"):Vo(this,function(r){var n=Hs(i,r.head,t,e,!1);return t<0?{from:n,to:r.head}:{from:r.head,to:n}})}),findPosV:function(t,e,r,i){var n=1,o=i;e<0&&(n=-1,e=-e);for(var s=wt(this.doc,t),a=0;a<e;++a){var l=Vr(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Ds(this,l,n,r)).hitSide)break}return s},moveV:Xi(function(t,e){var r=this,i=this.doc,n=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return t<0?s.from():s.to();var a=Vr(r,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),n.push(a.left);var l=Ds(r,a,t,e);return"page"==e&&s==i.sel.primary()&&xi(r,Ur(r,l,"div").top-a.top),l},V),n.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=n[s]}),findWordAt:function(t){var e=at(this.doc,t.line).text,r=t.ch,i=t.ch;if(e){var n=this.getHelper(t,"wordChars");"before"!=t.sticky&&i!=e.length||!r?++i:--r;for(var o=e.charAt(r),s=et(o,n)?function(t){return et(t,n)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!et(t)};r>0&&s(e.charAt(r-1));)--r;for(;i<e.length&&s(e.charAt(i));)++i}return new _n(mt(t.line,r),mt(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?H(this.display.cursorDiv,"CodeMirror-overwrite"):k(this.display.cursorDiv,"CodeMirror-overwrite"),re(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==O()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Xi(function(t,e){Ai(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Sr(this)-this.display.barHeight,width:t.scrollWidth-Sr(this)-this.display.barWidth,clientHeight:kr(this),clientWidth:Ar(this)}},scrollIntoView:Xi(function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:mt(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){ki(t),t.curOp.scrollToPos=e}(this,t):Ei(this,t.from,t.to,t.margin)}),setSize:Xi(function(t,e){var r=this,i=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=i(t)),null!=e&&(this.display.wrapper.style.height=i(e)),this.options.lineWrapping&&Nr(this);var n=this.display.viewFrom;this.doc.iter(n,this.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){qi(r,n,"widget");break}++n}),this.curOp.forceUpdate=!0,re(this,"refresh",this)}),operation:function(t){return Vi(this,t)},startOperation:function(){return Fi(this)},endOperation:function(){return Wi(this)},refresh:Xi(function(){var t=this.display.cachedTextHeight;Zi(this),this.curOp.forceUpdate=!0,Br(this),Ai(this,this.doc.scrollLeft,this.doc.scrollTop),an(this),(null==t||Math.abs(t-Jr(this.display))>.5)&&ni(this),re(this,"refresh",this)}),swapDoc:Xi(function(t){var e=this.doc;return e.cm=null,Tn(this,t),Br(this),this.display.input.reset(),Ai(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,sr(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},se(t),t.registerHelper=function(e,i,n){r.hasOwnProperty(e)||(r[e]=t[e]={_global:[]}),r[e][i]=n},t.registerGlobalHelper=function(e,i,n,o){t.registerHelper(e,i,o),r[e]._global.push({pred:n,val:o})}}(ws);var js,$s="iter insert remove copy getEditor constructor".split(" ");for(var zs in Ao.prototype)Ao.prototype.hasOwnProperty(zs)&&W($s,zs)<0&&(ws.prototype[zs]=function(t){return function(){return t.apply(this.doc,arguments)}}(Ao.prototype[zs]));return se(Ao),ws.inputStyles={textarea:Ws,contenteditable:Is},ws.defineMode=function(t){ws.defaults.mode||"null"==t||(ws.defaults.mode=t),function(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),xe[t]=e}.apply(this,arguments)},ws.defineMIME=function(t,e){Se[t]=e},ws.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),ws.defineMIME("text/plain","null"),ws.defineExtension=function(t,e){ws.prototype[t]=e},ws.defineDocExtension=function(t,e){Ao.prototype[t]=e},ws.fromTextArea=function(t,e){if((e=e?N(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var r=O();e.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}function i(){t.value=a.getValue()}var n;if(t.form&&(Jt(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var o=t.form;n=o.submit;try{var s=o.submit=function(){i(),o.submit=n,o.submit(),o.submit=s}}catch(t){}}e.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(ee(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=n))}},t.style.display="none";var a=ws(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return a},(js=ws).off=ee,js.on=Jt,js.wheelEventPixels=dn,js.Doc=Ao,js.splitLines=ye,js.countColumn=B,js.findColumn=K,js.isWordChar=tt,js.Pass=$,js.signal=re,js.Line=Ve,js.changeEnd=bn,js.scrollbarModel=Pi,js.Pos=mt,js.cmpPos=vt,js.modes=xe,js.mimeModes=Se,js.resolveMode=Ae,js.getMode=ke,js.modeExtensions=Ee,js.extendMode=Le,js.copyState=Te,js.startState=Re,js.innerMode=Me,js.commands=Zo,js.keyMap=No,js.keyName=zo,js.isModifierKey=jo,js.lookupKey=Wo,js.normalizeKeyMap=Fo,js.StringStream=Oe,js.SharedTextMarker=Co,js.TextMarker=yo,js.LineWidget=vo,js.e_preventDefault=ae,js.e_stopPropagation=le,js.e_stop=ue,js.addClass=H,js.contains=R,js.rmClass=k,js.keyNames=Ho,ws.version="5.33.0",ws},t.exports=i()},AAFk:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this._events=this._events||{}}return t.prototype.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)},t.prototype.off=function(t,e){if(this._events[t])for(var r=this._events[t],i=r.length;i--;)if(r[i]===e||r[i].listener===e)return void r.splice(i,1)},t.prototype.removeAllListeners=function(t){this._events[t]&&delete this._events[t]},t.prototype.once=function(t,e){function r(){var i=Array.prototype.slice.call(arguments);this.off(t,r),e.apply(this,i)}r.listener=e,this.on(t,r)},t.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(this._events[t])for(var i=this._events[t],n=0;n<i.length;n++)i[n].apply(this,e)},t.prototype.listeners=function(t){return this._events[t]||[]},t.prototype.destroy=function(){this._events={}},t}();e.EventEmitter=i},BdVW:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contains=function(t,e){return t.indexOf(e)>=0}},BtZ5:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,r){this.textarea=t,this.compositionView=e,this.terminal=r,this.isComposing=!1,this.isSendingComposition=!1,this.compositionPosition={start:null,end:null}}return t.prototype.compositionstart=function(){this.isComposing=!0,this.compositionPosition.start=this.textarea.value.length,this.compositionView.textContent="",this.compositionView.classList.add("active")},t.prototype.compositionupdate=function(t){var e=this;this.compositionView.textContent=t.data,this.updateCompositionElements(),setTimeout(function(){e.compositionPosition.end=e.textarea.value.length},0)},t.prototype.compositionend=function(){this.finalizeComposition(!0)},t.prototype.keydown=function(t){if(this.isComposing||this.isSendingComposition){if(229===t.keyCode)return!1;if(16===t.keyCode||17===t.keyCode||18===t.keyCode)return!1;this.finalizeComposition(!1)}return 229!==t.keyCode||(this.handleAnyTextareaChanges(),!1)},t.prototype.finalizeComposition=function(t){var e=this;if(this.compositionView.classList.remove("active"),this.isComposing=!1,this.clearTextareaPosition(),t){var r={start:this.compositionPosition.start,end:this.compositionPosition.end};this.isSendingComposition=!0,setTimeout(function(){if(e.isSendingComposition){e.isSendingComposition=!1;var t=void 0;t=e.isComposing?e.textarea.value.substring(r.start,r.end):e.textarea.value.substring(r.start),e.terminal.handler(t)}},0)}else{this.isSendingComposition=!1;var i=this.textarea.value.substring(this.compositionPosition.start,this.compositionPosition.end);this.terminal.handler(i)}},t.prototype.handleAnyTextareaChanges=function(){var t=this,e=this.textarea.value;setTimeout(function(){if(!t.isComposing){var r=t.textarea.value.replace(e,"");r.length>0&&t.terminal.handler(r)}},0)},t.prototype.updateCompositionElements=function(t){var e=this;if(this.isComposing){if(this.terminal.buffer.isCursorInViewport){var r=Math.ceil(this.terminal.charMeasure.height*this.terminal.options.lineHeight),i=this.terminal.buffer.y*r,n=this.terminal.buffer.x*this.terminal.charMeasure.width;this.compositionView.style.left=n+"px",this.compositionView.style.top=i+"px",this.compositionView.style.height=r+"px",this.compositionView.style.lineHeight=r+"px";var o=this.compositionView.getBoundingClientRect();this.textarea.style.left=n+"px",this.textarea.style.top=i+"px",this.textarea.style.width=o.width+"px",this.textarea.style.height=o.height+"px",this.textarea.style.lineHeight=o.height+"px"}t||setTimeout(function(){return e.updateCompositionElements(!0)},0)}},t.prototype.clearTextareaPosition=function(){this.textarea.style.left="",this.textarea.style.top=""},t}();e.CompositionHelper=i},C5aa:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this._terminal=t,this.clearSelection()}return t.prototype.clearSelection=function(){this.selectionStart=null,this.selectionEnd=null,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(t.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"finalSelectionEnd",{get:function(){return this.isSelectAllActive?[this._terminal.cols,this._terminal.buffer.ybase+this._terminal.rows-1]:this.selectionStart?!this.selectionEnd||this.areSelectionValuesReversed()?[this.selectionStart[0]+this.selectionStartLength,this.selectionStart[1]]:this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd:null},enumerable:!0,configurable:!0}),t.prototype.areSelectionValuesReversed=function(){var t=this.selectionStart,e=this.selectionEnd;return!(!t||!e)&&(t[1]>e[1]||t[1]===e[1]&&t[0]>e[0])},t.prototype.onTrim=function(t){return this.selectionStart&&(this.selectionStart[1]-=t),this.selectionEnd&&(this.selectionEnd[1]-=t),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},t}();e.SelectionModel=i},CQVp:function(t,e,r){(function(t){"use strict";t.defineMode("go",function(e){var r,i=e.indentUnit,n={break:!0,case:!0,chan:!0,const:!0,continue:!0,default:!0,defer:!0,else:!0,fallthrough:!0,for:!0,func:!0,go:!0,goto:!0,if:!0,import:!0,interface:!0,map:!0,package:!0,range:!0,return:!0,select:!0,struct:!0,switch:!0,type:!0,var:!0,bool:!0,byte:!0,complex64:!0,complex128:!0,float32:!0,float64:!0,int8:!0,int16:!0,int32:!0,int64:!0,string:!0,uint8:!0,uint16:!0,uint32:!0,uint64:!0,int:!0,uint:!0,uintptr:!0,error:!0,rune:!0},o={true:!0,false:!0,iota:!0,nil:!0,append:!0,cap:!0,close:!0,complex:!0,copy:!0,delete:!0,imag:!0,len:!0,make:!0,new:!0,panic:!0,print:!0,println:!0,real:!0,recover:!0},s=/[+\-*&^%:=<>!|\/]/;function a(t,e){var i,c=t.next();if('"'==c||"'"==c||"`"==c)return e.tokenize=(i=c,function(t,e){for(var r,n=!1,o=!1;null!=(r=t.next());){if(r==i&&!n){o=!0;break}n=!n&&"`"!=i&&"\\"==r}return(o||!n&&"`"!=i)&&(e.tokenize=a),"string"}),e.tokenize(t,e);if(/[\d\.]/.test(c))return"."==c?t.match(/^[0-9]+([eE][\-+]?[0-9]+)?/):"0"==c?t.match(/^[xX][0-9a-fA-F]+/)||t.match(/^0[0-7]+/):t.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/),"number";if(/[\[\]{}\(\),;\:\.]/.test(c))return r=c,null;if("/"==c){if(t.eat("*"))return e.tokenize=l,l(t,e);if(t.eat("/"))return t.skipToEnd(),"comment"}if(s.test(c))return t.eatWhile(s),"operator";t.eatWhile(/[\w\$_\xa1-\uffff]/);var u=t.current();return n.propertyIsEnumerable(u)?("case"!=u&&"default"!=u||(r="case"),"keyword"):o.propertyIsEnumerable(u)?"atom":"variable"}function l(t,e){for(var r,i=!1;r=t.next();){if("/"==r&&i){e.tokenize=a;break}i="*"==r}return"comment"}function c(t,e,r,i,n){this.indented=t,this.column=e,this.type=r,this.align=i,this.prev=n}function u(t,e,r){return t.context=new c(t.indented,e,r,null,t.context)}function h(t){if(t.context.prev){var e=t.context.type;return")"!=e&&"]"!=e&&"}"!=e||(t.indented=t.context.indented),t.context=t.context.prev}}return{startState:function(t){return{tokenize:null,context:new c((t||0)-i,0,"top",!1),indented:0,startOfLine:!0}},token:function(t,e){var i=e.context;if(t.sol()&&(null==i.align&&(i.align=!1),e.indented=t.indentation(),e.startOfLine=!0,"case"==i.type&&(i.type="}")),t.eatSpace())return null;r=null;var n=(e.tokenize||a)(t,e);return"comment"==n?n:(null==i.align&&(i.align=!0),"{"==r?u(e,t.column(),"}"):"["==r?u(e,t.column(),"]"):"("==r?u(e,t.column(),")"):"case"==r?i.type="case":"}"==r&&"}"==i.type?h(e):r==i.type&&h(e),e.startOfLine=!1,n)},indent:function(e,r){if(e.tokenize!=a&&null!=e.tokenize)return t.Pass;var n=e.context,o=r&&r.charAt(0);if("case"==n.type&&/^(?:case|default)\b/.test(r))return e.context.type="}",n.indented;var s=o==n.type;return n.align?n.column+(s?0:1):n.indented+(s?0:i)},electricChars:"{}):",closeBrackets:"()[]{}''\"\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),t.defineMIME("text/x-go","go")})(r("8U58"))},DuR2:function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},E5Az:function(t,e,r){var i;i=function(t){return function(t){function e(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=2)}([function(e,r){e.exports=t},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),n=r.n(i),o=r(5),s=r(4)(n.a,o.a,!1,null,null,null);e.default=s.exports},function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.install=e.codemirror=e.CodeMirror=void 0;var n=i(r(0)),o=i(r(1)),s=window.CodeMirror||n.default,a=function(t,e){e&&(e.options&&(o.default.props.globalOptions.default=function(){return e.options}),e.events&&(o.default.props.globalEvents.default=function(){return e.events})),t.component(o.default.name,o.default)},l={CodeMirror:s,codemirror:o.default,install:a};e.default=l,e.CodeMirror=s,e.codemirror=o.default,e.install=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(r(0)),n=window.CodeMirror||i.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},writable:!0,configurable:!0}),e.default={name:"codemirror",data:function(){return{content:"",codemirror:null,cminstance:null}},props:{code:String,value:String,marker:Function,unseenLines:Array,placeholder:{type:String,default:""},merge:{type:Boolean,default:!1},options:{type:Object,default:function(){}},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){}},globalEvents:{type:Array,default:function(){return[]}}},watch:{options:{deep:!0,handler:function(t,e){for(var r in t)this.cminstance.setOption(r,t[r])}},code:function(t,e){this.handerCodeChange(t,e)},value:function(t,e){this.handerCodeChange(t,e)}},methods:{initialize:function(){var t=this,e=Object.assign({},this.globalOptions,this.options);this.merge?(this.codemirror=n.MergeView(this.$refs.mergeview,e),this.cminstance=this.codemirror.edit):(this.codemirror=n.fromTextArea(this.$refs.textarea,e),this.cminstance=this.codemirror,this.cminstance.setValue(this.code||this.value||this.content)),this.cminstance.on("change",function(e){t.content=e.getValue(),t.$emit&&t.$emit("input",t.content)});for(var r=["scroll","changes","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"].concat(this.events).concat(this.globalEvents),i={},o=0;o<r.length;o++)"string"==typeof r[o]&&void 0===i[r[o]]&&function(e){i[e]=null,t.cminstance.on(e,function(r,i,n){t.$emit(e,r,i,n)})}(r[o]);this.$emit("ready",this.codemirror),this.unseenLineMarkers(),this.$nextTick(this.refresh)},refresh:function(){this.cminstance.refresh()},destroy:function(){var t=this.cminstance.doc.cm.getWrapperElement();t&&t.remove&&t.remove()},handerCodeChange:function(t,e){if(t!==this.cminstance.getValue()){var r=this.cminstance.getScrollInfo();this.cminstance.setValue(t),this.content=t,this.cminstance.scrollTo(r.left,r.top)}this.unseenLineMarkers()},unseenLineMarkers:function(){var t=this;void 0!==this.unseenLines&&void 0!==this.marker&&this.unseenLines.forEach(function(e){var r=t.cminstance.lineInfo(e);t.cminstance.setGutterMarker(e,"breakpoints",r.gutterMarkers?null:t.marker())})}},mounted:function(){this.initialize()},beforeDestroy:function(){this.destroy()}}},function(t,e){t.exports=function(t,e,r,i,n,o){var s,a=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(s=t,a=t.default);var c,u="function"==typeof a?a.options:a;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),r&&(u.functional=!0),n&&(u._scopeId=n),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):i&&(c=i),c){var h=u.functional,f=h?u.render:u.beforeCreate;h?(u._injectStyles=c,u.render=function(t,e){return c.call(e),f(t,e)}):u.beforeCreate=f?[].concat(f,c):[c]}return{esModule:s,exports:a,options:u}}},function(t,e,r){"use strict";var i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"vue-codemirror",class:{merge:t.merge}},[t.merge?r("div",{ref:"mergeview"}):r("textarea",{ref:"textarea",attrs:{placeholder:t.placeholder}})])},staticRenderFns:[]};e.a=i}])},t.exports=i(r("8U58"))},Emzz:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.NUL="\0",t.SOH="",t.STX="",t.ETX="",t.EOT="",t.ENQ="",t.ACK="",t.BEL="",t.BS="\b",t.HT="\t",t.LF="\n",t.VT="\v",t.FF="\f",t.CR="\r",t.SO="",t.SI="",t.DLE="",t.DC1="",t.DC2="",t.DC3="",t.DC4="",t.NAK="",t.SYN="",t.ETB="",t.CAN="",t.EM="",t.SUB="",t.ESC="",t.FS="",t.GS="",t.RS="",t.US="",t.SP=" ",t.DEL=""}(e.C0||(e.C0={}))},Fhu2:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("VXEB");e.CHAR_ATLAS_CELL_SPACING=1;var n,o=[];function s(t,e){for(var r=0;r<t.colors.ansi.length;r++)if(t.colors.ansi[r]!==e.colors.ansi[r])return!1;return t.fontFamily===e.fontFamily&&t.fontSize===e.fontSize&&t.scaledCharWidth===e.scaledCharWidth&&t.scaledCharHeight===e.scaledCharHeight&&t.colors.foreground===e.colors.foreground&&t.colors.background===e.colors.background}e.acquireCharAtlas=function(t,e,r,i){for(var a=function(t,e,r,i){var n={foreground:i.foreground,background:i.background,cursor:null,cursorAccent:null,selection:null,ansi:i.ansi.slice(0,16)};return{scaledCharWidth:t,scaledCharHeight:e,fontFamily:r.options.fontFamily,fontSize:r.options.fontSize,colors:n}}(r,i,t,e),l=0;l<o.length;l++){var c=(u=o[l]).ownedBy.indexOf(t);if(c>=0){if(s(u.config,a))return u.bitmap;1===u.ownedBy.length?o.splice(l,1):u.ownedBy.splice(c,1);break}}for(l=0;l<o.length;l++){var u;if(s((u=o[l]).config,a))return u.ownedBy.push(t),u.bitmap}var h={bitmap:n.generate(r,i,t.options.fontSize,t.options.fontFamily,e.background,e.foreground,e.ansi),config:a,ownedBy:[t]};return o.push(h),h.bitmap},e.initialize=function(t){n||(n=new a(t))};var a=function(){function t(t){this._document=t,this._canvas=this._document.createElement("canvas"),this._ctx=this._canvas.getContext("2d",{alpha:!1}),this._ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}return t.prototype.generate=function(t,r,n,o,s,a,l){var c=t+e.CHAR_ATLAS_CELL_SPACING,u=r+e.CHAR_ATLAS_CELL_SPACING;this._canvas.width=255*c,this._canvas.height=18*u,this._ctx.fillStyle=s,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height),this._ctx.save(),this._ctx.fillStyle=a,this._ctx.font=n*window.devicePixelRatio+"px "+o,this._ctx.textBaseline="top";for(var h=0;h<256;h++)this._ctx.save(),this._ctx.beginPath(),this._ctx.rect(h*c,0,c,u),this._ctx.clip(),this._ctx.fillText(String.fromCharCode(h),h*c,0),this._ctx.restore();this._ctx.save(),this._ctx.font="bold "+this._ctx.font;for(h=0;h<256;h++)this._ctx.save(),this._ctx.beginPath(),this._ctx.rect(h*c,u,c,u),this._ctx.clip(),this._ctx.fillText(String.fromCharCode(h),h*c,u),this._ctx.restore();this._ctx.restore(),this._ctx.font=n*window.devicePixelRatio+"px "+o;for(var f=0;f<16;f++){8===f&&(this._ctx.font="bold "+this._ctx.font);var p=(f+2)*u;for(h=0;h<256;h++)this._ctx.save(),this._ctx.beginPath(),this._ctx.rect(h*c,p,c,u),this._ctx.clip(),this._ctx.fillStyle=l[f],this._ctx.fillText(String.fromCharCode(h),h*c,p),this._ctx.restore()}if(this._ctx.restore(),!("createImageBitmap"in window)||i.isFirefox){var d=this._canvas;return this._canvas=this._document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._ctx.scale(window.devicePixelRatio,window.devicePixelRatio),d}var m=this._ctx.getImageData(0,0,this._canvas.width,this._canvas.height),v=parseInt(s.substr(1,2),16),_=parseInt(s.substr(3,2),16),g=parseInt(s.substr(5,2),16);this._clearColor(m,v,_,g);var y=window.createImageBitmap(m);return this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),y},t.prototype._clearColor=function(t,e,r,i){for(var n=0;n<t.data.length;n+=4)t.data[n]===e&&t.data[n+1]===r&&t.data[n+2]===i&&(t.data[n+3]=0)},t}()},G0Ob:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BellSound="data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg=="},H3hU:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,r,i){var n=this;this.terminal=t,this.viewportElement=e,this.scrollArea=r,this.charMeasure=i,this.currentRowHeight=0,this.lastRecordedBufferLength=0,this.lastRecordedViewportHeight=0,this.lastRecordedBufferHeight=0,this.viewportElement.addEventListener("scroll",this.onScroll.bind(this)),setTimeout(function(){return n.syncScrollArea()},0)}return t.prototype.onThemeChanged=function(t){this.viewportElement.style.backgroundColor=t.background},t.prototype.refresh=function(){if(this.charMeasure.height>0){this.currentRowHeight=this.terminal.renderer.dimensions.scaledCellHeight/window.devicePixelRatio,this.lastRecordedViewportHeight!==this.terminal.renderer.dimensions.canvasHeight&&(this.lastRecordedViewportHeight=this.terminal.renderer.dimensions.canvasHeight,this.viewportElement.style.height=this.lastRecordedViewportHeight+"px");var t=Math.round(this.currentRowHeight*this.lastRecordedBufferLength);this.lastRecordedBufferHeight!==t&&(this.lastRecordedBufferHeight=t,this.scrollArea.style.height=this.lastRecordedBufferHeight+"px")}},t.prototype.syncScrollArea=function(){this.lastRecordedBufferLength!==this.terminal.buffer.lines.length?(this.lastRecordedBufferLength=this.terminal.buffer.lines.length,this.refresh()):this.lastRecordedViewportHeight!==this.terminal.renderer.dimensions.canvasHeight?this.refresh():this.terminal.renderer.dimensions.scaledCellHeight/window.devicePixelRatio!==this.currentRowHeight&&this.refresh();var t=this.terminal.buffer.ydisp*this.currentRowHeight;this.viewportElement.scrollTop!==t&&(this.viewportElement.scrollTop=t)},t.prototype.onScroll=function(t){var e=Math.round(this.viewportElement.scrollTop/this.currentRowHeight)-this.terminal.buffer.ydisp;this.terminal.scrollLines(e,!0)},t.prototype.onWheel=function(t){if(0!==t.deltaY){var e=1;t.deltaMode===WheelEvent.DOM_DELTA_LINE?e=this.currentRowHeight:t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e=this.currentRowHeight*this.terminal.rows),this.viewportElement.scrollTop+=t.deltaY*e,t.preventDefault()}},t.prototype.onTouchStart=function(t){this.lastTouchY=t.touches[0].pageY},t.prototype.onTouchMove=function(t){var e=this.lastTouchY-t.touches[0].pageY;this.lastTouchY=t.touches[0].pageY,0!==e&&(this.viewportElement.scrollTop+=e,t.preventDefault())},t}();e.Viewport=i},"HkX+":function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i){var n=t.call(this,e,"selection",r,!0,i)||this;return n._state={start:null,end:null},n}return n(e,t),e.prototype.resize=function(e,r,i){t.prototype.resize.call(this,e,r,i),this._state={start:null,end:null}},e.prototype.reset=function(t){this._state.start&&this._state.end&&(this._state={start:null,end:null},this.clearAll())},e.prototype.onSelectionChanged=function(t,e,r){if(this._state.start!==e&&this._state.end!==r&&(this.clearAll(),e&&r)){var i=e[1]-t.buffer.ydisp,n=r[1]-t.buffer.ydisp,o=Math.max(i,0),s=Math.min(n,t.rows-1);if(!(o>=t.rows||s<0)){var a=i===o?e[0]:0,l=o===s?r[0]:t.cols;this._ctx.fillStyle=this._colors.selection,this.fillCells(a,o,l-a,1);var c=Math.max(s-o-1,0);if(this.fillCells(0,o+1,t.cols,c),o!==s){var u=n===s?r[0]:t.cols;this.fillCells(0,s,u,1)}this._state.start=[e[0],e[1]],this._state.end=[r[0],r[1]]}}},e}(r("M7+9").BaseRenderLayer);e.SelectionRenderLayer=o},I36Z:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="#ffffff",n="#000000",o="#ffffff",s="#000000",a="rgba(255, 255, 255, 0.3)";function l(t){var e=t.toString(16);return e.length<2?"0"+e:e}e.DEFAULT_ANSI_COLORS=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"];var c=function(){function t(){this.colors={foreground:i,background:n,cursor:o,cursorAccent:s,selection:a,ansi:function(t){for(var e=t.slice(),r=[0,95,135,175,215,255],i=0;i<216;i++){var n=l(r[i/36%6|0]),o=l(r[i/6%6|0]),s=l(r[i%6]);e.push("#"+n+o+s)}for(i=0;i<24;i++){var a=l(8+10*i);e.push("#"+a+a+a)}return e}(e.DEFAULT_ANSI_COLORS)}}return t.prototype.setTheme=function(t){this.colors.foreground=t.foreground||i,this.colors.background=this._validateColor(t.background,n),this.colors.cursor=t.cursor||o,this.colors.cursorAccent=t.cursorAccent||s,this.colors.selection=t.selection||a,this.colors.ansi[0]=t.black||e.DEFAULT_ANSI_COLORS[0],this.colors.ansi[1]=t.red||e.DEFAULT_ANSI_COLORS[1],this.colors.ansi[2]=t.green||e.DEFAULT_ANSI_COLORS[2],this.colors.ansi[3]=t.yellow||e.DEFAULT_ANSI_COLORS[3],this.colors.ansi[4]=t.blue||e.DEFAULT_ANSI_COLORS[4],this.colors.ansi[5]=t.magenta||e.DEFAULT_ANSI_COLORS[5],this.colors.ansi[6]=t.cyan||e.DEFAULT_ANSI_COLORS[6],this.colors.ansi[7]=t.white||e.DEFAULT_ANSI_COLORS[7],this.colors.ansi[8]=t.brightBlack||e.DEFAULT_ANSI_COLORS[8],this.colors.ansi[9]=t.brightRed||e.DEFAULT_ANSI_COLORS[9],this.colors.ansi[10]=t.brightGreen||e.DEFAULT_ANSI_COLORS[10],this.colors.ansi[11]=t.brightYellow||e.DEFAULT_ANSI_COLORS[11],this.colors.ansi[12]=t.brightBlue||e.DEFAULT_ANSI_COLORS[12],this.colors.ansi[13]=t.brightMagenta||e.DEFAULT_ANSI_COLORS[13],this.colors.ansi[14]=t.brightCyan||e.DEFAULT_ANSI_COLORS[14],this.colors.ansi[15]=t.brightWhite||e.DEFAULT_ANSI_COLORS[15]},t.prototype._validateColor=function(t,e){if(!t)return e;if(7===t.length&&"#"===t.charAt(0))return t;if(4===t.length&&"#"===t.charAt(0)){var r=t.charAt(1),i=t.charAt(2),n=t.charAt(3);return"#"+r+r+i+i+n+n}return e},t}();e.ColorManager=c},LpsE:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("Emzz"),n=r("RJjk"),o=r("v6au"),s=r("0JbL"),a=r("h4aF"),l=function(){function t(t){this._terminal=t}return t.prototype.addChar=function(t,e){if(t>=" "){var r=a.wcwidth(e);this._terminal.charset&&this._terminal.charset[t]&&(t=this._terminal.charset[t]);var i=this._terminal.buffer.y+this._terminal.buffer.ybase;if(!r&&this._terminal.buffer.x)return void(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-1]&&(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-1][o.CHAR_DATA_WIDTH_INDEX]?(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-1][o.CHAR_DATA_CHAR_INDEX]+=t,this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-1][3]=t.charCodeAt(0)):this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-2]&&(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-2][o.CHAR_DATA_CHAR_INDEX]+=t,this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-2][3]=t.charCodeAt(0)),this._terminal.updateRange(this._terminal.buffer.y)));if(this._terminal.buffer.x+r-1>=this._terminal.cols)if(this._terminal.wraparoundMode)this._terminal.buffer.x=0,this._terminal.buffer.y++,this._terminal.buffer.y>this._terminal.buffer.scrollBottom?(this._terminal.buffer.y--,this._terminal.scroll(!0)):this._terminal.buffer.lines.get(this._terminal.buffer.y).isWrapped=!0;else if(2===r)return;if(i=this._terminal.buffer.y+this._terminal.buffer.ybase,this._terminal.insertMode)for(var n=0;n<r;++n){0===this._terminal.buffer.lines.get(this._terminal.buffer.y+this._terminal.buffer.ybase).pop()[o.CHAR_DATA_WIDTH_INDEX]&&this._terminal.buffer.lines.get(i)[this._terminal.cols-2]&&2===this._terminal.buffer.lines.get(i)[this._terminal.cols-2][o.CHAR_DATA_WIDTH_INDEX]&&(this._terminal.buffer.lines.get(i)[this._terminal.cols-2]=[this._terminal.curAttr," ",1," ".charCodeAt(0)]),this._terminal.buffer.lines.get(i).splice(this._terminal.buffer.x,0,[this._terminal.curAttr," ",1," ".charCodeAt(0)])}this._terminal.buffer.lines.get(i)[this._terminal.buffer.x]=[this._terminal.curAttr,t,r,t.charCodeAt(0)],this._terminal.buffer.x++,this._terminal.updateRange(this._terminal.buffer.y),2===r&&(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x]=[this._terminal.curAttr,"",0,void 0],this._terminal.buffer.x++)}},t.prototype.bell=function(){this._terminal.bell()},t.prototype.lineFeed=function(){this._terminal.convertEol&&(this._terminal.buffer.x=0),this._terminal.buffer.y++,this._terminal.buffer.y>this._terminal.buffer.scrollBottom&&(this._terminal.buffer.y--,this._terminal.scroll()),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--,this._terminal.emit("linefeed")},t.prototype.carriageReturn=function(){this._terminal.buffer.x=0},t.prototype.backspace=function(){this._terminal.buffer.x>0&&this._terminal.buffer.x--},t.prototype.tab=function(){this._terminal.buffer.x=this._terminal.buffer.nextStop()},t.prototype.shiftOut=function(){this._terminal.setgLevel(1)},t.prototype.shiftIn=function(){this._terminal.setgLevel(0)},t.prototype.insertChars=function(t){var e=t[0];e<1&&(e=1);for(var r=this._terminal.buffer.y+this._terminal.buffer.ybase,i=this._terminal.buffer.x,n=[this._terminal.eraseAttr()," ",1,32];e--&&i<this._terminal.cols;)this._terminal.buffer.lines.get(r).splice(i++,0,n),this._terminal.buffer.lines.get(r).pop()},t.prototype.cursorUp=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y-=e,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0)},t.prototype.cursorDown=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y+=e,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},t.prototype.cursorForward=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x+=e,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},t.prototype.cursorBackward=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--,this._terminal.buffer.x-=e,this._terminal.buffer.x<0&&(this._terminal.buffer.x=0)},t.prototype.cursorNextLine=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y+=e,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=0},t.prototype.cursorPrecedingLine=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y-=e,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0),this._terminal.buffer.x=0},t.prototype.cursorCharAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x=e-1},t.prototype.cursorPosition=function(t){var e,r=t[0]-1;e=t.length>=2?t[1]-1:0,r<0?r=0:r>=this._terminal.rows&&(r=this._terminal.rows-1),e<0?e=0:e>=this._terminal.cols&&(e=this._terminal.cols-1),this._terminal.buffer.x=e,this._terminal.buffer.y=r},t.prototype.cursorForwardTab=function(t){for(var e=t[0]||1;e--;)this._terminal.buffer.x=this._terminal.buffer.nextStop()},t.prototype.eraseInDisplay=function(t){var e;switch(t[0]){case 0:for(this._terminal.eraseRight(this._terminal.buffer.x,this._terminal.buffer.y),e=this._terminal.buffer.y+1;e<this._terminal.rows;e++)this._terminal.eraseLine(e);break;case 1:for(this._terminal.eraseLeft(this._terminal.buffer.x,this._terminal.buffer.y),e=this._terminal.buffer.y;e--;)this._terminal.eraseLine(e);break;case 2:for(e=this._terminal.rows;e--;)this._terminal.eraseLine(e);break;case 3:var r=this._terminal.buffer.lines.length-this._terminal.rows;r>0&&(this._terminal.buffer.lines.trimStart(r),this._terminal.buffer.ybase=Math.max(this._terminal.buffer.ybase-r,0),this._terminal.buffer.ydisp=Math.max(this._terminal.buffer.ydisp-r,0),this._terminal.emit("scroll",0))}},t.prototype.eraseInLine=function(t){switch(t[0]){case 0:this._terminal.eraseRight(this._terminal.buffer.x,this._terminal.buffer.y);break;case 1:this._terminal.eraseLeft(this._terminal.buffer.x,this._terminal.buffer.y);break;case 2:this._terminal.eraseLine(this._terminal.buffer.y)}},t.prototype.insertLines=function(t){var e=t[0];e<1&&(e=1);for(var r=this._terminal.buffer.y+this._terminal.buffer.ybase,i=this._terminal.rows-1-this._terminal.buffer.scrollBottom,n=this._terminal.rows-1+this._terminal.buffer.ybase-i+1;e--;)this._terminal.buffer.lines.splice(n-1,1),this._terminal.buffer.lines.splice(r,0,this._terminal.blankLine(!0));this._terminal.updateRange(this._terminal.buffer.y),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},t.prototype.deleteLines=function(t){var e=t[0];e<1&&(e=1);var r,i=this._terminal.buffer.y+this._terminal.buffer.ybase;for(r=this._terminal.rows-1-this._terminal.buffer.scrollBottom,r=this._terminal.rows-1+this._terminal.buffer.ybase-r;e--;)this._terminal.buffer.lines.splice(i,1),this._terminal.buffer.lines.splice(r,0,this._terminal.blankLine(!0));this._terminal.updateRange(this._terminal.buffer.y),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},t.prototype.deleteChars=function(t){var e=t[0];e<1&&(e=1);for(var r=this._terminal.buffer.y+this._terminal.buffer.ybase,i=[this._terminal.eraseAttr()," ",1,32];e--;)this._terminal.buffer.lines.get(r).splice(this._terminal.buffer.x,1),this._terminal.buffer.lines.get(r).push(i);this._terminal.updateRange(this._terminal.buffer.y)},t.prototype.scrollUp=function(t){for(var e=t[0]||1;e--;)this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollTop,1),this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollBottom,0,this._terminal.blankLine());this._terminal.updateRange(this._terminal.buffer.scrollTop),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},t.prototype.scrollDown=function(t){for(var e=t[0]||1;e--;)this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollBottom,1),this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollTop,0,this._terminal.blankLine());this._terminal.updateRange(this._terminal.buffer.scrollTop),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},t.prototype.eraseChars=function(t){var e=t[0];e<1&&(e=1);for(var r=this._terminal.buffer.y+this._terminal.buffer.ybase,i=this._terminal.buffer.x,n=[this._terminal.eraseAttr()," ",1,32];e--&&i<this._terminal.cols;)this._terminal.buffer.lines.get(r)[i++]=n},t.prototype.cursorBackwardTab=function(t){for(var e=t[0]||1;e--;)this._terminal.buffer.x=this._terminal.buffer.prevStop()},t.prototype.charPosAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x=e-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},t.prototype.HPositionRelative=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x+=e,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},t.prototype.repeatPrecedingCharacter=function(t){for(var e=t[0]||1,r=this._terminal.buffer.lines.get(this._terminal.buffer.ybase+this._terminal.buffer.y),i=r[this._terminal.buffer.x-1]||[this._terminal.defAttr," ",1,32];e--;)r[this._terminal.buffer.x++]=i},t.prototype.sendDeviceAttributes=function(t){t[0]>0||(this._terminal.prefix?">"===this._terminal.prefix&&(this._terminal.is("xterm")?this._terminal.send(i.C0.ESC+"[>0;276;0c"):this._terminal.is("rxvt-unicode")?this._terminal.send(i.C0.ESC+"[>85;95;0c"):this._terminal.is("linux")?this._terminal.send(t[0]+"c"):this._terminal.is("screen")&&this._terminal.send(i.C0.ESC+"[>83;40003;0c")):this._terminal.is("xterm")||this._terminal.is("rxvt-unicode")||this._terminal.is("screen")?this._terminal.send(i.C0.ESC+"[?1;2c"):this._terminal.is("linux")&&this._terminal.send(i.C0.ESC+"[?6c"))},t.prototype.linePosAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y=e-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1)},t.prototype.VPositionRelative=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y+=e,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},t.prototype.HVPosition=function(t){t[0]<1&&(t[0]=1),t[1]<1&&(t[1]=1),this._terminal.buffer.y=t[0]-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=t[1]-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},t.prototype.tabClear=function(t){var e=t[0];e<=0?delete this._terminal.buffer.tabs[this._terminal.buffer.x]:3===e&&(this._terminal.buffer.tabs={})},t.prototype.setMode=function(t){if(t.length>1)for(var e=0;e<t.length;e++)this.setMode([t[e]]);else if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(t[0]){case 1:this._terminal.applicationCursor=!0;break;case 2:this._terminal.setgCharset(0,n.DEFAULT_CHARSET),this._terminal.setgCharset(1,n.DEFAULT_CHARSET),this._terminal.setgCharset(2,n.DEFAULT_CHARSET),this._terminal.setgCharset(3,n.DEFAULT_CHARSET);break;case 3:this._terminal.savedCols=this._terminal.cols,this._terminal.resize(132,this._terminal.rows);break;case 6:this._terminal.originMode=!0;break;case 7:this._terminal.wraparoundMode=!0;break;case 12:break;case 66:this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=9===t[0],this._terminal.vt200Mouse=1e3===t[0],this._terminal.normalMouse=t[0]>1e3,this._terminal.mouseEvents=!0,this._terminal.element.classList.add("enable-mouse-events"),this._terminal.selectionManager.disable(),this._terminal.log("Binding to mouse events.");break;case 1004:this._terminal.sendFocus=!0;break;case 1005:this._terminal.utfMouse=!0;break;case 1006:this._terminal.sgrMouse=!0;break;case 1015:this._terminal.urxvtMouse=!0;break;case 25:this._terminal.cursorHidden=!1;break;case 1049:case 47:case 1047:this._terminal.buffers.activateAltBuffer(),this._terminal.selectionManager.setBuffer(this._terminal.buffer),this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!0}}else switch(t[0]){case 4:this._terminal.insertMode=!0}},t.prototype.resetMode=function(t){if(t.length>1)for(var e=0;e<t.length;e++)this.resetMode([t[e]]);else if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(t[0]){case 1:this._terminal.applicationCursor=!1;break;case 3:132===this._terminal.cols&&this._terminal.savedCols&&this._terminal.resize(this._terminal.savedCols,this._terminal.rows),delete this._terminal.savedCols;break;case 6:this._terminal.originMode=!1;break;case 7:this._terminal.wraparoundMode=!1;break;case 12:break;case 66:this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=!1,this._terminal.vt200Mouse=!1,this._terminal.normalMouse=!1,this._terminal.mouseEvents=!1,this._terminal.element.classList.remove("enable-mouse-events"),this._terminal.selectionManager.enable();break;case 1004:this._terminal.sendFocus=!1;break;case 1005:this._terminal.utfMouse=!1;break;case 1006:this._terminal.sgrMouse=!1;break;case 1015:this._terminal.urxvtMouse=!1;break;case 25:this._terminal.cursorHidden=!0;break;case 1049:case 47:case 1047:this._terminal.buffers.activateNormalBuffer(),this._terminal.selectionManager.setBuffer(this._terminal.buffer),this._terminal.refresh(0,this._terminal.rows-1),this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!1}}else switch(t[0]){case 4:this._terminal.insertMode=!1}},t.prototype.charAttributes=function(t){if(1!==t.length||0!==t[0]){for(var e,r=t.length,i=this._terminal.curAttr>>18,n=this._terminal.curAttr>>9&511,o=511&this._terminal.curAttr,a=0;a<r;a++)(e=t[a])>=30&&e<=37?n=e-30:e>=40&&e<=47?o=e-40:e>=90&&e<=97?n=(e+=8)-90:e>=100&&e<=107?o=(e+=8)-100:0===e?(i=this._terminal.defAttr>>18,n=this._terminal.defAttr>>9&511,o=511&this._terminal.defAttr):1===e?i|=s.FLAGS.BOLD:4===e?i|=s.FLAGS.UNDERLINE:5===e?i|=s.FLAGS.BLINK:7===e?i|=s.FLAGS.INVERSE:8===e?i|=s.FLAGS.INVISIBLE:2===e?i|=s.FLAGS.DIM:22===e?(i&=~s.FLAGS.BOLD,i&=~s.FLAGS.DIM):24===e?i&=~s.FLAGS.UNDERLINE:25===e?i&=~s.FLAGS.BLINK:27===e?i&=~s.FLAGS.INVERSE:28===e?i&=~s.FLAGS.INVISIBLE:39===e?n=this._terminal.defAttr>>9&511:49===e?o=511&this._terminal.defAttr:38===e?2===t[a+1]?(a+=2,-1===(n=this._terminal.matchColor(255&t[a],255&t[a+1],255&t[a+2]))&&(n=511),a+=2):5===t[a+1]&&(n=e=255&t[a+=2]):48===e?2===t[a+1]?(a+=2,-1===(o=this._terminal.matchColor(255&t[a],255&t[a+1],255&t[a+2]))&&(o=511),a+=2):5===t[a+1]&&(o=e=255&t[a+=2]):100===e?(n=this._terminal.defAttr>>9&511,o=511&this._terminal.defAttr):this._terminal.error("Unknown SGR attribute: %d.",e);this._terminal.curAttr=i<<18|n<<9|o}else this._terminal.curAttr=this._terminal.defAttr},t.prototype.deviceStatus=function(t){if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(t[0]){case 6:this._terminal.send(i.C0.ESC+"[?"+(this._terminal.buffer.y+1)+";"+(this._terminal.buffer.x+1)+"R")}}else switch(t[0]){case 5:this._terminal.send(i.C0.ESC+"[0n");break;case 6:this._terminal.send(i.C0.ESC+"["+(this._terminal.buffer.y+1)+";"+(this._terminal.buffer.x+1)+"R")}},t.prototype.softReset=function(t){this._terminal.cursorHidden=!1,this._terminal.insertMode=!1,this._terminal.originMode=!1,this._terminal.wraparoundMode=!0,this._terminal.applicationKeypad=!1,this._terminal.viewport.syncScrollArea(),this._terminal.applicationCursor=!1,this._terminal.buffer.scrollTop=0,this._terminal.buffer.scrollBottom=this._terminal.rows-1,this._terminal.curAttr=this._terminal.defAttr,this._terminal.buffer.x=this._terminal.buffer.y=0,this._terminal.charset=null,this._terminal.glevel=0,this._terminal.charsets=[null]},t.prototype.setCursorStyle=function(t){var e=t[0]<1?1:t[0];switch(e){case 1:case 2:this._terminal.setOption("cursorStyle","block");break;case 3:case 4:this._terminal.setOption("cursorStyle","underline");break;case 5:case 6:this._terminal.setOption("cursorStyle","bar")}var r=e%2==1;this._terminal.setOption("cursorBlink",r)},t.prototype.setScrollRegion=function(t){this._terminal.prefix||(this._terminal.buffer.scrollTop=(t[0]||1)-1,this._terminal.buffer.scrollBottom=(t[1]&&t[1]<=this._terminal.rows?t[1]:this._terminal.rows)-1,this._terminal.buffer.x=0,this._terminal.buffer.y=0)},t.prototype.saveCursor=function(t){this._terminal.buffer.savedX=this._terminal.buffer.x,this._terminal.buffer.savedY=this._terminal.buffer.y},t.prototype.restoreCursor=function(t){this._terminal.buffer.x=this._terminal.buffer.savedX||0,this._terminal.buffer.y=this._terminal.buffer.savedY||0},t}();e.InputHandler=l},"M7+9":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("Fhu2"),n=r("v6au");e.INVERTED_DEFAULT_COLOR=-1;var o=function(){function t(t,e,r,i,n){this._alpha=i,this._colors=n,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._canvas=document.createElement("canvas"),this._canvas.id="xterm-"+e+"-layer",this._canvas.style.zIndex=r.toString(),this._ctx=this._canvas.getContext("2d",{alpha:i}),this._ctx.scale(window.devicePixelRatio,window.devicePixelRatio),i||this.clearAll(),t.appendChild(this._canvas)}return t.prototype.onOptionsChanged=function(t){},t.prototype.onBlur=function(t){},t.prototype.onFocus=function(t){},t.prototype.onCursorMove=function(t){},t.prototype.onGridChanged=function(t,e,r){},t.prototype.onSelectionChanged=function(t,e,r){},t.prototype.onThemeChanged=function(t,e){this._refreshCharAtlas(t,e)},t.prototype._refreshCharAtlas=function(t,e){var r=this;if(!(this._scaledCharWidth<=0&&this._scaledCharHeight<=0)){this._charAtlas=null;var n=i.acquireCharAtlas(t,this._colors,this._scaledCharWidth,this._scaledCharHeight);n instanceof HTMLCanvasElement?this._charAtlas=n:n.then(function(t){return r._charAtlas=t})}},t.prototype.resize=function(t,e,r){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this.clearAll(),r&&this._refreshCharAtlas(t,this._colors)},t.prototype.fillCells=function(t,e,r,i){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight)},t.prototype.fillBottomLineAtCells=function(t,e,r){void 0===r&&(r=1),this._ctx.fillRect(t*this._scaledCellWidth,(e+1)*this._scaledCellHeight-window.devicePixelRatio-1,r*this._scaledCellWidth,window.devicePixelRatio)},t.prototype.fillLeftLineAtCell=function(t,e){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,window.devicePixelRatio,this._scaledCellHeight)},t.prototype.strokeRectAtCell=function(t,e,r,i){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(t*this._scaledCellWidth+window.devicePixelRatio/2,e*this._scaledCellHeight+window.devicePixelRatio/2,r*this._scaledCellWidth-window.devicePixelRatio,i*this._scaledCellHeight-window.devicePixelRatio)},t.prototype.clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},t.prototype.clearCells=function(t,e,r,i){this._alpha?this._ctx.clearRect(t*this._scaledCellWidth,e*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background,this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight))},t.prototype.fillCharTrueColor=function(t,e,r,i){this._ctx.font=t.options.fontSize*window.devicePixelRatio+"px "+t.options.fontFamily,this._ctx.textBaseline="top",this._clipRow(t,i),this._ctx.fillText(e[n.CHAR_DATA_CHAR_INDEX],r*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop)},t.prototype.drawChar=function(t,e,r,n,o,s,a,l,c,u){var h=0;a<256?h=a+2:c&&t.options.enableBold&&(h=1);var f=r<256,p=h>1&&a<16&&(a<8||c),d=a>=256,m=l>=256;if(this._charAtlas&&f&&(p||d)&&m){var v=this._scaledCharWidth+i.CHAR_ATLAS_CELL_SPACING,_=this._scaledCharHeight+i.CHAR_ATLAS_CELL_SPACING;u&&(this._ctx.globalAlpha=.5),c&&!t.options.enableBold&&h>1&&(h-=8),this._ctx.drawImage(this._charAtlas,r*v,h*_,v,this._scaledCharHeight,o*this._scaledCellWidth+this._scaledCharLeft,s*this._scaledCellHeight+this._scaledCharTop,v,this._scaledCharHeight)}else this._drawUncachedChar(t,e,n,a,o,s,c,u)},t.prototype._drawUncachedChar=function(t,r,i,n,o,s,a,l){this._ctx.save(),this._ctx.font=t.options.fontSize*window.devicePixelRatio+"px "+t.options.fontFamily,a&&t.options.enableBold&&(this._ctx.font="bold "+this._ctx.font),this._ctx.textBaseline="top",n===e.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background:this._ctx.fillStyle=n<256?this._colors.ansi[n]:this._colors.foreground,this._clipRow(t,s),l&&(this._ctx.globalAlpha=.5),this._ctx.fillText(r,o*this._scaledCellWidth+this._scaledCharLeft,s*this._scaledCellHeight+this._scaledCharTop),this._ctx.restore()},t.prototype._clipRow=function(t,e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,t.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},t}();e.BaseRenderLayer=o},R2KS:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r("niQU"),s=r("v6au"),a=r("BtZ5"),l=r("AAFk"),c=r("H3hU"),u=r("jZ9M"),h=r("Emzz"),f=r("LpsE"),p=r("aMPA"),d=r("vpEF"),m=r("R46B"),v=r("zXmp"),_=r("bc1x"),g=r("VXEB"),y=r("0E5i"),b=r("G0Ob"),C=r("I36Z"),w=r("VSso"),x=r("Fhu2"),S="undefined"!=typeof window?window.document:null,A={cols:80,rows:24,convertEol:!1,termName:"xterm",cursorBlink:!1,cursorStyle:"block",bellSound:b.BellSound,bellStyle:"none",enableBold:!0,fontFamily:"courier-new, courier, monospace",fontSize:15,lineHeight:1,letterSpacing:0,scrollback:1e3,screenKeys:!1,debug:!1,cancelEvents:!1,disableStdin:!1,useFlowControl:!1,tabStopWidth:8,theme:null},k=function(t){function e(e){void 0===e&&(e={});var r=t.call(this)||this;return r.browser=g,r.options=e,r.setup(),r}return n(e,t),e.prototype.setup=function(){var t=this;Object.keys(A).forEach(function(e){null==t.options[e]&&(t.options[e]=A[e]),t[e]=t.options[e]}),this.parent=S?S.body:null,this.cols=this.options.cols,this.rows=this.options.rows,this.options.handler&&this.on("data",this.options.handler),this.cursorState=0,this.cursorHidden=!1,this.sendDataQueue="",this.customKeyEventHandler=null,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!0,this.bracketedPasteMode=!1,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.readable=!0,this.writable=!0,this.defAttr=131840,this.curAttr=131840,this.params=[],this.currentParam=0,this.prefix="",this.postfix="",this.writeBuffer=[],this.writeInProgress=!1,this.xoffSentToCatchUp=!1,this.writeStopped=!1,this.surrogate_high="",this.userScrolling=!1,this.inputHandler=new f.InputHandler(this),this.parser=new p.Parser(this.inputHandler,this),this.renderer=this.renderer||null,this.selectionManager=this.selectionManager||null,this.linkifier=this.linkifier||new m.Linkifier(this),this._mouseZoneManager=this._mouseZoneManager||null,this.buffers=new o.BufferSet(this),this.buffer=this.buffers.active,this.buffers.on("activate",function(e){t.buffer=e}),this.selectionManager&&this.selectionManager.setBuffer(this.buffer)},e.prototype.eraseAttr=function(){return-512&this.defAttr|511&this.curAttr},e.prototype.focus=function(){this.textarea&&this.textarea.focus()},Object.defineProperty(e.prototype,"isFocused",{get:function(){return S.activeElement===this.textarea},enumerable:!0,configurable:!0}),e.prototype.getOption=function(t){if(!(t in A))throw new Error('No option with key "'+t+'"');return void 0!==this.options[t]?this.options[t]:this[t]},e.prototype.setOption=function(t,e){if(!(t in A))throw new Error('No option with key "'+t+'"');switch(t){case"bellStyle":e||(e="none");break;case"cursorStyle":e||(e="block");break;case"lineHeight":if(e<1)return void console.warn(t+" cannot be less than 1, value: "+e);case"tabStopWidth":if(e<1)return void console.warn(t+" cannot be less than 1, value: "+e);break;case"theme":if(this.renderer)return void this._setTheme(e);break;case"scrollback":if((e=Math.min(e,s.MAX_BUFFER_SIZE))<0)return void console.warn(t+" cannot be less than 0, value: "+e);if(this.options[t]!==e){var r=this.rows+e;if(this.buffer.lines.length>r){var i=this.buffer.lines.length-r,n=this.buffer.ydisp-i<0;this.buffer.lines.trimStart(i),this.buffer.ybase=Math.max(this.buffer.ybase-i,0),this.buffer.ydisp=Math.max(this.buffer.ydisp-i,0),n&&this.refresh(0,this.rows-1)}}}switch(this[t]=e,this.options[t]=e,t){case"fontFamily":case"fontSize":this.renderer.clear(),this.charMeasure.measure(this.options);break;case"enableBold":case"letterSpacing":case"lineHeight":this.renderer.clear(),this.renderer.onResize(this.cols,this.rows,!1),this.refresh(0,this.rows-1);case"scrollback":this.buffers.resize(this.cols,this.rows),this.viewport.syncScrollArea();break;case"tabStopWidth":this.buffers.setupTabStops();break;case"bellSound":case"bellStyle":this.syncBellSound()}this.renderer&&this.renderer.onOptionsChanged()},e.prototype._onTextAreaFocus=function(){this.sendFocus&&this.send(h.C0.ESC+"[I"),this.element.classList.add("focus"),this.showCursor(),this.emit("focus")},e.prototype.blur=function(){return this.textarea.blur()},e.prototype._onTextAreaBlur=function(){this.refresh(this.buffer.y,this.buffer.y),this.sendFocus&&this.send(h.C0.ESC+"[O"),this.element.classList.remove("focus"),this.emit("blur")},e.prototype.initGlobal=function(){var t=this;this.bindKeys(),E(this.element,"copy",function(e){t.hasSelection()&&u.copyHandler(e,t,t.selectionManager)});var e=function(e){return u.pasteHandler(e,t)};E(this.textarea,"paste",e),E(this.element,"paste",e),g.isFirefox?E(this.element,"mousedown",function(e){2===e.button&&u.rightClickHandler(e,t.textarea,t.selectionManager)}):E(this.element,"contextmenu",function(e){u.rightClickHandler(e,t.textarea,t.selectionManager)}),g.isLinux&&E(this.element,"auxclick",function(e){1===e.button&&u.moveTextAreaUnderMouseCursor(e,t.textarea)})},e.prototype.bindKeys=function(){var t=this,e=this;E(this.element,"keydown",function(t){S.activeElement===this&&e._keyDown(t)},!0),E(this.element,"keypress",function(t){S.activeElement===this&&e._keyPress(t)},!0),E(this.element,"keyup",function(e){(function(t){return 16===t.keyCode||17===t.keyCode||18===t.keyCode})(e)||t.focus()},!0),E(this.textarea,"keydown",function(e){t._keyDown(e)},!0),E(this.textarea,"keypress",function(e){t._keyPress(e),t.textarea.value=""},!0),E(this.textarea,"compositionstart",function(){return t.compositionHelper.compositionstart()}),E(this.textarea,"compositionupdate",function(e){return t.compositionHelper.compositionupdate(e)}),E(this.textarea,"compositionend",function(){return t.compositionHelper.compositionend()}),this.on("refresh",function(){return t.compositionHelper.updateCompositionElements()}),this.on("refresh",function(e){return t.queueLinkification(e.start,e.end)})},e.prototype.open=function(t){var e=this;if(this.parent=t||this.parent,!this.parent)throw new Error("Terminal requires a parent element.");this.context=this.parent.ownerDocument.defaultView,this.document=this.parent.ownerDocument,this.body=this.document.body,x.initialize(this.document),this.element=this.document.createElement("div"),this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),this.parent.appendChild(this.element);var r=S.createDocumentFragment();this.viewportElement=S.createElement("div"),this.viewportElement.classList.add("xterm-viewport"),r.appendChild(this.viewportElement),this.viewportScrollArea=S.createElement("div"),this.viewportScrollArea.classList.add("xterm-scroll-area"),this.viewportElement.appendChild(this.viewportScrollArea),this._mouseZoneManager=new w.MouseZoneManager(this),this.on("scroll",function(){return e._mouseZoneManager.clearAll()}),this.linkifier.attachToDom(this._mouseZoneManager),this.helperContainer=S.createElement("div"),this.helperContainer.classList.add("xterm-helpers"),r.appendChild(this.helperContainer),this.textarea=S.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.textarea.addEventListener("focus",function(){return e._onTextAreaFocus()}),this.textarea.addEventListener("blur",function(){return e._onTextAreaBlur()}),this.helperContainer.appendChild(this.textarea),this.compositionView=S.createElement("div"),this.compositionView.classList.add("composition-view"),this.compositionHelper=new a.CompositionHelper(this.textarea,this.compositionView,this),this.helperContainer.appendChild(this.compositionView),this.charSizeStyleElement=S.createElement("style"),this.helperContainer.appendChild(this.charSizeStyleElement),this.charMeasure=new _.CharMeasure(S,this.helperContainer),this.syncBellSound(),this.element.appendChild(r),this.renderer=new d.Renderer(this,this.options.theme),this.options.theme=null,this.viewport=new c.Viewport(this,this.viewportElement,this.viewportScrollArea,this.charMeasure),this.viewport.onThemeChanged(this.renderer.colorManager.colors),this.on("cursormove",function(){return e.renderer.onCursorMove()}),this.on("resize",function(){return e.renderer.onResize(e.cols,e.rows,!1)}),this.on("blur",function(){return e.renderer.onBlur()}),this.on("focus",function(){return e.renderer.onFocus()}),window.addEventListener("resize",function(){return e.renderer.onWindowResize(window.devicePixelRatio)}),this.charMeasure.on("charsizechanged",function(){return e.renderer.onResize(e.cols,e.rows,!0)}),this.renderer.on("resize",function(t){return e.viewport.syncScrollArea()}),this.selectionManager=new v.SelectionManager(this,this.buffer,this.charMeasure),this.element.addEventListener("mousedown",function(t){return e.selectionManager.onMouseDown(t)}),this.selectionManager.on("refresh",function(t){return e.renderer.onSelectionChanged(t.start,t.end)}),this.selectionManager.on("newselection",function(t){e.textarea.value=t,e.textarea.focus(),e.textarea.select()}),this.on("scroll",function(){e.viewport.syncScrollArea(),e.selectionManager.refresh()}),this.viewportElement.addEventListener("scroll",function(){return e.selectionManager.refresh()}),this.mouseHelper=new y.MouseHelper(this.renderer),this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this.initGlobal(),this.bindMouse()},e.prototype._setTheme=function(t){var e=this.renderer.setTheme(t);this.viewport&&this.viewport.onThemeChanged(e)},e.applyAddon=function(t){t.apply(e)},e.prototype.bindMouse=function(){var t=this,e=this.element,r=this,i=32;function n(t){var e,n;if(e=function(t){var e,i,n,o,s;switch(t.overrideType||t.type){case"mousedown":e=null!=t.button?+t.button:null!=t.which?t.which-1:null,g.isMSIE&&(e=1===e?0:4===e?1:e);break;case"mouseup":e=3;break;case"DOMMouseScroll":e=t.detail<0?64:65;break;case"wheel":e=t.wheelDeltaY>0?64:65}i=t.shiftKey?4:0,n=t.metaKey?8:0,o=t.ctrlKey?16:0,s=i|n|o,r.vt200Mouse?s&=o:r.normalMouse||(s=0);return e=32+(s<<2)+e}(t),n=r.mouseHelper.getRawByteCoords(t,r.element,r.charMeasure,r.options.lineHeight,r.cols,r.rows))switch(a(e,n),t.overrideType||t.type){case"mousedown":i=e;break;case"mouseup":i=32}}function o(t){var e=i,n=r.mouseHelper.getRawByteCoords(t,r.element,r.charMeasure,r.options.lineHeight,r.cols,r.rows);n&&a(e+=32,n)}function s(t,e){if(r.utfMouse){if(2047===e)return void t.push(0);e<127?t.push(e):(e>2047&&(e=2047),t.push(192|e>>6),t.push(128|63&e))}else{if(255===e)return void t.push(0);e>127&&(e=127),t.push(e)}}function a(t,e){if(r.vt300Mouse){t&=3,e.x-=32,e.y-=32;var i=h.C0.ESC+"[24";if(0===t)i+="1";else if(1===t)i+="3";else if(2===t)i+="5";else{if(3===t)return;i+="0"}return i+="~["+e.x+","+e.y+"]\r",void r.send(i)}if(r.decLocator)return t&=3,e.x-=32,e.y-=32,0===t?t=2:1===t?t=4:2===t?t=6:3===t&&(t=3),void r.send(h.C0.ESC+"["+t+";"+(3===t?4:0)+";"+e.y+";"+e.x+";"+e.page||"0&w");if(r.urxvtMouse)return e.x-=32,e.y-=32,e.x++,e.y++,void r.send(h.C0.ESC+"["+t+";"+e.x+";"+e.y+"M");if(r.sgrMouse)return e.x-=32,e.y-=32,void r.send(h.C0.ESC+"[<"+((3==(3&t)?-4&t:t)-32)+";"+e.x+";"+e.y+(3==(3&t)?"m":"M"));var n=[];s(n,t),s(n,e.x),s(n,e.y),r.send(h.C0.ESC+"[M"+String.fromCharCode.apply(String,n))}E(e,"mousedown",function(e){if(e.preventDefault(),t.focus(),t.mouseEvents&&!t.selectionManager.shouldForceSelection(e)){if(n(e),t.vt200Mouse)return e.overrideType="mouseup",n(e),t.cancel(e);if(t.normalMouse&&E(t.document,"mousemove",o),!t.x10Mouse){var r=function(e){return n(e),t.normalMouse&&L(t.document,"mousemove",o),L(t.document,"mouseup",r),t.cancel(e)};E(t.document,"mouseup",r)}return t.cancel(e)}}),E(e,"wheel",function(e){t.mouseEvents&&(t.x10Mouse||t.vt300Mouse||t.decLocator||(n(e),e.preventDefault()))}),E(e,"wheel",function(e){if(!t.mouseEvents)return t.viewport.onWheel(e),t.cancel(e)}),E(e,"touchstart",function(e){if(!t.mouseEvents)return t.viewport.onTouchStart(e),t.cancel(e)}),E(e,"touchmove",function(e){if(!t.mouseEvents)return t.viewport.onTouchMove(e),t.cancel(e)})},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.readable=!1,this.writable=!1,this.handler=function(){},this.write=function(){},this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},e.prototype.refresh=function(t,e){this.renderer&&this.renderer.queueRefresh(t,e)},e.prototype.queueLinkification=function(t,e){this.linkifier&&this.linkifier.linkifyRows(t,e)},e.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.buffer.y,this.buffer.y))},e.prototype.scroll=function(t){var e=this.blankLine(void 0,t),r=this.buffer.ybase+this.buffer.scrollTop,i=this.buffer.ybase+this.buffer.scrollBottom;if(0===this.buffer.scrollTop){var n=this.buffer.lines.length===this.buffer.lines.maxLength;i===this.buffer.lines.length-1?this.buffer.lines.push(e):this.buffer.lines.splice(i+1,0,e),n?this.userScrolling&&(this.buffer.ydisp=Math.max(this.buffer.ydisp-1,0)):(this.buffer.ybase++,this.userScrolling||this.buffer.ydisp++)}else{var o=i-r+1;this.buffer.lines.shiftElements(r+1,o-1,-1),this.buffer.lines.set(i,e)}this.userScrolling||(this.buffer.ydisp=this.buffer.ybase),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom),this.emit("scroll",this.buffer.ydisp)},e.prototype.scrollLines=function(t,e){if(t<0){if(0===this.buffer.ydisp)return;this.userScrolling=!0}else t+this.buffer.ydisp>=this.buffer.ybase&&(this.userScrolling=!1);var r=this.buffer.ydisp;this.buffer.ydisp=Math.max(Math.min(this.buffer.ydisp+t,this.buffer.ybase),0),r!==this.buffer.ydisp&&(e||this.emit("scroll",this.buffer.ydisp),this.refresh(0,this.rows-1))},e.prototype.scrollPages=function(t){this.scrollLines(t*(this.rows-1))},e.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},e.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},e.prototype.write=function(t){var e=this;this.writeBuffer.push(t),this.options.useFlowControl&&!this.xoffSentToCatchUp&&this.writeBuffer.length>=5&&(this.send(h.C0.DC3),this.xoffSentToCatchUp=!0),!this.writeInProgress&&this.writeBuffer.length>0&&(this.writeInProgress=!0,setTimeout(function(){e.innerWrite()}))},e.prototype.innerWrite=function(){for(var t=this,e=this.writeBuffer.splice(0,300);e.length>0;){var r=e.shift();this.xoffSentToCatchUp&&0===e.length&&0===this.writeBuffer.length&&(this.send(h.C0.DC1),this.xoffSentToCatchUp=!1),this.refreshStart=this.buffer.y,this.refreshEnd=this.buffer.y;var i=this.parser.parse(r);this.parser.setState(i),this.updateRange(this.buffer.y),this.refresh(this.refreshStart,this.refreshEnd)}this.writeBuffer.length>0?setTimeout(function(){return t.innerWrite()},0):this.writeInProgress=!1},e.prototype.writeln=function(t){this.write(t+"\r\n")},e.prototype.attachCustomKeyEventHandler=function(t){this.customKeyEventHandler=t},e.prototype.setHypertextLinkHandler=function(t){if(!this.linkifier)throw new Error("Cannot attach a hypertext link handler before Terminal.open is called");this.linkifier.setHypertextLinkHandler(t),this.refresh(0,this.rows-1)},e.prototype.setHypertextValidationCallback=function(t){if(!this.linkifier)throw new Error("Cannot attach a hypertext validation callback before Terminal.open is called");this.linkifier.setHypertextValidationCallback(t),this.refresh(0,this.rows-1)},e.prototype.registerLinkMatcher=function(t,e,r){if(this.linkifier){var i=this.linkifier.registerLinkMatcher(t,e,r);return this.refresh(0,this.rows-1),i}return 0},e.prototype.deregisterLinkMatcher=function(t){this.linkifier&&this.linkifier.deregisterLinkMatcher(t)&&this.refresh(0,this.rows-1)},e.prototype.hasSelection=function(){return!!this.selectionManager&&this.selectionManager.hasSelection},e.prototype.getSelection=function(){return this.selectionManager?this.selectionManager.selectionText:""},e.prototype.clearSelection=function(){this.selectionManager&&this.selectionManager.clearSelection()},e.prototype.selectAll=function(){this.selectionManager&&this.selectionManager.selectAll()},e.prototype._keyDown=function(t){if(this.customKeyEventHandler&&!1===this.customKeyEventHandler(t))return!1;if(!this.compositionHelper.keydown(t))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var e=this._evaluateKeyEscapeSequence(t);return e.key===h.C0.DC3?this.writeStopped=!0:e.key===h.C0.DC1&&(this.writeStopped=!1),e.scrollLines?(this.scrollLines(e.scrollLines),this.cancel(t,!0)):!!T(this.browser,t)||(e.cancel&&this.cancel(t,!0),!e.key||(this.emit("keydown",t),this.emit("key",e.key,t),this.showCursor(),this.handler(e.key),this.cancel(t,!0)))},e.prototype._evaluateKeyEscapeSequence=function(t){var e={cancel:!1,key:void 0,scrollLines:void 0},r=(t.shiftKey?1:0)|(t.altKey?2:0)|(t.ctrlKey?4:0)|(t.metaKey?8:0);switch(t.keyCode){case 0:"UIKeyInputUpArrow"===t.key?this.applicationCursor?e.key=h.C0.ESC+"OA":e.key=h.C0.ESC+"[A":"UIKeyInputLeftArrow"===t.key?this.applicationCursor?e.key=h.C0.ESC+"OD":e.key=h.C0.ESC+"[D":"UIKeyInputRightArrow"===t.key?this.applicationCursor?e.key=h.C0.ESC+"OC":e.key=h.C0.ESC+"[C":"UIKeyInputDownArrow"===t.key&&(this.applicationCursor?e.key=h.C0.ESC+"OB":e.key=h.C0.ESC+"[B");break;case 8:if(t.shiftKey){e.key=h.C0.BS;break}e.key=h.C0.DEL;break;case 9:if(t.shiftKey){e.key=h.C0.ESC+"[Z";break}e.key=h.C0.HT,e.cancel=!0;break;case 13:e.key=h.C0.CR,e.cancel=!0;break;case 27:e.key=h.C0.ESC,e.cancel=!0;break;case 37:r?(e.key=h.C0.ESC+"[1;"+(r+1)+"D",e.key===h.C0.ESC+"[1;3D"&&(e.key=this.browser.isMac?h.C0.ESC+"b":h.C0.ESC+"[1;5D")):this.applicationCursor?e.key=h.C0.ESC+"OD":e.key=h.C0.ESC+"[D";break;case 39:r?(e.key=h.C0.ESC+"[1;"+(r+1)+"C",e.key===h.C0.ESC+"[1;3C"&&(e.key=this.browser.isMac?h.C0.ESC+"f":h.C0.ESC+"[1;5C")):this.applicationCursor?e.key=h.C0.ESC+"OC":e.key=h.C0.ESC+"[C";break;case 38:r?(e.key=h.C0.ESC+"[1;"+(r+1)+"A",e.key===h.C0.ESC+"[1;3A"&&(e.key=h.C0.ESC+"[1;5A")):this.applicationCursor?e.key=h.C0.ESC+"OA":e.key=h.C0.ESC+"[A";break;case 40:r?(e.key=h.C0.ESC+"[1;"+(r+1)+"B",e.key===h.C0.ESC+"[1;3B"&&(e.key=h.C0.ESC+"[1;5B")):this.applicationCursor?e.key=h.C0.ESC+"OB":e.key=h.C0.ESC+"[B";break;case 45:t.shiftKey||t.ctrlKey||(e.key=h.C0.ESC+"[2~");break;case 46:e.key=r?h.C0.ESC+"[3;"+(r+1)+"~":h.C0.ESC+"[3~";break;case 36:r?e.key=h.C0.ESC+"[1;"+(r+1)+"H":this.applicationCursor?e.key=h.C0.ESC+"OH":e.key=h.C0.ESC+"[H";break;case 35:r?e.key=h.C0.ESC+"[1;"+(r+1)+"F":this.applicationCursor?e.key=h.C0.ESC+"OF":e.key=h.C0.ESC+"[F";break;case 33:t.shiftKey?e.scrollLines=-(this.rows-1):e.key=h.C0.ESC+"[5~";break;case 34:t.shiftKey?e.scrollLines=this.rows-1:e.key=h.C0.ESC+"[6~";break;case 112:e.key=r?h.C0.ESC+"[1;"+(r+1)+"P":h.C0.ESC+"OP";break;case 113:e.key=r?h.C0.ESC+"[1;"+(r+1)+"Q":h.C0.ESC+"OQ";break;case 114:e.key=r?h.C0.ESC+"[1;"+(r+1)+"R":h.C0.ESC+"OR";break;case 115:e.key=r?h.C0.ESC+"[1;"+(r+1)+"S":h.C0.ESC+"OS";break;case 116:e.key=r?h.C0.ESC+"[15;"+(r+1)+"~":h.C0.ESC+"[15~";break;case 117:e.key=r?h.C0.ESC+"[17;"+(r+1)+"~":h.C0.ESC+"[17~";break;case 118:e.key=r?h.C0.ESC+"[18;"+(r+1)+"~":h.C0.ESC+"[18~";break;case 119:e.key=r?h.C0.ESC+"[19;"+(r+1)+"~":h.C0.ESC+"[19~";break;case 120:e.key=r?h.C0.ESC+"[20;"+(r+1)+"~":h.C0.ESC+"[20~";break;case 121:e.key=r?h.C0.ESC+"[21;"+(r+1)+"~":h.C0.ESC+"[21~";break;case 122:e.key=r?h.C0.ESC+"[23;"+(r+1)+"~":h.C0.ESC+"[23~";break;case 123:e.key=r?h.C0.ESC+"[24;"+(r+1)+"~":h.C0.ESC+"[24~";break;default:!t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?this.browser.isMac||!t.altKey||t.ctrlKey||t.metaKey?this.browser.isMac&&!t.altKey&&!t.ctrlKey&&t.metaKey&&65===t.keyCode&&this.selectAll():t.keyCode>=65&&t.keyCode<=90?e.key=h.C0.ESC+String.fromCharCode(t.keyCode+32):192===t.keyCode?e.key=h.C0.ESC+"`":t.keyCode>=48&&t.keyCode<=57&&(e.key=h.C0.ESC+(t.keyCode-48)):t.keyCode>=65&&t.keyCode<=90?e.key=String.fromCharCode(t.keyCode-64):32===t.keyCode?e.key=String.fromCharCode(0):t.keyCode>=51&&t.keyCode<=55?e.key=String.fromCharCode(t.keyCode-51+27):56===t.keyCode?e.key=String.fromCharCode(127):219===t.keyCode?e.key=String.fromCharCode(27):220===t.keyCode?e.key=String.fromCharCode(28):221===t.keyCode&&(e.key=String.fromCharCode(29))}return e},e.prototype.setgLevel=function(t){this.glevel=t,this.charset=this.charsets[t]},e.prototype.setgCharset=function(t,e){this.charsets[t]=e,this.glevel===t&&(this.charset=e)},e.prototype._keyPress=function(t){var e;if(this.customKeyEventHandler&&!1===this.customKeyEventHandler(t))return!1;if(this.cancel(t),t.charCode)e=t.charCode;else if(null==t.which)e=t.keyCode;else{if(0===t.which||0===t.charCode)return!1;e=t.which}return!(!e||(t.altKey||t.ctrlKey||t.metaKey)&&!T(this.browser,t))&&(e=String.fromCharCode(e),this.emit("keypress",e,t),this.emit("key",e,t),this.showCursor(),this.handler(e),!0)},e.prototype.send=function(t){var e=this;this.sendDataQueue||setTimeout(function(){e.handler(e.sendDataQueue),e.sendDataQueue=""},1),this.sendDataQueue+=t},e.prototype.bell=function(){var t=this;this.emit("bell"),this.soundBell()&&this.bellAudioElement.play(),this.visualBell()&&(this.element.classList.add("visual-bell-active"),clearTimeout(this.visualBellTimer),this.visualBellTimer=window.setTimeout(function(){t.element.classList.remove("visual-bell-active")},200))},e.prototype.log=function(t,e){this.options.debug&&this.context.console&&this.context.console.log&&this.context.console.log(t,e)},e.prototype.error=function(t,e){this.options.debug&&this.context.console&&this.context.console.error&&this.context.console.error(t,e)},e.prototype.resize=function(t,e){isNaN(t)||isNaN(e)||(t!==this.cols||e!==this.rows?(t<1&&(t=1),e<1&&(e=1),this.buffers.resize(t,e),this.cols=t,this.rows=e,this.buffers.setupTabStops(this.cols),this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this.emit("resize",{cols:t,rows:e})):this.charMeasure.width&&this.charMeasure.height||this.charMeasure.measure(this.options))},e.prototype.updateRange=function(t){t<this.refreshStart&&(this.refreshStart=t),t>this.refreshEnd&&(this.refreshEnd=t)},e.prototype.maxRange=function(){this.refreshStart=0,this.refreshEnd=this.rows-1},e.prototype.eraseRight=function(t,e){var r=this.buffer.lines.get(this.buffer.ybase+e);if(r){for(var i=[this.eraseAttr()," ",1,32];t<this.cols;t++)r[t]=i;this.updateRange(e)}},e.prototype.eraseLeft=function(t,e){var r=this.buffer.lines.get(this.buffer.ybase+e);if(r){var i=[this.eraseAttr()," ",1,32];for(t++;t--;)r[t]=i;this.updateRange(e)}},e.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var t=1;t<this.rows;t++)this.buffer.lines.push(this.blankLine());this.refresh(0,this.rows-1),this.emit("scroll",this.buffer.ydisp)}},e.prototype.eraseLine=function(t){this.eraseRight(0,t)},e.prototype.blankLine=function(t,e,r){var i=[t?this.eraseAttr():this.defAttr," ",1,32],n=[];e&&(n.isWrapped=e),r=r||this.cols;for(var o=0;o<r;o++)n[o]=i;return n},e.prototype.ch=function(t){return t?[this.eraseAttr()," ",1,32]:[this.defAttr," ",1,32]},e.prototype.is=function(t){return 0===(this.options.termName+"").indexOf(t)},e.prototype.handler=function(t){this.options.disableStdin||(this.selectionManager&&this.selectionManager.hasSelection&&this.selectionManager.clearSelection(),this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),this.emit("data",t))},e.prototype.handleTitle=function(t){this.emit("title",t)},e.prototype.index=function(){this.buffer.y++,this.buffer.y>this.buffer.scrollBottom&&(this.buffer.y--,this.scroll()),this.buffer.x>=this.cols&&this.buffer.x--},e.prototype.reverseIndex=function(){if(this.buffer.y===this.buffer.scrollTop){var t=this.buffer.scrollBottom-this.buffer.scrollTop;this.buffer.lines.shiftElements(this.buffer.y+this.buffer.ybase,t,1),this.buffer.lines.set(this.buffer.y+this.buffer.ybase,this.blankLine(!0)),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom)}else this.buffer.y--},e.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols;var t=this.customKeyEventHandler,e=this.inputHandler,r=this.buffers;this.setup(),this.customKeyEventHandler=t,this.inputHandler=e,this.buffers=r,this.refresh(0,this.rows-1),this.viewport.syncScrollArea()},e.prototype.tabSet=function(){this.buffer.tabs[this.buffer.x]=!0},e.prototype.cancel=function(t,e){if(this.options.cancelEvents||e)return t.preventDefault(),t.stopPropagation(),!1},e.prototype.matchColor=function(t,e,r){return function(t,e,r){var i=t<<16|e<<8|r;if(null!=R[i])return R[i];for(var n,o,s,a,l,c=1/0,u=-1,h=0;h<M.length;h++){if(n=M[h],o=n[0],s=n[1],a=n[2],0===(l=O(t,e,r,o,s,a))){u=h;break}l<c&&(c=l,u=h)}return R[i]=u}(t,e,r)},e.prototype.visualBell=function(){return"visual"===this.options.bellStyle||"both"===this.options.bellStyle},e.prototype.soundBell=function(){return"sound"===this.options.bellStyle||"both"===this.options.bellStyle},e.prototype.syncBellSound=function(){this.element&&(this.soundBell()&&this.bellAudioElement?this.bellAudioElement.setAttribute("src",this.options.bellSound):this.soundBell()?(this.bellAudioElement=S.createElement("audio"),this.bellAudioElement.setAttribute("preload","auto"),this.bellAudioElement.setAttribute("src",this.options.bellSound),this.helperContainer.appendChild(this.bellAudioElement)):this.bellAudioElement&&this.helperContainer.removeChild(this.bellAudioElement))},e}(l.EventEmitter);e.Terminal=k;var E=function(t,e,r,i){Array.isArray(t)||(t=[t]),t.forEach(function(t){t.addEventListener(e,r,i||!1)})};function L(t,e,r,i){void 0===i&&(i=!1),t.removeEventListener(e,r,i)}function T(t,e){var r=t.isMac&&e.altKey&&!e.ctrlKey&&!e.metaKey||t.isMSWindows&&e.altKey&&e.ctrlKey&&!e.metaKey;return"keypress"===e.type?r:r&&(!e.keyCode||e.keyCode>47)}var M=function(){for(var t,e=C.DEFAULT_ANSI_COLORS.map(function(t){return t=t.substring(1),[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}),r=[0,95,135,175,215,255],i=0;i<216;i++)e.push([r[i/36%6|0],r[i/6%6|0],r[i%6]]);for(i=0;i<24;i++)t=8+10*i,e.push([t,t,t]);return e}(),R={};function O(t,e,r,i,n,o){return Math.pow(30*(t-i),2)+Math.pow(59*(e-n),2)+Math.pow(11*(r-o),2)}},R46B:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r("XomM"),s=r("VSso"),a=r("AAFk"),l=new RegExp("(?:^|[^\\da-z\\.-]+)((https?:\\/\\/)((([\\da-z\\.-]+)\\.([a-z\\.]{2,6}))|((\\d{1,3}\\.){3}\\d{1,3})|(localhost))(:\\d{1,5})?(\\/[\\/\\w\\.\\-%~]*)*(\\?[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?(#[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?)($|[^\\/\\w\\.\\-%]+)"),c=0,u=function(t){function e(e){var r=t.call(this)||this;return r._terminal=e,r._linkMatchers=[],r._nextLinkMatcherId=c,r._rowsToLinkify={start:null,end:null},r.registerLinkMatcher(l,null,{matchIndex:1}),r}return n(e,t),e.prototype.attachToDom=function(t){this._mouseZoneManager=t},e.prototype.linkifyRows=function(t,r){var i=this;this._mouseZoneManager&&(this._rowsToLinkify.start?(this._rowsToLinkify.start=this._rowsToLinkify.start<t?this._rowsToLinkify.start:t,this._rowsToLinkify.end=this._rowsToLinkify.end>r?this._rowsToLinkify.end:r):(this._rowsToLinkify.start=t,this._rowsToLinkify.end=r),this._mouseZoneManager.clearAll(t,r),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return i._linkifyRows()},e.TIME_BEFORE_LINKIFY))},e.prototype._linkifyRows=function(){this._rowsTimeoutId=null;for(var t=this._rowsToLinkify.start;t<=this._rowsToLinkify.end;t++)this._linkifyRow(t);this._rowsToLinkify.start=null,this._rowsToLinkify.end=null},e.prototype.setHypertextLinkHandler=function(t){this._linkMatchers[c].handler=t},e.prototype.setHypertextValidationCallback=function(t){this._linkMatchers[c].validationCallback=t},e.prototype.registerLinkMatcher=function(t,e,r){if(void 0===r&&(r={}),this._nextLinkMatcherId!==c&&!e)throw new Error("handler must be defined");var i={id:this._nextLinkMatcherId++,regex:t,handler:e,matchIndex:r.matchIndex,validationCallback:r.validationCallback,hoverTooltipCallback:r.tooltipCallback,hoverLeaveCallback:r.leaveCallback,priority:r.priority||0};return this._addLinkMatcherToList(i),i.id},e.prototype._addLinkMatcherToList=function(t){if(0!==this._linkMatchers.length){for(var e=this._linkMatchers.length-1;e>=0;e--)if(t.priority<=this._linkMatchers[e].priority)return void this._linkMatchers.splice(e+1,0,t);this._linkMatchers.splice(0,0,t)}else this._linkMatchers.push(t)},e.prototype.deregisterLinkMatcher=function(t){for(var e=1;e<this._linkMatchers.length;e++)if(this._linkMatchers[e].id===t)return this._linkMatchers.splice(e,1),!0;return!1},e.prototype._linkifyRow=function(t){var e=this._terminal.buffer.ydisp+t;if(!(e>=this._terminal.buffer.lines.length))for(var r=this._terminal.buffer.translateBufferLineToString(e,!1),i=0;i<this._linkMatchers.length;i++)this._doLinkifyRow(t,r,this._linkMatchers[i])},e.prototype._doLinkifyRow=function(t,e,r,i){var n=this;void 0===i&&(i=0);r.id;var o=e.match(r.regex);if(o&&0!==o.length){var s=o["number"!=typeof r.matchIndex?0:r.matchIndex],a=e.indexOf(s);r.validationCallback?r.validationCallback(s,function(e){n._rowsTimeoutId||e&&n._addLink(i+a,t,s,r)}):this._addLink(i+a,t,s,r);var l=a+s.length,c=e.substr(l);c.length>0&&this._doLinkifyRow(t,c,r,i+l)}},e.prototype._addLink=function(t,e,r,i){var n=this;this._mouseZoneManager.add(new s.MouseZone(t+1,t+1+r.length,e+1,function(t){if(i.handler)return i.handler(t,r);window.open(r,"_blank")},function(i){n.emit(o.LinkHoverEventTypes.HOVER,{x:t,y:e,length:r.length}),n._terminal.element.style.cursor="pointer"},function(s){n.emit(o.LinkHoverEventTypes.TOOLTIP,{x:t,y:e,length:r.length}),i.hoverTooltipCallback&&i.hoverTooltipCallback(s,r)},function(){n.emit(o.LinkHoverEventTypes.LEAVE,{x:t,y:e,length:r.length}),n._terminal.element.style.cursor="",i.hoverLeaveCallback&&i.hoverLeaveCallback()}))},e.TIME_BEFORE_LINKIFY=200,e}(a.EventEmitter);e.Linkifier=u},RJjk:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CHARSETS={},e.DEFAULT_CHARSET=e.CHARSETS.B,e.CHARSETS[0]={"`":"",a:"",b:"\t",c:"\f",d:"\r",e:"\n",f:"",g:"",h:"",i:"\v",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},e.CHARSETS.A={"#":""},e.CHARSETS.B=null,e.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},e.CHARSETS.C=e.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},e.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},e.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},e.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},e.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},e.CHARSETS.E=e.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},e.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},e.CHARSETS.H=e.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},e.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},VSso:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){var e=this;this._terminal=t,this._zones=[],this._areZonesActive=!1,this._tooltipTimeout=null,this._currentZone=null,this._lastHoverCoords=[null,null],this._terminal.element.addEventListener("mousedown",function(t){return e._onMouseDown(t)}),this._mouseMoveListener=function(t){return e._onMouseMove(t)},this._clickListener=function(t){return e._onClick(t)}}return t.prototype.add=function(t){this._zones.push(t),1===this._zones.length&&this._activate()},t.prototype.clearAll=function(t,e){if(0!==this._zones.length){e||(t=0,e=this._terminal.rows-1);for(var r=0;r<this._zones.length;r++){var i=this._zones[r];i.y>t&&i.y<=e+1&&(this._currentZone&&this._currentZone===i&&(this._currentZone.leaveCallback(),this._currentZone=null),this._zones.splice(r--,1))}0===this._zones.length&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._terminal.element.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.addEventListener("click",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._terminal.element.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.removeEventListener("click",this._clickListener))},t.prototype._onMouseMove=function(t){this._lastHoverCoords[0]===t.pageX&&this._lastHoverCoords[1]===t.pageY||(this._onHover(t),this._lastHoverCoords=[t.pageX,t.pageY])},t.prototype._onHover=function(t){var e=this,r=this._findZoneEventAt(t);r!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=null,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),r&&(this._currentZone=r,r.hoverCallback&&r.hoverCallback(t),this._tooltipTimeout=setTimeout(function(){return e._onTooltip(t)},500)))},t.prototype._onTooltip=function(t){this._tooltipTimeout=null;var e=this._findZoneEventAt(t);e&&e.tooltipCallback&&e.tooltipCallback(t)},t.prototype._onMouseDown=function(t){this._areZonesActive&&(this._findZoneEventAt(t)&&(t.preventDefault(),t.stopImmediatePropagation()))},t.prototype._onClick=function(t){var e=this._findZoneEventAt(t);e&&(e.clickCallback(t),t.preventDefault(),t.stopImmediatePropagation())},t.prototype._findZoneEventAt=function(t){var e=this._terminal.mouseHelper.getCoords(t,this._terminal.element,this._terminal.charMeasure,this._terminal.options.lineHeight,this._terminal.cols,this._terminal.rows);if(!e)return null;for(var r=0;r<this._zones.length;r++){var i=this._zones[r];if(i.y===e[1]&&i.x1<=e[0]&&i.x2>e[0])return i}return null},t}();e.MouseZoneManager=i;var n=function(){return function(t,e,r,i,n,o,s){this.x1=t,this.x2=e,this.y=r,this.clickCallback=i,this.hoverCallback=n,this.tooltipCallback=o,this.leaveCallback=s}}();e.MouseZone=n},"VU/8":function(t,e){t.exports=function(t,e,r,i,n,o){var s,a=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(s=t,a=t.default);var c,u="function"==typeof a?a.options:a;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),r&&(u.functional=!0),n&&(u._scopeId=n),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):i&&(c=i),c){var h=u.functional,f=h?u.render:u.beforeCreate;h?(u._injectStyles=c,u.render=function(t,e){return c.call(e),f(t,e)}):u.beforeCreate=f?[].concat(f,c):[c]}return{esModule:s,exports:a,options:u}}},VXEB:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("BdVW"),n="undefined"==typeof navigator,o=n?"node":navigator.userAgent,s=n?"node":navigator.platform;e.isFirefox=!!~o.indexOf("Firefox"),e.isMSIE=!!~o.indexOf("MSIE")||!!~o.indexOf("Trident"),e.isMac=i.contains(["Macintosh","MacIntel","MacPPC","Mac68K"],s),e.isIpad="iPad"===s,e.isIphone="iPhone"===s,e.isMSWindows=i.contains(["Windows","Win16","Win32","WinCE"],s),e.isLinux=s.indexOf("Linux")>=0},XomM:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.HOVER="linkhover",t.TOOLTIP="linktooltip",t.LEAVE="linkleave"}(e.LinkHoverEventTypes||(e.LinkHoverEventTypes={}))},aMPA:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("Emzz"),n=r("RJjk"),o={};o[i.C0.BEL]=function(t,e){return e.bell()},o[i.C0.LF]=function(t,e){return e.lineFeed()},o[i.C0.VT]=o[i.C0.LF],o[i.C0.FF]=o[i.C0.LF],o[i.C0.CR]=function(t,e){return e.carriageReturn()},o[i.C0.BS]=function(t,e){return e.backspace()},o[i.C0.HT]=function(t,e){return e.tab()},o[i.C0.SO]=function(t,e){return e.shiftOut()},o[i.C0.SI]=function(t,e){return e.shiftIn()},o[i.C0.ESC]=function(t,e){return t.setState(l.ESCAPED)};var s={"[":function(t,e){e.params=[],e.currentParam=0,t.setState(l.CSI_PARAM)},"]":function(t,e){e.params=[],e.currentParam=0,t.setState(l.OSC)},P:function(t,e){e.params=[],e.currentParam=0,t.setState(l.DCS)},_:function(t,e){t.setState(l.IGNORE)},"^":function(t,e){t.setState(l.IGNORE)},c:function(t,e){e.reset()},E:function(t,e){e.buffer.x=0,e.index(),t.setState(l.NORMAL)},D:function(t,e){e.index(),t.setState(l.NORMAL)},M:function(t,e){e.reverseIndex(),t.setState(l.NORMAL)},"%":function(t,e){e.setgLevel(0),e.setgCharset(0,n.DEFAULT_CHARSET),t.setState(l.NORMAL),t.skipNextChar()}};s[i.C0.CAN]=function(t){return t.setState(l.NORMAL)};var a={"?":function(t){return t.setPrefix("?")},">":function(t){return t.setPrefix(">")},"!":function(t){return t.setPrefix("!")},0:function(t){return t.setParam(10*t.getParam())},1:function(t){return t.setParam(10*t.getParam()+1)},2:function(t){return t.setParam(10*t.getParam()+2)},3:function(t){return t.setParam(10*t.getParam()+3)},4:function(t){return t.setParam(10*t.getParam()+4)},5:function(t){return t.setParam(10*t.getParam()+5)},6:function(t){return t.setParam(10*t.getParam()+6)},7:function(t){return t.setParam(10*t.getParam()+7)},8:function(t){return t.setParam(10*t.getParam()+8)},9:function(t){return t.setParam(10*t.getParam()+9)},$:function(t){return t.setPostfix("$")},'"':function(t){return t.setPostfix('"')}," ":function(t){return t.setPostfix(" ")},"'":function(t){return t.setPostfix("'")},";":function(t){return t.finalizeParam()}};a[i.C0.CAN]=function(t){return t.setState(l.NORMAL)};var l,c={};c["@"]=function(t,e,r){return t.insertChars(e)},c.A=function(t,e,r){return t.cursorUp(e)},c.B=function(t,e,r){return t.cursorDown(e)},c.C=function(t,e,r){return t.cursorForward(e)},c.D=function(t,e,r){return t.cursorBackward(e)},c.E=function(t,e,r){return t.cursorNextLine(e)},c.F=function(t,e,r){return t.cursorPrecedingLine(e)},c.G=function(t,e,r){return t.cursorCharAbsolute(e)},c.H=function(t,e,r){return t.cursorPosition(e)},c.I=function(t,e,r){return t.cursorForwardTab(e)},c.J=function(t,e,r){return t.eraseInDisplay(e)},c.K=function(t,e,r){return t.eraseInLine(e)},c.L=function(t,e,r){return t.insertLines(e)},c.M=function(t,e,r){return t.deleteLines(e)},c.P=function(t,e,r){return t.deleteChars(e)},c.S=function(t,e,r){return t.scrollUp(e)},c.T=function(t,e,r){e.length<2&&!r&&t.scrollDown(e)},c.X=function(t,e,r){return t.eraseChars(e)},c.Z=function(t,e,r){return t.cursorBackwardTab(e)},c["`"]=function(t,e,r){return t.charPosAbsolute(e)},c.a=function(t,e,r){return t.HPositionRelative(e)},c.b=function(t,e,r){return t.repeatPrecedingCharacter(e)},c.c=function(t,e,r){return t.sendDeviceAttributes(e)},c.d=function(t,e,r){return t.linePosAbsolute(e)},c.e=function(t,e,r){return t.VPositionRelative(e)},c.f=function(t,e,r){return t.HVPosition(e)},c.g=function(t,e,r){return t.tabClear(e)},c.h=function(t,e,r){return t.setMode(e)},c.l=function(t,e,r){return t.resetMode(e)},c.m=function(t,e,r){return t.charAttributes(e)},c.n=function(t,e,r){return t.deviceStatus(e)},c.p=function(t,e,r){switch(r){case"!":t.softReset(e)}},c.q=function(t,e,r,i){" "===i&&t.setCursorStyle(e)},c.r=function(t,e){return t.setScrollRegion(e)},c.s=function(t,e){return t.saveCursor(e)},c.u=function(t,e){return t.restoreCursor(e)},c[i.C0.CAN]=function(t,e,r,i,n){return n.setState(l.NORMAL)},function(t){t[t.NORMAL=0]="NORMAL",t[t.ESCAPED=1]="ESCAPED",t[t.CSI_PARAM=2]="CSI_PARAM",t[t.CSI=3]="CSI",t[t.OSC=4]="OSC",t[t.CHARSET=5]="CHARSET",t[t.DCS=6]="DCS",t[t.IGNORE=7]="IGNORE"}(l=e.ParserState||(e.ParserState={}));var u=function(){function t(t,e){this._inputHandler=t,this._terminal=e,this._state=l.NORMAL}return t.prototype.parse=function(t){var e,r,u,h,f=t.length,p=this._terminal.buffer.x,d=this._terminal.buffer.y;for(this._terminal.debug&&this._terminal.log("data: "+t),this._position=0,this._terminal.surrogate_high&&(t=this._terminal.surrogate_high+t,this._terminal.surrogate_high="");this._position<f;this._position++){if(r=t[this._position],55296<=(u=t.charCodeAt(this._position))&&u<=56319){if(h=t.charCodeAt(this._position+1),isNaN(h)){this._terminal.surrogate_high=r;continue}u=1024*(u-55296)+(h-56320)+65536,r+=t.charAt(this._position+1)}if(!(56320<=u&&u<=57343))switch(this._state){case l.NORMAL:r in o?o[r](this,this._inputHandler):this._inputHandler.addChar(r,u);break;case l.ESCAPED:if(r in s){s[r](this,this._terminal);break}switch(r){case"(":case")":case"*":case"+":case"-":case".":switch(r){case"(":this._terminal.gcharset=0;break;case")":this._terminal.gcharset=1;break;case"*":this._terminal.gcharset=2;break;case"+":this._terminal.gcharset=3;break;case"-":this._terminal.gcharset=1;break;case".":this._terminal.gcharset=2}this._state=l.CHARSET;break;case"/":this._terminal.gcharset=3,this._state=l.CHARSET,this._position--;break;case"N":case"O":break;case"n":this._terminal.setgLevel(2);break;case"o":case"|":this._terminal.setgLevel(3);break;case"}":this._terminal.setgLevel(2);break;case"~":this._terminal.setgLevel(1);break;case"7":this._inputHandler.saveCursor(),this._state=l.NORMAL;break;case"8":this._inputHandler.restoreCursor(),this._state=l.NORMAL;break;case"#":this._state=l.NORMAL,this._position++;break;case"H":this._terminal.tabSet(),this._state=l.NORMAL;break;case"=":this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._state=l.NORMAL;break;case">":this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._state=l.NORMAL;break;default:this._state=l.NORMAL,this._terminal.error("Unknown ESC control: %s.",r)}break;case l.CHARSET:r in n.CHARSETS?(e=n.CHARSETS[r],"/"===r&&this.skipNextChar()):e=n.DEFAULT_CHARSET,this._terminal.setgCharset(this._terminal.gcharset,e),this._terminal.gcharset=null,this._state=l.NORMAL;break;case l.OSC:if(r===i.C0.ESC||r===i.C0.BEL){switch(r===i.C0.ESC&&this._position++,this._terminal.params.push(this._terminal.currentParam),this._terminal.params[0]){case 0:case 1:case 2:this._terminal.params[1]&&(this._terminal.title=this._terminal.params[1],this._terminal.handleTitle(this._terminal.title))}this._terminal.params=[],this._terminal.currentParam=0,this._state=l.NORMAL}else this._terminal.params.length?this._terminal.currentParam+=r:r>="0"&&r<="9"?this._terminal.currentParam=10*this._terminal.currentParam+r.charCodeAt(0)-48:";"===r&&(this._terminal.params.push(this._terminal.currentParam),this._terminal.currentParam="");break;case l.CSI_PARAM:if(r in a){a[r](this);break}this.finalizeParam(),this._state=l.CSI;case l.CSI:r in c?(this._terminal.debug&&this._terminal.log("CSI "+(this._terminal.prefix?this._terminal.prefix:"")+" "+(this._terminal.params?this._terminal.params.join(";"):"")+" "+(this._terminal.postfix?this._terminal.postfix:"")+" "+r),c[r](this._inputHandler,this._terminal.params,this._terminal.prefix,this._terminal.postfix,this)):this._terminal.error("Unknown CSI code: %s.",r),this._state=l.NORMAL,this._terminal.prefix="",this._terminal.postfix="";break;case l.DCS:if(r===i.C0.ESC||r===i.C0.BEL){r===i.C0.ESC&&this._position++;var m=void 0,v=void 0;switch(this._terminal.prefix){case"":break;case"$q":switch(v=!1,m=this._terminal.currentParam){case'"q':m='0"q';break;case'"p':m='61"p';break;case"r":m=this._terminal.buffer.scrollTop+1+";"+(this._terminal.buffer.scrollBottom+1)+"r";break;case"m":m="0m";break;default:this._terminal.error("Unknown DCS Pt: %s.",m),m=""}this._terminal.send(i.C0.ESC+"P"+ +v+"$r"+m+i.C0.ESC+"\\");break;case"+p":break;case"+q":m=this._terminal.currentParam,v=!1,this._terminal.send(i.C0.ESC+"P"+ +v+"+r"+m+i.C0.ESC+"\\");break;default:this._terminal.error("Unknown DCS prefix: %s.",this._terminal.prefix)}this._terminal.currentParam=0,this._terminal.prefix="",this._state=l.NORMAL}else this._terminal.currentParam?this._terminal.currentParam+=r:this._terminal.prefix||"$"===r||"+"===r?2===this._terminal.prefix.length?this._terminal.currentParam=r:this._terminal.prefix+=r:this._terminal.currentParam=r;break;case l.IGNORE:r!==i.C0.ESC&&r!==i.C0.BEL||(r===i.C0.ESC&&this._position++,this._state=l.NORMAL)}}return this._terminal.buffer.x===p&&this._terminal.buffer.y===d||this._terminal.emit("cursormove"),this._state},t.prototype.setState=function(t){this._state=t},t.prototype.setPrefix=function(t){this._terminal.prefix=t},t.prototype.setPostfix=function(t){this._terminal.postfix=t},t.prototype.setParam=function(t){this._terminal.currentParam=t},t.prototype.getParam=function(){return this._terminal.currentParam},t.prototype.finalizeParam=function(){this._terminal.params.push(this._terminal.currentParam),this._terminal.currentParam=0},t.prototype.skipNextChar=function(){this._position++},t}();e.Parser=u},aX1R:function(t,e,r){(function(t){var e={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},r=t.Pos;function i(t,r){return"pairs"==r&&"string"==typeof t?t:"object"==typeof t&&null!=t[r]?t[r]:e[r]}t.defineOption("autoCloseBrackets",!1,function(e,r,s){s&&s!=t.Init&&(e.removeKeyMap(n),e.state.closeBrackets=null),r&&(o(i(r,"pairs")),e.state.closeBrackets=r,e.addKeyMap(n))});var n={Backspace:function(e){var n=a(e);if(!n||e.getOption("disableInput"))return t.Pass;for(var o=i(n,"pairs"),s=e.listSelections(),l=0;l<s.length;l++){if(!s[l].empty())return t.Pass;var u=c(e,s[l].head);if(!u||o.indexOf(u)%2!=0)return t.Pass}for(var l=s.length-1;l>=0;l--){var h=s[l].head;e.replaceRange("",r(h.line,h.ch-1),r(h.line,h.ch+1),"+delete")}},Enter:function(e){var r=a(e),n=r&&i(r,"explode");if(!n||e.getOption("disableInput"))return t.Pass;for(var o=e.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return t.Pass;var l=c(e,o[s].head);if(!l||n.indexOf(l)%2!=0)return t.Pass}e.operation(function(){var t=e.lineSeparator()||"\n";e.replaceSelection(t+t,null),e.execCommand("goCharLeft"),o=e.listSelections();for(var r=0;r<o.length;r++){var i=o[r].head.line;e.indentLine(i,null,!0),e.indentLine(i+1,null,!0)}})}};function o(t){for(var e=0;e<t.length;e++){var r=t.charAt(e),i="'"+r+"'";n[i]||(n[i]=s(r))}}function s(e){return function(n){return function(e,n){var o=a(e);if(!o||e.getOption("disableInput"))return t.Pass;var s=i(o,"pairs"),c=s.indexOf(n);if(-1==c)return t.Pass;for(var h,f=i(o,"triples"),p=s.charAt(c+1)==n,d=e.listSelections(),m=c%2==0,v=0;v<d.length;v++){var _,g=d[v],y=g.head,b=e.getRange(y,r(y.line,y.ch+1));if(m&&!g.empty())_="surround";else if(!p&&m||b!=n)if(p&&y.ch>1&&f.indexOf(n)>=0&&e.getRange(r(y.line,y.ch-2),y)==n+n&&(y.ch<=2||e.getRange(r(y.line,y.ch-3),r(y.line,y.ch-2))!=n))_="addFour";else if(p){var C=0==y.ch?" ":e.getRange(r(y.line,y.ch-1),y);if(t.isWordChar(b)||C==n||t.isWordChar(C))return t.Pass;_="both"}else{if(!m||e.getLine(y.line).length!=y.ch&&!l(b,s)&&!/\s/.test(b))return t.Pass;_="both"}else _=p&&u(e,y)?"both":f.indexOf(n)>=0&&e.getRange(y,r(y.line,y.ch+3))==n+n+n?"skipThree":"skip";if(h){if(h!=_)return t.Pass}else h=_}var w=c%2?s.charAt(c-1):n,x=c%2?n:s.charAt(c+1);e.operation(function(){if("skip"==h)e.execCommand("goCharRight");else if("skipThree"==h)for(var i=0;i<3;i++)e.execCommand("goCharRight");else if("surround"==h){for(var n=e.getSelections(),i=0;i<n.length;i++)n[i]=w+n[i]+x;e.replaceSelections(n,"around"),n=e.listSelections().slice();for(var i=0;i<n.length;i++)n[i]=(o=n[i],void 0,s=t.cmpPos(o.anchor,o.head)>0,{anchor:new r(o.anchor.line,o.anchor.ch+(s?-1:1)),head:new r(o.head.line,o.head.ch+(s?1:-1))});e.setSelections(n)}else"both"==h?(e.replaceSelection(w+x,null),e.triggerElectric(w+x),e.execCommand("goCharLeft")):"addFour"==h&&(e.replaceSelection(w+w+w+w,"before"),e.execCommand("goCharRight"));var o,s})}(n,e)}}function a(t){var e=t.state.closeBrackets;return!e||e.override?e:t.getModeAt(t.getCursor()).closeBrackets||e}function l(t,e){var r=e.lastIndexOf(t);return r>-1&&r%2==1}function c(t,e){var i=t.getRange(r(e.line,e.ch-1),r(e.line,e.ch+1));return 2==i.length?i:null}function u(t,e){var i=t.getTokenAt(r(e.line,e.ch+1));return/\bstring/.test(i.type)&&i.start==e.ch&&(0==e.ch||!/\bstring/.test(t.getTokenTypeAt(e)))}o(e.pairs+"`")})(r("8U58"))},bc1x:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this)||this;return i._document=e,i._parentElement=r,i._measureElement=i._document.createElement("span"),i._measureElement.style.position="absolute",i._measureElement.style.top="0",i._measureElement.style.left="-9999em",i._measureElement.style.lineHeight="normal",i._measureElement.textContent="W",i._measureElement.setAttribute("aria-hidden","true"),i._parentElement.appendChild(i._measureElement),i}return n(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.measure=function(t){this._measureElement.style.fontFamily=t.fontFamily,this._measureElement.style.fontSize=t.fontSize+"px";var e=this._measureElement.getBoundingClientRect();0!==e.width&&0!==e.height&&(this._width===e.width&&this._height===e.height||(this._width=e.width,this._height=Math.ceil(e.height),this.emit("charsizechanged")))},e}(r("AAFk").EventEmitter);e.CharMeasure=o},"bqw/":function(t,e,r){var i,n;n=function(){return function t(e,r,n){function o(a,l){if(!r[a]){if(!e[a]){if(!l&&("function"==typeof i&&i))return i(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};e[a][0].call(u.exports,function(t){var r=e[a][1][t];return o(r||t)},u,u.exports,t,e,r,n)}return r[a].exports}for(var s="function"==typeof i&&i,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./utils/CircularList");r.CHAR_DATA_ATTR_INDEX=0,r.CHAR_DATA_CHAR_INDEX=1,r.CHAR_DATA_WIDTH_INDEX=2,r.CHAR_DATA_CODE_INDEX=3,r.MAX_BUFFER_SIZE=4294967295;var n=function(){function t(t,e){this._terminal=t,this._hasScrollback=e,this.clear()}return Object.defineProperty(t.prototype,"lines",{get:function(){return this._lines},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._terminal.rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCursorInViewport",{get:function(){var t=this.ybase+this.y-this.ydisp;return t>=0&&t<this._terminal.rows},enumerable:!0,configurable:!0}),t.prototype._getCorrectBufferLength=function(t){if(!this._hasScrollback)return t;var e=t+this._terminal.options.scrollback;return e>r.MAX_BUFFER_SIZE?r.MAX_BUFFER_SIZE:e},t.prototype.fillViewportRows=function(){if(0===this._lines.length)for(var t=this._terminal.rows;t--;)this.lines.push(this._terminal.blankLine())},t.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this._lines=new i.CircularList(this._getCorrectBufferLength(this._terminal.rows)),this.scrollTop=0,this.scrollBottom=this._terminal.rows-1,this.setupTabStops()},t.prototype.resize=function(t,e){var r=this._getCorrectBufferLength(e);if(r>this._lines.maxLength&&(this._lines.maxLength=r),this._lines.length>0){if(this._terminal.cols<t)for(var i=[this._terminal.defAttr," ",1,32],n=0;n<this._lines.length;n++)for(void 0===this._lines.get(n)&&this._lines.set(n,this._terminal.blankLine(void 0,void 0,t));this._lines.get(n).length<t;)this._lines.get(n).push(i);var o=0;if(this._terminal.rows<e)for(var s=this._terminal.rows;s<e;s++)this._lines.length<e+this.ybase&&(this.ybase>0&&this._lines.length<=this.ybase+this.y+o+1?(this.ybase--,o++,this.ydisp>0&&this.ydisp--):this._lines.push(this._terminal.blankLine(void 0,void 0,t)));else for(s=this._terminal.rows;s>e;s--)this._lines.length>e+this.ybase&&(this._lines.length>this.ybase+this.y+1?this._lines.pop():(this.ybase++,this.ydisp++));if(r<this._lines.maxLength){var a=this._lines.length-r;a>0&&(this._lines.trimStart(a),this.ybase=Math.max(this.ybase-a,0),this.ydisp=Math.max(this.ydisp-a,0)),this._lines.maxLength=r}this.y>=e&&(this.y=e-1),o&&(this.y+=o),this.x>=t&&(this.x=t-1),this.scrollTop=0}this.scrollBottom=e-1},t.prototype.translateBufferLineToString=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=null);var o="",s=this.lines.get(t);if(!s)return"";for(var a=i,l=n=n||s.length,c=0;c<s.length;c++){var u=s[c];o+=u[r.CHAR_DATA_CHAR_INDEX],0===u[r.CHAR_DATA_WIDTH_INDEX]?(i>=c&&a--,n>=c&&l--):u[r.CHAR_DATA_CHAR_INDEX].length>1&&(i>c&&(a+=u[r.CHAR_DATA_CHAR_INDEX].length-1),n>c&&(l+=u[r.CHAR_DATA_CHAR_INDEX].length-1))}if(e){var h=o.search(/\s+$/);if(-1!==h&&(l=Math.min(l,h)),l<=a)return""}return o.substring(a,l)},t.prototype.setupTabStops=function(t){for(null!=t?this.tabs[t]||(t=this.prevStop(t)):(this.tabs={},t=0);t<this._terminal.cols;t+=this._terminal.options.tabStopWidth)this.tabs[t]=!0},t.prototype.prevStop=function(t){for(null==t&&(t=this.x);!this.tabs[--t]&&t>0;);return t>=this._terminal.cols?this._terminal.cols-1:t<0?0:t},t.prototype.nextStop=function(t){for(null==t&&(t=this.x);!this.tabs[++t]&&t<this._terminal.cols;);return t>=this._terminal.cols?this._terminal.cols-1:t<0?0:t},t}();r.Buffer=n},{"./utils/CircularList":30}],2:[function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./Buffer"),s=function(t){function e(e){var r=t.call(this)||this;return r._terminal=e,r._normal=new o.Buffer(r._terminal,!0),r._normal.fillViewportRows(),r._alt=new o.Buffer(r._terminal,!1),r._activeBuffer=r._normal,r.setupTabStops(),r}return n(e,t),Object.defineProperty(e.prototype,"alt",{get:function(){return this._alt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal},enumerable:!0,configurable:!0}),e.prototype.activateNormalBuffer=function(){this._alt.clear(),this._activeBuffer=this._normal,this.emit("activate",this._normal)},e.prototype.activateAltBuffer=function(){this._alt.fillViewportRows(),this._activeBuffer=this._alt,this.emit("activate",this._alt)},e.prototype.resize=function(t,e){this._normal.resize(t,e),this._alt.resize(t,e)},e.prototype.setupTabStops=function(t){this._normal.setupTabStops(t),this._alt.setupTabStops(t)},e}(t("./EventEmitter").EventEmitter);r.BufferSet=s},{"./Buffer":1,"./EventEmitter":7}],3:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.wcwidth=function(t){var e=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],r=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];function i(t,e){var r,i=0,n=e.length-1;if(t<e[0][0]||t>e[n][1])return!1;for(;n>=i;)if(t>e[r=i+n>>1][1])i=r+1;else{if(!(t<e[r][0]))return!0;n=r-1}return!1}var n=0|t.control,o=null;return function(s){if((s|=0)<32)return 0|n;if(s<127)return 1;var a,l=o||function(){var r;o="undefined"==typeof Uint32Array?new Array(4096):new Uint32Array(4096);for(var n=0;n<4096;++n){for(var s=0,a=16;a--;)s=s<<2|(0===(r=16*n+a)?t.nul:r<32||r>=127&&r<160?t.control:i(r,e)?0:function(t){return t>=4352&&(t<=4447||9001===t||9002===t||t>=11904&&t<=42191&&12351!==t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510)}(r)?2:1);o[n]=s}return o}();return s<65536?l[s>>4]>>((15&s)<<1)&3:i(a=s,r)?0:a>=131072&&a<=196605||a>=196608&&a<=262141?2:1}}({nul:0,control:0})},{}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CHARSETS={},r.DEFAULT_CHARSET=r.CHARSETS.B,r.CHARSETS[0]={"`":"",a:"",b:"\t",c:"\f",d:"\r",e:"\n",f:"",g:"",h:"",i:"\v",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},r.CHARSETS.A={"#":""},r.CHARSETS.B=null,r.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},r.CHARSETS.C=r.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},r.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},r.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},r.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},r.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},r.CHARSETS.E=r.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},r.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},r.CHARSETS.H=r.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},r.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},{}],5:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e,r){this.textarea=t,this.compositionView=e,this.terminal=r,this.isComposing=!1,this.isSendingComposition=!1,this.compositionPosition={start:null,end:null}}return t.prototype.compositionstart=function(){this.isComposing=!0,this.compositionPosition.start=this.textarea.value.length,this.compositionView.textContent="",this.compositionView.classList.add("active")},t.prototype.compositionupdate=function(t){var e=this;this.compositionView.textContent=t.data,this.updateCompositionElements(),setTimeout(function(){e.compositionPosition.end=e.textarea.value.length},0)},t.prototype.compositionend=function(){this.finalizeComposition(!0)},t.prototype.keydown=function(t){if(this.isComposing||this.isSendingComposition){if(229===t.keyCode)return!1;if(16===t.keyCode||17===t.keyCode||18===t.keyCode)return!1;this.finalizeComposition(!1)}return 229!==t.keyCode||(this.handleAnyTextareaChanges(),!1)},t.prototype.finalizeComposition=function(t){var e=this;if(this.compositionView.classList.remove("active"),this.isComposing=!1,this.clearTextareaPosition(),t){var r={start:this.compositionPosition.start,end:this.compositionPosition.end};this.isSendingComposition=!0,setTimeout(function(){if(e.isSendingComposition){e.isSendingComposition=!1;var t=void 0;t=e.isComposing?e.textarea.value.substring(r.start,r.end):e.textarea.value.substring(r.start),e.terminal.handler(t)}},0)}else{this.isSendingComposition=!1;var i=this.textarea.value.substring(this.compositionPosition.start,this.compositionPosition.end);this.terminal.handler(i)}},t.prototype.handleAnyTextareaChanges=function(){var t=this,e=this.textarea.value;setTimeout(function(){if(!t.isComposing){var r=t.textarea.value.replace(e,"");r.length>0&&t.terminal.handler(r)}},0)},t.prototype.updateCompositionElements=function(t){var e=this;if(this.isComposing){if(this.terminal.buffer.isCursorInViewport){var r=Math.ceil(this.terminal.charMeasure.height*this.terminal.options.lineHeight),i=this.terminal.buffer.y*r,n=this.terminal.buffer.x*this.terminal.charMeasure.width;this.compositionView.style.left=n+"px",this.compositionView.style.top=i+"px",this.compositionView.style.height=r+"px",this.compositionView.style.lineHeight=r+"px";var o=this.compositionView.getBoundingClientRect();this.textarea.style.left=n+"px",this.textarea.style.top=i+"px",this.textarea.style.width=o.width+"px",this.textarea.style.height=o.height+"px",this.textarea.style.lineHeight=o.height+"px"}t||setTimeout(function(){return e.updateCompositionElements(!0)},0)}},t.prototype.clearTextareaPosition=function(){this.textarea.style.left="",this.textarea.style.top=""},t}();r.CompositionHelper=i},{}],6:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t){t.NUL="\0",t.SOH="",t.STX="",t.ETX="",t.EOT="",t.ENQ="",t.ACK="",t.BEL="",t.BS="\b",t.HT="\t",t.LF="\n",t.VT="\v",t.FF="\f",t.CR="\r",t.SO="",t.SI="",t.DLE="",t.DC1="",t.DC2="",t.DC3="",t.DC4="",t.NAK="",t.SYN="",t.ETB="",t.CAN="",t.EM="",t.SUB="",t.ESC="",t.FS="",t.GS="",t.RS="",t.US="",t.SP=" ",t.DEL=""}(r.C0||(r.C0={}))},{}],7:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(){this._events=this._events||{}}return t.prototype.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)},t.prototype.off=function(t,e){if(this._events[t])for(var r=this._events[t],i=r.length;i--;)if(r[i]===e||r[i].listener===e)return void r.splice(i,1)},t.prototype.removeAllListeners=function(t){this._events[t]&&delete this._events[t]},t.prototype.once=function(t,e){function r(){var i=Array.prototype.slice.call(arguments);this.off(t,r),e.apply(this,i)}r.listener=e,this.on(t,r)},t.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(this._events[t])for(var i=this._events[t],n=0;n<i.length;n++)i[n].apply(this,e)},t.prototype.listeners=function(t){return this._events[t]||[]},t.prototype.destroy=function(){this._events={}},t}();r.EventEmitter=i},{}],8:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./EscapeSequences"),n=t("./Charsets"),o=t("./Buffer"),s=t("./renderer/Types"),a=t("./CharWidth"),l=function(){function t(t){this._terminal=t}return t.prototype.addChar=function(t,e){if(t>=" "){var r=a.wcwidth(e);this._terminal.charset&&this._terminal.charset[t]&&(t=this._terminal.charset[t]);var i=this._terminal.buffer.y+this._terminal.buffer.ybase;if(!r&&this._terminal.buffer.x)return void(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-1]&&(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-1][o.CHAR_DATA_WIDTH_INDEX]?(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-1][o.CHAR_DATA_CHAR_INDEX]+=t,this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-1][3]=t.charCodeAt(0)):this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-2]&&(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-2][o.CHAR_DATA_CHAR_INDEX]+=t,this._terminal.buffer.lines.get(i)[this._terminal.buffer.x-2][3]=t.charCodeAt(0)),this._terminal.updateRange(this._terminal.buffer.y)));if(this._terminal.buffer.x+r-1>=this._terminal.cols)if(this._terminal.wraparoundMode)this._terminal.buffer.x=0,this._terminal.buffer.y++,this._terminal.buffer.y>this._terminal.buffer.scrollBottom?(this._terminal.buffer.y--,this._terminal.scroll(!0)):this._terminal.buffer.lines.get(this._terminal.buffer.y).isWrapped=!0;else if(2===r)return;if(i=this._terminal.buffer.y+this._terminal.buffer.ybase,this._terminal.insertMode)for(var n=0;n<r;++n){0===this._terminal.buffer.lines.get(this._terminal.buffer.y+this._terminal.buffer.ybase).pop()[o.CHAR_DATA_WIDTH_INDEX]&&this._terminal.buffer.lines.get(i)[this._terminal.cols-2]&&2===this._terminal.buffer.lines.get(i)[this._terminal.cols-2][o.CHAR_DATA_WIDTH_INDEX]&&(this._terminal.buffer.lines.get(i)[this._terminal.cols-2]=[this._terminal.curAttr," ",1," ".charCodeAt(0)]),this._terminal.buffer.lines.get(i).splice(this._terminal.buffer.x,0,[this._terminal.curAttr," ",1," ".charCodeAt(0)])}this._terminal.buffer.lines.get(i)[this._terminal.buffer.x]=[this._terminal.curAttr,t,r,t.charCodeAt(0)],this._terminal.buffer.x++,this._terminal.updateRange(this._terminal.buffer.y),2===r&&(this._terminal.buffer.lines.get(i)[this._terminal.buffer.x]=[this._terminal.curAttr,"",0,void 0],this._terminal.buffer.x++)}},t.prototype.bell=function(){this._terminal.bell()},t.prototype.lineFeed=function(){this._terminal.convertEol&&(this._terminal.buffer.x=0),this._terminal.buffer.y++,this._terminal.buffer.y>this._terminal.buffer.scrollBottom&&(this._terminal.buffer.y--,this._terminal.scroll()),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--,this._terminal.emit("linefeed")},t.prototype.carriageReturn=function(){this._terminal.buffer.x=0},t.prototype.backspace=function(){this._terminal.buffer.x>0&&this._terminal.buffer.x--},t.prototype.tab=function(){this._terminal.buffer.x=this._terminal.buffer.nextStop()},t.prototype.shiftOut=function(){this._terminal.setgLevel(1)},t.prototype.shiftIn=function(){this._terminal.setgLevel(0)},t.prototype.insertChars=function(t){var e=t[0];e<1&&(e=1);for(var r=this._terminal.buffer.y+this._terminal.buffer.ybase,i=this._terminal.buffer.x,n=[this._terminal.eraseAttr()," ",1,32];e--&&i<this._terminal.cols;)this._terminal.buffer.lines.get(r).splice(i++,0,n),this._terminal.buffer.lines.get(r).pop()},t.prototype.cursorUp=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y-=e,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0)},t.prototype.cursorDown=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y+=e,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},t.prototype.cursorForward=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x+=e,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},t.prototype.cursorBackward=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--,this._terminal.buffer.x-=e,this._terminal.buffer.x<0&&(this._terminal.buffer.x=0)},t.prototype.cursorNextLine=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y+=e,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=0},t.prototype.cursorPrecedingLine=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y-=e,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0),this._terminal.buffer.x=0},t.prototype.cursorCharAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x=e-1},t.prototype.cursorPosition=function(t){var e,r=t[0]-1;e=t.length>=2?t[1]-1:0,r<0?r=0:r>=this._terminal.rows&&(r=this._terminal.rows-1),e<0?e=0:e>=this._terminal.cols&&(e=this._terminal.cols-1),this._terminal.buffer.x=e,this._terminal.buffer.y=r},t.prototype.cursorForwardTab=function(t){for(var e=t[0]||1;e--;)this._terminal.buffer.x=this._terminal.buffer.nextStop()},t.prototype.eraseInDisplay=function(t){var e;switch(t[0]){case 0:for(this._terminal.eraseRight(this._terminal.buffer.x,this._terminal.buffer.y),e=this._terminal.buffer.y+1;e<this._terminal.rows;e++)this._terminal.eraseLine(e);break;case 1:for(this._terminal.eraseLeft(this._terminal.buffer.x,this._terminal.buffer.y),e=this._terminal.buffer.y;e--;)this._terminal.eraseLine(e);break;case 2:for(e=this._terminal.rows;e--;)this._terminal.eraseLine(e);break;case 3:var r=this._terminal.buffer.lines.length-this._terminal.rows;r>0&&(this._terminal.buffer.lines.trimStart(r),this._terminal.buffer.ybase=Math.max(this._terminal.buffer.ybase-r,0),this._terminal.buffer.ydisp=Math.max(this._terminal.buffer.ydisp-r,0),this._terminal.emit("scroll",0))}},t.prototype.eraseInLine=function(t){switch(t[0]){case 0:this._terminal.eraseRight(this._terminal.buffer.x,this._terminal.buffer.y);break;case 1:this._terminal.eraseLeft(this._terminal.buffer.x,this._terminal.buffer.y);break;case 2:this._terminal.eraseLine(this._terminal.buffer.y)}},t.prototype.insertLines=function(t){var e=t[0];e<1&&(e=1);for(var r=this._terminal.buffer.y+this._terminal.buffer.ybase,i=this._terminal.rows-1-this._terminal.buffer.scrollBottom,n=this._terminal.rows-1+this._terminal.buffer.ybase-i+1;e--;)this._terminal.buffer.lines.splice(n-1,1),this._terminal.buffer.lines.splice(r,0,this._terminal.blankLine(!0));this._terminal.updateRange(this._terminal.buffer.y),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},t.prototype.deleteLines=function(t){var e=t[0];e<1&&(e=1);var r,i=this._terminal.buffer.y+this._terminal.buffer.ybase;for(r=this._terminal.rows-1-this._terminal.buffer.scrollBottom,r=this._terminal.rows-1+this._terminal.buffer.ybase-r;e--;)this._terminal.buffer.lines.splice(i,1),this._terminal.buffer.lines.splice(r,0,this._terminal.blankLine(!0));this._terminal.updateRange(this._terminal.buffer.y),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},t.prototype.deleteChars=function(t){var e=t[0];e<1&&(e=1);for(var r=this._terminal.buffer.y+this._terminal.buffer.ybase,i=[this._terminal.eraseAttr()," ",1,32];e--;)this._terminal.buffer.lines.get(r).splice(this._terminal.buffer.x,1),this._terminal.buffer.lines.get(r).push(i);this._terminal.updateRange(this._terminal.buffer.y)},t.prototype.scrollUp=function(t){for(var e=t[0]||1;e--;)this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollTop,1),this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollBottom,0,this._terminal.blankLine());this._terminal.updateRange(this._terminal.buffer.scrollTop),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},t.prototype.scrollDown=function(t){for(var e=t[0]||1;e--;)this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollBottom,1),this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollTop,0,this._terminal.blankLine());this._terminal.updateRange(this._terminal.buffer.scrollTop),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},t.prototype.eraseChars=function(t){var e=t[0];e<1&&(e=1);for(var r=this._terminal.buffer.y+this._terminal.buffer.ybase,i=this._terminal.buffer.x,n=[this._terminal.eraseAttr()," ",1,32];e--&&i<this._terminal.cols;)this._terminal.buffer.lines.get(r)[i++]=n},t.prototype.cursorBackwardTab=function(t){for(var e=t[0]||1;e--;)this._terminal.buffer.x=this._terminal.buffer.prevStop()},t.prototype.charPosAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x=e-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},t.prototype.HPositionRelative=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x+=e,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},t.prototype.repeatPrecedingCharacter=function(t){for(var e=t[0]||1,r=this._terminal.buffer.lines.get(this._terminal.buffer.ybase+this._terminal.buffer.y),i=r[this._terminal.buffer.x-1]||[this._terminal.defAttr," ",1,32];e--;)r[this._terminal.buffer.x++]=i},t.prototype.sendDeviceAttributes=function(t){t[0]>0||(this._terminal.prefix?">"===this._terminal.prefix&&(this._terminal.is("xterm")?this._terminal.send(i.C0.ESC+"[>0;276;0c"):this._terminal.is("rxvt-unicode")?this._terminal.send(i.C0.ESC+"[>85;95;0c"):this._terminal.is("linux")?this._terminal.send(t[0]+"c"):this._terminal.is("screen")&&this._terminal.send(i.C0.ESC+"[>83;40003;0c")):this._terminal.is("xterm")||this._terminal.is("rxvt-unicode")||this._terminal.is("screen")?this._terminal.send(i.C0.ESC+"[?1;2c"):this._terminal.is("linux")&&this._terminal.send(i.C0.ESC+"[?6c"))},t.prototype.linePosAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y=e-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1)},t.prototype.VPositionRelative=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y+=e,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},t.prototype.HVPosition=function(t){t[0]<1&&(t[0]=1),t[1]<1&&(t[1]=1),this._terminal.buffer.y=t[0]-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=t[1]-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},t.prototype.tabClear=function(t){var e=t[0];e<=0?delete this._terminal.buffer.tabs[this._terminal.buffer.x]:3===e&&(this._terminal.buffer.tabs={})},t.prototype.setMode=function(t){if(t.length>1)for(var e=0;e<t.length;e++)this.setMode([t[e]]);else if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(t[0]){case 1:this._terminal.applicationCursor=!0;break;case 2:this._terminal.setgCharset(0,n.DEFAULT_CHARSET),this._terminal.setgCharset(1,n.DEFAULT_CHARSET),this._terminal.setgCharset(2,n.DEFAULT_CHARSET),this._terminal.setgCharset(3,n.DEFAULT_CHARSET);break;case 3:this._terminal.savedCols=this._terminal.cols,this._terminal.resize(132,this._terminal.rows);break;case 6:this._terminal.originMode=!0;break;case 7:this._terminal.wraparoundMode=!0;break;case 12:break;case 66:this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=9===t[0],this._terminal.vt200Mouse=1e3===t[0],this._terminal.normalMouse=t[0]>1e3,this._terminal.mouseEvents=!0,this._terminal.element.classList.add("enable-mouse-events"),this._terminal.selectionManager.disable(),this._terminal.log("Binding to mouse events.");break;case 1004:this._terminal.sendFocus=!0;break;case 1005:this._terminal.utfMouse=!0;break;case 1006:this._terminal.sgrMouse=!0;break;case 1015:this._terminal.urxvtMouse=!0;break;case 25:this._terminal.cursorHidden=!1;break;case 1049:case 47:case 1047:this._terminal.buffers.activateAltBuffer(),this._terminal.selectionManager.setBuffer(this._terminal.buffer),this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!0}}else switch(t[0]){case 4:this._terminal.insertMode=!0}},t.prototype.resetMode=function(t){if(t.length>1)for(var e=0;e<t.length;e++)this.resetMode([t[e]]);else if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(t[0]){case 1:this._terminal.applicationCursor=!1;break;case 3:132===this._terminal.cols&&this._terminal.savedCols&&this._terminal.resize(this._terminal.savedCols,this._terminal.rows),delete this._terminal.savedCols;break;case 6:this._terminal.originMode=!1;break;case 7:this._terminal.wraparoundMode=!1;break;case 12:break;case 66:this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=!1,this._terminal.vt200Mouse=!1,this._terminal.normalMouse=!1,this._terminal.mouseEvents=!1,this._terminal.element.classList.remove("enable-mouse-events"),this._terminal.selectionManager.enable();break;case 1004:this._terminal.sendFocus=!1;break;case 1005:this._terminal.utfMouse=!1;break;case 1006:this._terminal.sgrMouse=!1;break;case 1015:this._terminal.urxvtMouse=!1;break;case 25:this._terminal.cursorHidden=!0;break;case 1049:case 47:case 1047:this._terminal.buffers.activateNormalBuffer(),this._terminal.selectionManager.setBuffer(this._terminal.buffer),this._terminal.refresh(0,this._terminal.rows-1),this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!1}}else switch(t[0]){case 4:this._terminal.insertMode=!1}},t.prototype.charAttributes=function(t){if(1!==t.length||0!==t[0]){for(var e,r=t.length,i=this._terminal.curAttr>>18,n=this._terminal.curAttr>>9&511,o=511&this._terminal.curAttr,a=0;a<r;a++)(e=t[a])>=30&&e<=37?n=e-30:e>=40&&e<=47?o=e-40:e>=90&&e<=97?n=(e+=8)-90:e>=100&&e<=107?o=(e+=8)-100:0===e?(i=this._terminal.defAttr>>18,n=this._terminal.defAttr>>9&511,o=511&this._terminal.defAttr):1===e?i|=s.FLAGS.BOLD:4===e?i|=s.FLAGS.UNDERLINE:5===e?i|=s.FLAGS.BLINK:7===e?i|=s.FLAGS.INVERSE:8===e?i|=s.FLAGS.INVISIBLE:2===e?i|=s.FLAGS.DIM:22===e?(i&=~s.FLAGS.BOLD,i&=~s.FLAGS.DIM):24===e?i&=~s.FLAGS.UNDERLINE:25===e?i&=~s.FLAGS.BLINK:27===e?i&=~s.FLAGS.INVERSE:28===e?i&=~s.FLAGS.INVISIBLE:39===e?n=this._terminal.defAttr>>9&511:49===e?o=511&this._terminal.defAttr:38===e?2===t[a+1]?(a+=2,-1===(n=this._terminal.matchColor(255&t[a],255&t[a+1],255&t[a+2]))&&(n=511),a+=2):5===t[a+1]&&(n=e=255&t[a+=2]):48===e?2===t[a+1]?(a+=2,-1===(o=this._terminal.matchColor(255&t[a],255&t[a+1],255&t[a+2]))&&(o=511),a+=2):5===t[a+1]&&(o=e=255&t[a+=2]):100===e?(n=this._terminal.defAttr>>9&511,o=511&this._terminal.defAttr):this._terminal.error("Unknown SGR attribute: %d.",e);this._terminal.curAttr=i<<18|n<<9|o}else this._terminal.curAttr=this._terminal.defAttr},t.prototype.deviceStatus=function(t){if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(t[0]){case 6:this._terminal.send(i.C0.ESC+"[?"+(this._terminal.buffer.y+1)+";"+(this._terminal.buffer.x+1)+"R")}}else switch(t[0]){case 5:this._terminal.send(i.C0.ESC+"[0n");break;case 6:this._terminal.send(i.C0.ESC+"["+(this._terminal.buffer.y+1)+";"+(this._terminal.buffer.x+1)+"R")}},t.prototype.softReset=function(t){this._terminal.cursorHidden=!1,this._terminal.insertMode=!1,this._terminal.originMode=!1,this._terminal.wraparoundMode=!0,this._terminal.applicationKeypad=!1,this._terminal.viewport.syncScrollArea(),this._terminal.applicationCursor=!1,this._terminal.buffer.scrollTop=0,this._terminal.buffer.scrollBottom=this._terminal.rows-1,this._terminal.curAttr=this._terminal.defAttr,this._terminal.buffer.x=this._terminal.buffer.y=0,this._terminal.charset=null,this._terminal.glevel=0,this._terminal.charsets=[null]},t.prototype.setCursorStyle=function(t){var e=t[0]<1?1:t[0];switch(e){case 1:case 2:this._terminal.setOption("cursorStyle","block");break;case 3:case 4:this._terminal.setOption("cursorStyle","underline");break;case 5:case 6:this._terminal.setOption("cursorStyle","bar")}var r=e%2==1;this._terminal.setOption("cursorBlink",r)},t.prototype.setScrollRegion=function(t){this._terminal.prefix||(this._terminal.buffer.scrollTop=(t[0]||1)-1,this._terminal.buffer.scrollBottom=(t[1]&&t[1]<=this._terminal.rows?t[1]:this._terminal.rows)-1,this._terminal.buffer.x=0,this._terminal.buffer.y=0)},t.prototype.saveCursor=function(t){this._terminal.buffer.savedX=this._terminal.buffer.x,this._terminal.buffer.savedY=this._terminal.buffer.y},t.prototype.restoreCursor=function(t){this._terminal.buffer.x=this._terminal.buffer.savedX||0,this._terminal.buffer.y=this._terminal.buffer.savedY||0},t}();r.InputHandler=l},{"./Buffer":1,"./CharWidth":3,"./Charsets":4,"./EscapeSequences":6,"./renderer/Types":27}],9:[function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./Types"),s=t("./input/MouseZoneManager"),a=t("./EventEmitter"),l=new RegExp("(?:^|[^\\da-z\\.-]+)((https?:\\/\\/)((([\\da-z\\.-]+)\\.([a-z\\.]{2,6}))|((\\d{1,3}\\.){3}\\d{1,3})|(localhost))(:\\d{1,5})?(\\/[\\/\\w\\.\\-%~]*)*(\\?[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?(#[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?)($|[^\\/\\w\\.\\-%]+)"),c=0,u=function(t){function e(e){var r=t.call(this)||this;return r._terminal=e,r._linkMatchers=[],r._nextLinkMatcherId=c,r._rowsToLinkify={start:null,end:null},r.registerLinkMatcher(l,null,{matchIndex:1}),r}return n(e,t),e.prototype.attachToDom=function(t){this._mouseZoneManager=t},e.prototype.linkifyRows=function(t,r){var i=this;this._mouseZoneManager&&(this._rowsToLinkify.start?(this._rowsToLinkify.start=this._rowsToLinkify.start<t?this._rowsToLinkify.start:t,this._rowsToLinkify.end=this._rowsToLinkify.end>r?this._rowsToLinkify.end:r):(this._rowsToLinkify.start=t,this._rowsToLinkify.end=r),this._mouseZoneManager.clearAll(t,r),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return i._linkifyRows()},e.TIME_BEFORE_LINKIFY))},e.prototype._linkifyRows=function(){this._rowsTimeoutId=null;for(var t=this._rowsToLinkify.start;t<=this._rowsToLinkify.end;t++)this._linkifyRow(t);this._rowsToLinkify.start=null,this._rowsToLinkify.end=null},e.prototype.setHypertextLinkHandler=function(t){this._linkMatchers[c].handler=t},e.prototype.setHypertextValidationCallback=function(t){this._linkMatchers[c].validationCallback=t},e.prototype.registerLinkMatcher=function(t,e,r){if(void 0===r&&(r={}),this._nextLinkMatcherId!==c&&!e)throw new Error("handler must be defined");var i={id:this._nextLinkMatcherId++,regex:t,handler:e,matchIndex:r.matchIndex,validationCallback:r.validationCallback,hoverTooltipCallback:r.tooltipCallback,hoverLeaveCallback:r.leaveCallback,priority:r.priority||0};return this._addLinkMatcherToList(i),i.id},e.prototype._addLinkMatcherToList=function(t){if(0!==this._linkMatchers.length){for(var e=this._linkMatchers.length-1;e>=0;e--)if(t.priority<=this._linkMatchers[e].priority)return void this._linkMatchers.splice(e+1,0,t);this._linkMatchers.splice(0,0,t)}else this._linkMatchers.push(t)},e.prototype.deregisterLinkMatcher=function(t){for(var e=1;e<this._linkMatchers.length;e++)if(this._linkMatchers[e].id===t)return this._linkMatchers.splice(e,1),!0;return!1},e.prototype._linkifyRow=function(t){var e=this._terminal.buffer.ydisp+t;if(!(e>=this._terminal.buffer.lines.length))for(var r=this._terminal.buffer.translateBufferLineToString(e,!1),i=0;i<this._linkMatchers.length;i++)this._doLinkifyRow(t,r,this._linkMatchers[i])},e.prototype._doLinkifyRow=function(t,e,r,i){var n=this;void 0===i&&(i=0);r.id;var o=e.match(r.regex);if(o&&0!==o.length){var s=o["number"!=typeof r.matchIndex?0:r.matchIndex],a=e.indexOf(s);r.validationCallback?r.validationCallback(s,function(e){n._rowsTimeoutId||e&&n._addLink(i+a,t,s,r)}):this._addLink(i+a,t,s,r);var l=a+s.length,c=e.substr(l);c.length>0&&this._doLinkifyRow(t,c,r,i+l)}},e.prototype._addLink=function(t,e,r,i){var n=this;this._mouseZoneManager.add(new s.MouseZone(t+1,t+1+r.length,e+1,function(t){if(i.handler)return i.handler(t,r);window.open(r,"_blank")},function(i){n.emit(o.LinkHoverEventTypes.HOVER,{x:t,y:e,length:r.length}),n._terminal.element.style.cursor="pointer"},function(s){n.emit(o.LinkHoverEventTypes.TOOLTIP,{x:t,y:e,length:r.length}),i.hoverTooltipCallback&&i.hoverTooltipCallback(s,r)},function(){n.emit(o.LinkHoverEventTypes.LEAVE,{x:t,y:e,length:r.length}),n._terminal.element.style.cursor="",i.hoverLeaveCallback&&i.hoverLeaveCallback()}))},e.TIME_BEFORE_LINKIFY=200,e}(a.EventEmitter);r.Linkifier=u},{"./EventEmitter":7,"./Types":14,"./input/MouseZoneManager":17}],10:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./EscapeSequences"),n=t("./Charsets"),o={};o[i.C0.BEL]=function(t,e){return e.bell()},o[i.C0.LF]=function(t,e){return e.lineFeed()},o[i.C0.VT]=o[i.C0.LF],o[i.C0.FF]=o[i.C0.LF],o[i.C0.CR]=function(t,e){return e.carriageReturn()},o[i.C0.BS]=function(t,e){return e.backspace()},o[i.C0.HT]=function(t,e){return e.tab()},o[i.C0.SO]=function(t,e){return e.shiftOut()},o[i.C0.SI]=function(t,e){return e.shiftIn()},o[i.C0.ESC]=function(t,e){return t.setState(l.ESCAPED)};var s={"[":function(t,e){e.params=[],e.currentParam=0,t.setState(l.CSI_PARAM)},"]":function(t,e){e.params=[],e.currentParam=0,t.setState(l.OSC)},P:function(t,e){e.params=[],e.currentParam=0,t.setState(l.DCS)},_:function(t,e){t.setState(l.IGNORE)},"^":function(t,e){t.setState(l.IGNORE)},c:function(t,e){e.reset()},E:function(t,e){e.buffer.x=0,e.index(),t.setState(l.NORMAL)},D:function(t,e){e.index(),t.setState(l.NORMAL)},M:function(t,e){e.reverseIndex(),t.setState(l.NORMAL)},"%":function(t,e){e.setgLevel(0),e.setgCharset(0,n.DEFAULT_CHARSET),t.setState(l.NORMAL),t.skipNextChar()}};s[i.C0.CAN]=function(t){return t.setState(l.NORMAL)};var a={"?":function(t){return t.setPrefix("?")},">":function(t){return t.setPrefix(">")},"!":function(t){return t.setPrefix("!")},0:function(t){return t.setParam(10*t.getParam())},1:function(t){return t.setParam(10*t.getParam()+1)},2:function(t){return t.setParam(10*t.getParam()+2)},3:function(t){return t.setParam(10*t.getParam()+3)},4:function(t){return t.setParam(10*t.getParam()+4)},5:function(t){return t.setParam(10*t.getParam()+5)},6:function(t){return t.setParam(10*t.getParam()+6)},7:function(t){return t.setParam(10*t.getParam()+7)},8:function(t){return t.setParam(10*t.getParam()+8)},9:function(t){return t.setParam(10*t.getParam()+9)},$:function(t){return t.setPostfix("$")},'"':function(t){return t.setPostfix('"')}," ":function(t){return t.setPostfix(" ")},"'":function(t){return t.setPostfix("'")},";":function(t){return t.finalizeParam()}};a[i.C0.CAN]=function(t){return t.setState(l.NORMAL)};var l,c={};c["@"]=function(t,e,r){return t.insertChars(e)},c.A=function(t,e,r){return t.cursorUp(e)},c.B=function(t,e,r){return t.cursorDown(e)},c.C=function(t,e,r){return t.cursorForward(e)},c.D=function(t,e,r){return t.cursorBackward(e)},c.E=function(t,e,r){return t.cursorNextLine(e)},c.F=function(t,e,r){return t.cursorPrecedingLine(e)},c.G=function(t,e,r){return t.cursorCharAbsolute(e)},c.H=function(t,e,r){return t.cursorPosition(e)},c.I=function(t,e,r){return t.cursorForwardTab(e)},c.J=function(t,e,r){return t.eraseInDisplay(e)},c.K=function(t,e,r){return t.eraseInLine(e)},c.L=function(t,e,r){return t.insertLines(e)},c.M=function(t,e,r){return t.deleteLines(e)},c.P=function(t,e,r){return t.deleteChars(e)},c.S=function(t,e,r){return t.scrollUp(e)},c.T=function(t,e,r){e.length<2&&!r&&t.scrollDown(e)},c.X=function(t,e,r){return t.eraseChars(e)},c.Z=function(t,e,r){return t.cursorBackwardTab(e)},c["`"]=function(t,e,r){return t.charPosAbsolute(e)},c.a=function(t,e,r){return t.HPositionRelative(e)},c.b=function(t,e,r){return t.repeatPrecedingCharacter(e)},c.c=function(t,e,r){return t.sendDeviceAttributes(e)},c.d=function(t,e,r){return t.linePosAbsolute(e)},c.e=function(t,e,r){return t.VPositionRelative(e)},c.f=function(t,e,r){return t.HVPosition(e)},c.g=function(t,e,r){return t.tabClear(e)},c.h=function(t,e,r){return t.setMode(e)},c.l=function(t,e,r){return t.resetMode(e)},c.m=function(t,e,r){return t.charAttributes(e)},c.n=function(t,e,r){return t.deviceStatus(e)},c.p=function(t,e,r){switch(r){case"!":t.softReset(e)}},c.q=function(t,e,r,i){" "===i&&t.setCursorStyle(e)},c.r=function(t,e){return t.setScrollRegion(e)},c.s=function(t,e){return t.saveCursor(e)},c.u=function(t,e){return t.restoreCursor(e)},c[i.C0.CAN]=function(t,e,r,i,n){return n.setState(l.NORMAL)},function(t){t[t.NORMAL=0]="NORMAL",t[t.ESCAPED=1]="ESCAPED",t[t.CSI_PARAM=2]="CSI_PARAM",t[t.CSI=3]="CSI",t[t.OSC=4]="OSC",t[t.CHARSET=5]="CHARSET",t[t.DCS=6]="DCS",t[t.IGNORE=7]="IGNORE"}(l=r.ParserState||(r.ParserState={}));var u=function(){function t(t,e){this._inputHandler=t,this._terminal=e,this._state=l.NORMAL}return t.prototype.parse=function(t){var e,r,u,h,f=t.length,p=this._terminal.buffer.x,d=this._terminal.buffer.y;for(this._terminal.debug&&this._terminal.log("data: "+t),this._position=0,this._terminal.surrogate_high&&(t=this._terminal.surrogate_high+t,this._terminal.surrogate_high="");this._position<f;this._position++){if(r=t[this._position],55296<=(u=t.charCodeAt(this._position))&&u<=56319){if(h=t.charCodeAt(this._position+1),isNaN(h)){this._terminal.surrogate_high=r;continue}u=1024*(u-55296)+(h-56320)+65536,r+=t.charAt(this._position+1)}if(!(56320<=u&&u<=57343))switch(this._state){case l.NORMAL:r in o?o[r](this,this._inputHandler):this._inputHandler.addChar(r,u);break;case l.ESCAPED:if(r in s){s[r](this,this._terminal);break}switch(r){case"(":case")":case"*":case"+":case"-":case".":switch(r){case"(":this._terminal.gcharset=0;break;case")":this._terminal.gcharset=1;break;case"*":this._terminal.gcharset=2;break;case"+":this._terminal.gcharset=3;break;case"-":this._terminal.gcharset=1;break;case".":this._terminal.gcharset=2}this._state=l.CHARSET;break;case"/":this._terminal.gcharset=3,this._state=l.CHARSET,this._position--;break;case"N":case"O":break;case"n":this._terminal.setgLevel(2);break;case"o":case"|":this._terminal.setgLevel(3);break;case"}":this._terminal.setgLevel(2);break;case"~":this._terminal.setgLevel(1);break;case"7":this._inputHandler.saveCursor(),this._state=l.NORMAL;break;case"8":this._inputHandler.restoreCursor(),this._state=l.NORMAL;break;case"#":this._state=l.NORMAL,this._position++;break;case"H":this._terminal.tabSet(),this._state=l.NORMAL;break;case"=":this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._state=l.NORMAL;break;case">":this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._state=l.NORMAL;break;default:this._state=l.NORMAL,this._terminal.error("Unknown ESC control: %s.",r)}break;case l.CHARSET:r in n.CHARSETS?(e=n.CHARSETS[r],"/"===r&&this.skipNextChar()):e=n.DEFAULT_CHARSET,this._terminal.setgCharset(this._terminal.gcharset,e),this._terminal.gcharset=null,this._state=l.NORMAL;break;case l.OSC:if(r===i.C0.ESC||r===i.C0.BEL){switch(r===i.C0.ESC&&this._position++,this._terminal.params.push(this._terminal.currentParam),this._terminal.params[0]){case 0:case 1:case 2:this._terminal.params[1]&&(this._terminal.title=this._terminal.params[1],this._terminal.handleTitle(this._terminal.title))}this._terminal.params=[],this._terminal.currentParam=0,this._state=l.NORMAL}else this._terminal.params.length?this._terminal.currentParam+=r:r>="0"&&r<="9"?this._terminal.currentParam=10*this._terminal.currentParam+r.charCodeAt(0)-48:";"===r&&(this._terminal.params.push(this._terminal.currentParam),this._terminal.currentParam="");break;case l.CSI_PARAM:if(r in a){a[r](this);break}this.finalizeParam(),this._state=l.CSI;case l.CSI:r in c?(this._terminal.debug&&this._terminal.log("CSI "+(this._terminal.prefix?this._terminal.prefix:"")+" "+(this._terminal.params?this._terminal.params.join(";"):"")+" "+(this._terminal.postfix?this._terminal.postfix:"")+" "+r),c[r](this._inputHandler,this._terminal.params,this._terminal.prefix,this._terminal.postfix,this)):this._terminal.error("Unknown CSI code: %s.",r),this._state=l.NORMAL,this._terminal.prefix="",this._terminal.postfix="";break;case l.DCS:if(r===i.C0.ESC||r===i.C0.BEL){r===i.C0.ESC&&this._position++;var m=void 0,v=void 0;switch(this._terminal.prefix){case"":break;case"$q":switch(v=!1,m=this._terminal.currentParam){case'"q':m='0"q';break;case'"p':m='61"p';break;case"r":m=this._terminal.buffer.scrollTop+1+";"+(this._terminal.buffer.scrollBottom+1)+"r";break;case"m":m="0m";break;default:this._terminal.error("Unknown DCS Pt: %s.",m),m=""}this._terminal.send(i.C0.ESC+"P"+ +v+"$r"+m+i.C0.ESC+"\\");break;case"+p":break;case"+q":m=this._terminal.currentParam,v=!1,this._terminal.send(i.C0.ESC+"P"+ +v+"+r"+m+i.C0.ESC+"\\");break;default:this._terminal.error("Unknown DCS prefix: %s.",this._terminal.prefix)}this._terminal.currentParam=0,this._terminal.prefix="",this._state=l.NORMAL}else this._terminal.currentParam?this._terminal.currentParam+=r:this._terminal.prefix||"$"===r||"+"===r?2===this._terminal.prefix.length?this._terminal.currentParam=r:this._terminal.prefix+=r:this._terminal.currentParam=r;break;case l.IGNORE:r!==i.C0.ESC&&r!==i.C0.BEL||(r===i.C0.ESC&&this._position++,this._state=l.NORMAL)}}return this._terminal.buffer.x===p&&this._terminal.buffer.y===d||this._terminal.emit("cursormove"),this._state},t.prototype.setState=function(t){this._state=t},t.prototype.setPrefix=function(t){this._terminal.prefix=t},t.prototype.setPostfix=function(t){this._terminal.postfix=t},t.prototype.setParam=function(t){this._terminal.currentParam=t},t.prototype.getParam=function(){return this._terminal.currentParam},t.prototype.finalizeParam=function(){this._terminal.params.push(this._terminal.currentParam),this._terminal.currentParam=0},t.prototype.skipNextChar=function(){this._position++},t}();r.Parser=u},{"./Charsets":4,"./EscapeSequences":6}],11:[function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o,s=t("./utils/MouseHelper"),a=t("./utils/Browser"),l=t("./EventEmitter"),c=t("./SelectionModel"),u=t("./Buffer"),h=String.fromCharCode(160),f=new RegExp(h,"g");!function(t){t[t.NORMAL=0]="NORMAL",t[t.WORD=1]="WORD",t[t.LINE=2]="LINE"}(o||(o={}));var p=function(t){function e(e,r,i){var n=t.call(this)||this;return n._terminal=e,n._buffer=r,n._charMeasure=i,n._enabled=!0,n._initListeners(),n.enable(),n._model=new c.SelectionModel(e),n._activeSelectionMode=o.NORMAL,n}return n(e,t),e.prototype._initListeners=function(){var t=this;this._mouseMoveListener=function(e){return t._onMouseMove(e)},this._mouseUpListener=function(e){return t._onMouseUp(e)},this._buffer.lines.on("trim",function(e){return t._onTrim(e)})},e.prototype.disable=function(){this.clearSelection(),this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.setBuffer=function(t){this._buffer=t,this.clearSelection()},Object.defineProperty(e.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasSelection",{get:function(){var t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;return!(!t||!e)&&(t[0]!==e[0]||t[1]!==e[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionText",{get:function(){var t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;if(!t||!e)return"";var r=t[1]===e[1]?e[0]:null,i=[];i.push(this._buffer.translateBufferLineToString(t[1],!0,t[0],r));for(var n=t[1]+1;n<=e[1]-1;n++){var o=this._buffer.lines.get(n),s=this._buffer.translateBufferLineToString(n,!0);o.isWrapped?i[i.length-1]+=s:i.push(s)}if(t[1]!==e[1]){o=this._buffer.lines.get(e[1]),s=this._buffer.translateBufferLineToString(e[1],!0,0,e[0]);o.isWrapped?i[i.length-1]+=s:i.push(s)}return i.map(function(t){return t.replace(f," ")}).join(a.isMSWindows?"\r\n":"\n")},enumerable:!0,configurable:!0}),e.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh()},e.prototype.refresh=function(t){var e=this;(this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return e._refresh()})),a.isLinux&&t)&&(this.selectionText.length&&this.emit("newselection",this.selectionText))},e.prototype._refresh=function(){this._refreshAnimationFrame=null,this.emit("refresh",{start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd})},e.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._terminal.emit("selection")},e.prototype._onTrim=function(t){this._model.onTrim(t)&&this.refresh()},e.prototype._getMouseBufferCoords=function(t){var e=this._terminal.mouseHelper.getCoords(t,this._terminal.element,this._charMeasure,this._terminal.options.lineHeight,this._terminal.cols,this._terminal.rows,!0);return e?(e[0]--,e[1]--,e[1]+=this._terminal.buffer.ydisp,e):null},e.prototype._getMouseEventScrollAmount=function(t){var e=s.MouseHelper.getCoordsRelativeToElement(t,this._terminal.element)[1],r=this._terminal.rows*Math.ceil(this._charMeasure.height*this._terminal.options.lineHeight);return e>=0&&e<=r?0:(e>r&&(e-=r),e=Math.min(Math.max(e,-50),50),(e/=50)/Math.abs(e)+Math.round(14*e))},e.prototype.shouldForceSelection=function(t){return a.isMac?t.altKey:t.shiftKey},e.prototype.onMouseDown=function(t){if((2!==t.button||!this.hasSelection)&&0===t.button){if(!this._enabled){if(!this.shouldForceSelection(t))return;t.stopPropagation()}t.preventDefault(),this._dragScrollAmount=0,this._enabled&&t.shiftKey?this._onIncrementalClick(t):1===t.detail?this._onSingleClick(t):2===t.detail?this._onDoubleClick(t):3===t.detail&&this._onTripleClick(t),this._addMouseDownListeners(),this.refresh(!0)}},e.prototype._addMouseDownListeners=function(){var t=this;this._terminal.element.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.addEventListener("mouseup",this._mouseUpListener),this._dragScrollIntervalTimer=setInterval(function(){return t._dragScroll()},50)},e.prototype._removeMouseDownListeners=function(){this._terminal.element.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.removeEventListener("mouseup",this._mouseUpListener),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=null},e.prototype._onIncrementalClick=function(t){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(t))},e.prototype._onSingleClick=function(t){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=o.NORMAL,this._model.selectionStart=this._getMouseBufferCoords(t),this._model.selectionStart){this._model.selectionEnd=null;var e=this._buffer.lines.get(this._model.selectionStart[1]);if(e)if(!(e.length>=this._model.selectionStart[0]))0===e[this._model.selectionStart[0]][u.CHAR_DATA_WIDTH_INDEX]&&this._model.selectionStart[0]++}},e.prototype._onDoubleClick=function(t){var e=this._getMouseBufferCoords(t);e&&(this._activeSelectionMode=o.WORD,this._selectWordAt(e))},e.prototype._onTripleClick=function(t){var e=this._getMouseBufferCoords(t);e&&(this._activeSelectionMode=o.LINE,this._selectLineAt(e[1]))},e.prototype._onMouseMove=function(t){t.stopImmediatePropagation();var e=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(t),this._model.selectionEnd){if(this._activeSelectionMode===o.LINE?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._terminal.cols:this._activeSelectionMode===o.WORD&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(t),this._dragScrollAmount>0?this._model.selectionEnd[0]=this._terminal.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]<this._buffer.lines.length){var r=this._buffer.lines.get(this._model.selectionEnd[1])[this._model.selectionEnd[0]];r&&0===r[u.CHAR_DATA_WIDTH_INDEX]&&this._model.selectionEnd[0]++}e&&e[0]===this._model.selectionEnd[0]&&e[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)},e.prototype._dragScroll=function(){this._dragScrollAmount&&(this._terminal.scrollLines(this._dragScrollAmount,!1),this._dragScrollAmount>0?this._model.selectionEnd=[this._terminal.cols-1,this._terminal.buffer.ydisp+this._terminal.rows]:this._model.selectionEnd=[0,this._terminal.buffer.ydisp],this.refresh())},e.prototype._onMouseUp=function(t){this._removeMouseDownListeners(),this.hasSelection&&this._terminal.emit("selection")},e.prototype._convertViewportColToCharacterIndex=function(t,e){for(var r=e[0],i=0;e[0]>=i;i++){var n=t[i];0===n[u.CHAR_DATA_WIDTH_INDEX]?r--:n[u.CHAR_DATA_CHAR_INDEX].length>1&&e[0]!==i&&(r+=n[u.CHAR_DATA_CHAR_INDEX].length-1)}return r},e.prototype.setSelection=function(t,e,r){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[t,e],this._model.selectionStartLength=r,this.refresh()},e.prototype._getWordAt=function(t){var e=this._buffer.lines.get(t[1]);if(!e)return null;var r=this._buffer.translateBufferLineToString(t[1],!1),i=this._convertViewportColToCharacterIndex(e,t),n=i,o=t[0]-i,s=0,a=0,l=0,c=0;if(" "===r.charAt(i)){for(;i>0&&" "===r.charAt(i-1);)i--;for(;n<r.length&&" "===r.charAt(n+1);)n++}else{var h=t[0],f=t[0];for(0===e[h][u.CHAR_DATA_WIDTH_INDEX]&&(s++,h--),2===e[f][u.CHAR_DATA_WIDTH_INDEX]&&(a++,f++),e[f][u.CHAR_DATA_CHAR_INDEX].length>1&&(c+=e[f][u.CHAR_DATA_CHAR_INDEX].length-1,n+=e[f][u.CHAR_DATA_CHAR_INDEX].length-1);h>0&&i>0&&!this._isCharWordSeparator(e[h-1]);){0===(p=e[h-1])[u.CHAR_DATA_WIDTH_INDEX]?(s++,h--):p[u.CHAR_DATA_CHAR_INDEX].length>1&&(l+=p[u.CHAR_DATA_CHAR_INDEX].length-1,i-=p[u.CHAR_DATA_CHAR_INDEX].length-1),i--,h--}for(;f<e.length&&n+1<r.length&&!this._isCharWordSeparator(e[f+1]);){var p;2===(p=e[f+1])[u.CHAR_DATA_WIDTH_INDEX]?(a++,f++):p[u.CHAR_DATA_CHAR_INDEX].length>1&&(c+=p[u.CHAR_DATA_CHAR_INDEX].length-1,n+=p[u.CHAR_DATA_CHAR_INDEX].length-1),n++,f++}}return n++,{start:i+o-s+l,length:Math.min(this._terminal.cols,n-i+s+a-l-c)}},e.prototype._selectWordAt=function(t){var e=this._getWordAt(t);e&&(this._model.selectionStart=[e.start,t[1]],this._model.selectionStartLength=e.length)},e.prototype._selectToWordAt=function(t){var e=this._getWordAt(t);e&&(this._model.selectionEnd=[this._model.areSelectionValuesReversed()?e.start:e.start+e.length,t[1]])},e.prototype._isCharWordSeparator=function(t){return 0!==t[u.CHAR_DATA_WIDTH_INDEX]&&" ()[]{}'\"".indexOf(t[u.CHAR_DATA_CHAR_INDEX])>=0},e.prototype._selectLineAt=function(t){this._model.selectionStart=[0,t],this._model.selectionStartLength=this._terminal.cols},e}(l.EventEmitter);r.SelectionManager=p},{"./Buffer":1,"./EventEmitter":7,"./SelectionModel":12,"./utils/Browser":28,"./utils/MouseHelper":32}],12:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t){this._terminal=t,this.clearSelection()}return t.prototype.clearSelection=function(){this.selectionStart=null,this.selectionEnd=null,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(t.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"finalSelectionEnd",{get:function(){return this.isSelectAllActive?[this._terminal.cols,this._terminal.buffer.ybase+this._terminal.rows-1]:this.selectionStart?!this.selectionEnd||this.areSelectionValuesReversed()?[this.selectionStart[0]+this.selectionStartLength,this.selectionStart[1]]:this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd:null},enumerable:!0,configurable:!0}),t.prototype.areSelectionValuesReversed=function(){var t=this.selectionStart,e=this.selectionEnd;return!(!t||!e)&&(t[1]>e[1]||t[1]===e[1]&&t[0]>e[0])},t.prototype.onTrim=function(t){return this.selectionStart&&(this.selectionStart[1]-=t),this.selectionEnd&&(this.selectionEnd[1]-=t),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},t}();r.SelectionModel=i},{}],13:[function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./BufferSet"),s=t("./Buffer"),a=t("./CompositionHelper"),l=t("./EventEmitter"),c=t("./Viewport"),u=t("./handlers/Clipboard"),h=t("./EscapeSequences"),f=t("./InputHandler"),p=t("./Parser"),d=t("./renderer/Renderer"),m=t("./Linkifier"),v=t("./SelectionManager"),_=t("./utils/CharMeasure"),g=t("./utils/Browser"),y=t("./utils/MouseHelper"),b=t("./utils/Sounds"),C=t("./renderer/ColorManager"),w=t("./input/MouseZoneManager"),x=t("./renderer/CharAtlas"),S="undefined"!=typeof window?window.document:null,A={cols:80,rows:24,convertEol:!1,termName:"xterm",cursorBlink:!1,cursorStyle:"block",bellSound:b.BellSound,bellStyle:"none",enableBold:!0,fontFamily:"courier-new, courier, monospace",fontSize:15,lineHeight:1,letterSpacing:0,scrollback:1e3,screenKeys:!1,debug:!1,cancelEvents:!1,disableStdin:!1,useFlowControl:!1,tabStopWidth:8,theme:null},k=function(t){function e(e){void 0===e&&(e={});var r=t.call(this)||this;return r.browser=g,r.options=e,r.setup(),r}return n(e,t),e.prototype.setup=function(){var t=this;Object.keys(A).forEach(function(e){null==t.options[e]&&(t.options[e]=A[e]),t[e]=t.options[e]}),this.parent=S?S.body:null,this.cols=this.options.cols,this.rows=this.options.rows,this.options.handler&&this.on("data",this.options.handler),this.cursorState=0,this.cursorHidden=!1,this.sendDataQueue="",this.customKeyEventHandler=null,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!0,this.bracketedPasteMode=!1,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.readable=!0,this.writable=!0,this.defAttr=131840,this.curAttr=131840,this.params=[],this.currentParam=0,this.prefix="",this.postfix="",this.writeBuffer=[],this.writeInProgress=!1,this.xoffSentToCatchUp=!1,this.writeStopped=!1,this.surrogate_high="",this.userScrolling=!1,this.inputHandler=new f.InputHandler(this),this.parser=new p.Parser(this.inputHandler,this),this.renderer=this.renderer||null,this.selectionManager=this.selectionManager||null,this.linkifier=this.linkifier||new m.Linkifier(this),this._mouseZoneManager=this._mouseZoneManager||null,this.buffers=new o.BufferSet(this),this.buffer=this.buffers.active,this.buffers.on("activate",function(e){t.buffer=e}),this.selectionManager&&this.selectionManager.setBuffer(this.buffer)},e.prototype.eraseAttr=function(){return-512&this.defAttr|511&this.curAttr},e.prototype.focus=function(){this.textarea&&this.textarea.focus()},Object.defineProperty(e.prototype,"isFocused",{get:function(){return S.activeElement===this.textarea},enumerable:!0,configurable:!0}),e.prototype.getOption=function(t){if(!(t in A))throw new Error('No option with key "'+t+'"');return void 0!==this.options[t]?this.options[t]:this[t]},e.prototype.setOption=function(t,e){if(!(t in A))throw new Error('No option with key "'+t+'"');switch(t){case"bellStyle":e||(e="none");break;case"cursorStyle":e||(e="block");break;case"lineHeight":if(e<1)return void console.warn(t+" cannot be less than 1, value: "+e);case"tabStopWidth":if(e<1)return void console.warn(t+" cannot be less than 1, value: "+e);break;case"theme":if(this.renderer)return void this._setTheme(e);break;case"scrollback":if((e=Math.min(e,s.MAX_BUFFER_SIZE))<0)return void console.warn(t+" cannot be less than 0, value: "+e);if(this.options[t]!==e){var r=this.rows+e;if(this.buffer.lines.length>r){var i=this.buffer.lines.length-r,n=this.buffer.ydisp-i<0;this.buffer.lines.trimStart(i),this.buffer.ybase=Math.max(this.buffer.ybase-i,0),this.buffer.ydisp=Math.max(this.buffer.ydisp-i,0),n&&this.refresh(0,this.rows-1)}}}switch(this[t]=e,this.options[t]=e,t){case"fontFamily":case"fontSize":this.renderer.clear(),this.charMeasure.measure(this.options);break;case"enableBold":case"letterSpacing":case"lineHeight":this.renderer.clear(),this.renderer.onResize(this.cols,this.rows,!1),this.refresh(0,this.rows-1);case"scrollback":this.buffers.resize(this.cols,this.rows),this.viewport.syncScrollArea();break;case"tabStopWidth":this.buffers.setupTabStops();break;case"bellSound":case"bellStyle":this.syncBellSound()}this.renderer&&this.renderer.onOptionsChanged()},e.prototype._onTextAreaFocus=function(){this.sendFocus&&this.send(h.C0.ESC+"[I"),this.element.classList.add("focus"),this.showCursor(),this.emit("focus")},e.prototype.blur=function(){return this.textarea.blur()},e.prototype._onTextAreaBlur=function(){this.refresh(this.buffer.y,this.buffer.y),this.sendFocus&&this.send(h.C0.ESC+"[O"),this.element.classList.remove("focus"),this.emit("blur")},e.prototype.initGlobal=function(){var t=this;this.bindKeys(),E(this.element,"copy",function(e){t.hasSelection()&&u.copyHandler(e,t,t.selectionManager)});var e=function(e){return u.pasteHandler(e,t)};E(this.textarea,"paste",e),E(this.element,"paste",e),g.isFirefox?E(this.element,"mousedown",function(e){2===e.button&&u.rightClickHandler(e,t.textarea,t.selectionManager)}):E(this.element,"contextmenu",function(e){u.rightClickHandler(e,t.textarea,t.selectionManager)}),g.isLinux&&E(this.element,"auxclick",function(e){1===e.button&&u.moveTextAreaUnderMouseCursor(e,t.textarea)})},e.prototype.bindKeys=function(){var t=this,e=this;E(this.element,"keydown",function(t){S.activeElement===this&&e._keyDown(t)},!0),E(this.element,"keypress",function(t){S.activeElement===this&&e._keyPress(t)},!0),E(this.element,"keyup",function(e){(function(t){return 16===t.keyCode||17===t.keyCode||18===t.keyCode})(e)||t.focus()},!0),E(this.textarea,"keydown",function(e){t._keyDown(e)},!0),E(this.textarea,"keypress",function(e){t._keyPress(e),t.textarea.value=""},!0),E(this.textarea,"compositionstart",function(){return t.compositionHelper.compositionstart()}),E(this.textarea,"compositionupdate",function(e){return t.compositionHelper.compositionupdate(e)}),E(this.textarea,"compositionend",function(){return t.compositionHelper.compositionend()}),this.on("refresh",function(){return t.compositionHelper.updateCompositionElements()}),this.on("refresh",function(e){return t.queueLinkification(e.start,e.end)})},e.prototype.open=function(t){var e=this;if(this.parent=t||this.parent,!this.parent)throw new Error("Terminal requires a parent element.");this.context=this.parent.ownerDocument.defaultView,this.document=this.parent.ownerDocument,this.body=this.document.body,x.initialize(this.document),this.element=this.document.createElement("div"),this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),this.parent.appendChild(this.element);var r=S.createDocumentFragment();this.viewportElement=S.createElement("div"),this.viewportElement.classList.add("xterm-viewport"),r.appendChild(this.viewportElement),this.viewportScrollArea=S.createElement("div"),this.viewportScrollArea.classList.add("xterm-scroll-area"),this.viewportElement.appendChild(this.viewportScrollArea),this._mouseZoneManager=new w.MouseZoneManager(this),this.on("scroll",function(){return e._mouseZoneManager.clearAll()}),this.linkifier.attachToDom(this._mouseZoneManager),this.helperContainer=S.createElement("div"),this.helperContainer.classList.add("xterm-helpers"),r.appendChild(this.helperContainer),this.textarea=S.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.textarea.addEventListener("focus",function(){return e._onTextAreaFocus()}),this.textarea.addEventListener("blur",function(){return e._onTextAreaBlur()}),this.helperContainer.appendChild(this.textarea),this.compositionView=S.createElement("div"),this.compositionView.classList.add("composition-view"),this.compositionHelper=new a.CompositionHelper(this.textarea,this.compositionView,this),this.helperContainer.appendChild(this.compositionView),this.charSizeStyleElement=S.createElement("style"),this.helperContainer.appendChild(this.charSizeStyleElement),this.charMeasure=new _.CharMeasure(S,this.helperContainer),this.syncBellSound(),this.element.appendChild(r),this.renderer=new d.Renderer(this,this.options.theme),this.options.theme=null,this.viewport=new c.Viewport(this,this.viewportElement,this.viewportScrollArea,this.charMeasure),this.viewport.onThemeChanged(this.renderer.colorManager.colors),this.on("cursormove",function(){return e.renderer.onCursorMove()}),this.on("resize",function(){return e.renderer.onResize(e.cols,e.rows,!1)}),this.on("blur",function(){return e.renderer.onBlur()}),this.on("focus",function(){return e.renderer.onFocus()}),window.addEventListener("resize",function(){return e.renderer.onWindowResize(window.devicePixelRatio)}),this.charMeasure.on("charsizechanged",function(){return e.renderer.onResize(e.cols,e.rows,!0)}),this.renderer.on("resize",function(t){return e.viewport.syncScrollArea()}),this.selectionManager=new v.SelectionManager(this,this.buffer,this.charMeasure),this.element.addEventListener("mousedown",function(t){return e.selectionManager.onMouseDown(t)}),this.selectionManager.on("refresh",function(t){return e.renderer.onSelectionChanged(t.start,t.end)}),this.selectionManager.on("newselection",function(t){e.textarea.value=t,e.textarea.focus(),e.textarea.select()}),this.on("scroll",function(){e.viewport.syncScrollArea(),e.selectionManager.refresh()}),this.viewportElement.addEventListener("scroll",function(){return e.selectionManager.refresh()}),this.mouseHelper=new y.MouseHelper(this.renderer),this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this.initGlobal(),this.bindMouse()},e.prototype._setTheme=function(t){var e=this.renderer.setTheme(t);this.viewport&&this.viewport.onThemeChanged(e)},e.applyAddon=function(t){t.apply(e)},e.prototype.bindMouse=function(){var t=this,e=this.element,r=this,i=32;function n(t){var e,n;if(e=function(t){var e,i,n,o,s;switch(t.overrideType||t.type){case"mousedown":e=null!=t.button?+t.button:null!=t.which?t.which-1:null,g.isMSIE&&(e=1===e?0:4===e?1:e);break;case"mouseup":e=3;break;case"DOMMouseScroll":e=t.detail<0?64:65;break;case"wheel":e=t.wheelDeltaY>0?64:65}i=t.shiftKey?4:0,n=t.metaKey?8:0,o=t.ctrlKey?16:0,s=i|n|o,r.vt200Mouse?s&=o:r.normalMouse||(s=0);return e=32+(s<<2)+e}(t),n=r.mouseHelper.getRawByteCoords(t,r.element,r.charMeasure,r.options.lineHeight,r.cols,r.rows))switch(a(e,n),t.overrideType||t.type){case"mousedown":i=e;break;case"mouseup":i=32}}function o(t){var e=i,n=r.mouseHelper.getRawByteCoords(t,r.element,r.charMeasure,r.options.lineHeight,r.cols,r.rows);n&&a(e+=32,n)}function s(t,e){if(r.utfMouse){if(2047===e)return void t.push(0);e<127?t.push(e):(e>2047&&(e=2047),t.push(192|e>>6),t.push(128|63&e))}else{if(255===e)return void t.push(0);e>127&&(e=127),t.push(e)}}function a(t,e){if(r.vt300Mouse){t&=3,e.x-=32,e.y-=32;var i=h.C0.ESC+"[24";if(0===t)i+="1";else if(1===t)i+="3";else if(2===t)i+="5";else{if(3===t)return;i+="0"}return i+="~["+e.x+","+e.y+"]\r",void r.send(i)}if(r.decLocator)return t&=3,e.x-=32,e.y-=32,0===t?t=2:1===t?t=4:2===t?t=6:3===t&&(t=3),void r.send(h.C0.ESC+"["+t+";"+(3===t?4:0)+";"+e.y+";"+e.x+";"+e.page||"0&w");if(r.urxvtMouse)return e.x-=32,e.y-=32,e.x++,e.y++,void r.send(h.C0.ESC+"["+t+";"+e.x+";"+e.y+"M");if(r.sgrMouse)return e.x-=32,e.y-=32,void r.send(h.C0.ESC+"[<"+((3==(3&t)?-4&t:t)-32)+";"+e.x+";"+e.y+(3==(3&t)?"m":"M"));var n=[];s(n,t),s(n,e.x),s(n,e.y),r.send(h.C0.ESC+"[M"+String.fromCharCode.apply(String,n))}E(e,"mousedown",function(e){if(e.preventDefault(),t.focus(),t.mouseEvents&&!t.selectionManager.shouldForceSelection(e)){if(n(e),t.vt200Mouse)return e.overrideType="mouseup",n(e),t.cancel(e);if(t.normalMouse&&E(t.document,"mousemove",o),!t.x10Mouse){var r=function(e){return n(e),t.normalMouse&&L(t.document,"mousemove",o),L(t.document,"mouseup",r),t.cancel(e)};E(t.document,"mouseup",r)}return t.cancel(e)}}),E(e,"wheel",function(e){t.mouseEvents&&(t.x10Mouse||t.vt300Mouse||t.decLocator||(n(e),e.preventDefault()))}),E(e,"wheel",function(e){if(!t.mouseEvents)return t.viewport.onWheel(e),t.cancel(e)}),E(e,"touchstart",function(e){if(!t.mouseEvents)return t.viewport.onTouchStart(e),t.cancel(e)}),E(e,"touchmove",function(e){if(!t.mouseEvents)return t.viewport.onTouchMove(e),t.cancel(e)})},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.readable=!1,this.writable=!1,this.handler=function(){},this.write=function(){},this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},e.prototype.refresh=function(t,e){this.renderer&&this.renderer.queueRefresh(t,e)},e.prototype.queueLinkification=function(t,e){this.linkifier&&this.linkifier.linkifyRows(t,e)},e.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.buffer.y,this.buffer.y))},e.prototype.scroll=function(t){var e=this.blankLine(void 0,t),r=this.buffer.ybase+this.buffer.scrollTop,i=this.buffer.ybase+this.buffer.scrollBottom;if(0===this.buffer.scrollTop){var n=this.buffer.lines.length===this.buffer.lines.maxLength;i===this.buffer.lines.length-1?this.buffer.lines.push(e):this.buffer.lines.splice(i+1,0,e),n?this.userScrolling&&(this.buffer.ydisp=Math.max(this.buffer.ydisp-1,0)):(this.buffer.ybase++,this.userScrolling||this.buffer.ydisp++)}else{var o=i-r+1;this.buffer.lines.shiftElements(r+1,o-1,-1),this.buffer.lines.set(i,e)}this.userScrolling||(this.buffer.ydisp=this.buffer.ybase),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom),this.emit("scroll",this.buffer.ydisp)},e.prototype.scrollLines=function(t,e){if(t<0){if(0===this.buffer.ydisp)return;this.userScrolling=!0}else t+this.buffer.ydisp>=this.buffer.ybase&&(this.userScrolling=!1);var r=this.buffer.ydisp;this.buffer.ydisp=Math.max(Math.min(this.buffer.ydisp+t,this.buffer.ybase),0),r!==this.buffer.ydisp&&(e||this.emit("scroll",this.buffer.ydisp),this.refresh(0,this.rows-1))},e.prototype.scrollPages=function(t){this.scrollLines(t*(this.rows-1))},e.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},e.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},e.prototype.write=function(t){var e=this;this.writeBuffer.push(t),this.options.useFlowControl&&!this.xoffSentToCatchUp&&this.writeBuffer.length>=5&&(this.send(h.C0.DC3),this.xoffSentToCatchUp=!0),!this.writeInProgress&&this.writeBuffer.length>0&&(this.writeInProgress=!0,setTimeout(function(){e.innerWrite()}))},e.prototype.innerWrite=function(){for(var t=this,e=this.writeBuffer.splice(0,300);e.length>0;){var r=e.shift();this.xoffSentToCatchUp&&0===e.length&&0===this.writeBuffer.length&&(this.send(h.C0.DC1),this.xoffSentToCatchUp=!1),this.refreshStart=this.buffer.y,this.refreshEnd=this.buffer.y;var i=this.parser.parse(r);this.parser.setState(i),this.updateRange(this.buffer.y),this.refresh(this.refreshStart,this.refreshEnd)}this.writeBuffer.length>0?setTimeout(function(){return t.innerWrite()},0):this.writeInProgress=!1},e.prototype.writeln=function(t){this.write(t+"\r\n")},e.prototype.attachCustomKeyEventHandler=function(t){this.customKeyEventHandler=t},e.prototype.setHypertextLinkHandler=function(t){if(!this.linkifier)throw new Error("Cannot attach a hypertext link handler before Terminal.open is called");this.linkifier.setHypertextLinkHandler(t),this.refresh(0,this.rows-1)},e.prototype.setHypertextValidationCallback=function(t){if(!this.linkifier)throw new Error("Cannot attach a hypertext validation callback before Terminal.open is called");this.linkifier.setHypertextValidationCallback(t),this.refresh(0,this.rows-1)},e.prototype.registerLinkMatcher=function(t,e,r){if(this.linkifier){var i=this.linkifier.registerLinkMatcher(t,e,r);return this.refresh(0,this.rows-1),i}return 0},e.prototype.deregisterLinkMatcher=function(t){this.linkifier&&this.linkifier.deregisterLinkMatcher(t)&&this.refresh(0,this.rows-1)},e.prototype.hasSelection=function(){return!!this.selectionManager&&this.selectionManager.hasSelection},e.prototype.getSelection=function(){return this.selectionManager?this.selectionManager.selectionText:""},e.prototype.clearSelection=function(){this.selectionManager&&this.selectionManager.clearSelection()},e.prototype.selectAll=function(){this.selectionManager&&this.selectionManager.selectAll()},e.prototype._keyDown=function(t){if(this.customKeyEventHandler&&!1===this.customKeyEventHandler(t))return!1;if(!this.compositionHelper.keydown(t))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var e=this._evaluateKeyEscapeSequence(t);return e.key===h.C0.DC3?this.writeStopped=!0:e.key===h.C0.DC1&&(this.writeStopped=!1),e.scrollLines?(this.scrollLines(e.scrollLines),this.cancel(t,!0)):!!T(this.browser,t)||(e.cancel&&this.cancel(t,!0),!e.key||(this.emit("keydown",t),this.emit("key",e.key,t),this.showCursor(),this.handler(e.key),this.cancel(t,!0)))},e.prototype._evaluateKeyEscapeSequence=function(t){var e={cancel:!1,key:void 0,scrollLines:void 0},r=(t.shiftKey?1:0)|(t.altKey?2:0)|(t.ctrlKey?4:0)|(t.metaKey?8:0);switch(t.keyCode){case 0:"UIKeyInputUpArrow"===t.key?this.applicationCursor?e.key=h.C0.ESC+"OA":e.key=h.C0.ESC+"[A":"UIKeyInputLeftArrow"===t.key?this.applicationCursor?e.key=h.C0.ESC+"OD":e.key=h.C0.ESC+"[D":"UIKeyInputRightArrow"===t.key?this.applicationCursor?e.key=h.C0.ESC+"OC":e.key=h.C0.ESC+"[C":"UIKeyInputDownArrow"===t.key&&(this.applicationCursor?e.key=h.C0.ESC+"OB":e.key=h.C0.ESC+"[B");break;case 8:if(t.shiftKey){e.key=h.C0.BS;break}e.key=h.C0.DEL;break;case 9:if(t.shiftKey){e.key=h.C0.ESC+"[Z";break}e.key=h.C0.HT,e.cancel=!0;break;case 13:e.key=h.C0.CR,e.cancel=!0;break;case 27:e.key=h.C0.ESC,e.cancel=!0;break;case 37:r?(e.key=h.C0.ESC+"[1;"+(r+1)+"D",e.key===h.C0.ESC+"[1;3D"&&(e.key=this.browser.isMac?h.C0.ESC+"b":h.C0.ESC+"[1;5D")):this.applicationCursor?e.key=h.C0.ESC+"OD":e.key=h.C0.ESC+"[D";break;case 39:r?(e.key=h.C0.ESC+"[1;"+(r+1)+"C",e.key===h.C0.ESC+"[1;3C"&&(e.key=this.browser.isMac?h.C0.ESC+"f":h.C0.ESC+"[1;5C")):this.applicationCursor?e.key=h.C0.ESC+"OC":e.key=h.C0.ESC+"[C";break;case 38:r?(e.key=h.C0.ESC+"[1;"+(r+1)+"A",e.key===h.C0.ESC+"[1;3A"&&(e.key=h.C0.ESC+"[1;5A")):this.applicationCursor?e.key=h.C0.ESC+"OA":e.key=h.C0.ESC+"[A";break;case 40:r?(e.key=h.C0.ESC+"[1;"+(r+1)+"B",e.key===h.C0.ESC+"[1;3B"&&(e.key=h.C0.ESC+"[1;5B")):this.applicationCursor?e.key=h.C0.ESC+"OB":e.key=h.C0.ESC+"[B";break;case 45:t.shiftKey||t.ctrlKey||(e.key=h.C0.ESC+"[2~");break;case 46:e.key=r?h.C0.ESC+"[3;"+(r+1)+"~":h.C0.ESC+"[3~";break;case 36:r?e.key=h.C0.ESC+"[1;"+(r+1)+"H":this.applicationCursor?e.key=h.C0.ESC+"OH":e.key=h.C0.ESC+"[H";break;case 35:r?e.key=h.C0.ESC+"[1;"+(r+1)+"F":this.applicationCursor?e.key=h.C0.ESC+"OF":e.key=h.C0.ESC+"[F";break;case 33:t.shiftKey?e.scrollLines=-(this.rows-1):e.key=h.C0.ESC+"[5~";break;case 34:t.shiftKey?e.scrollLines=this.rows-1:e.key=h.C0.ESC+"[6~";break;case 112:e.key=r?h.C0.ESC+"[1;"+(r+1)+"P":h.C0.ESC+"OP";break;case 113:e.key=r?h.C0.ESC+"[1;"+(r+1)+"Q":h.C0.ESC+"OQ";break;case 114:e.key=r?h.C0.ESC+"[1;"+(r+1)+"R":h.C0.ESC+"OR";break;case 115:e.key=r?h.C0.ESC+"[1;"+(r+1)+"S":h.C0.ESC+"OS";break;case 116:e.key=r?h.C0.ESC+"[15;"+(r+1)+"~":h.C0.ESC+"[15~";break;case 117:e.key=r?h.C0.ESC+"[17;"+(r+1)+"~":h.C0.ESC+"[17~";break;case 118:e.key=r?h.C0.ESC+"[18;"+(r+1)+"~":h.C0.ESC+"[18~";break;case 119:e.key=r?h.C0.ESC+"[19;"+(r+1)+"~":h.C0.ESC+"[19~";break;case 120:e.key=r?h.C0.ESC+"[20;"+(r+1)+"~":h.C0.ESC+"[20~";break;case 121:e.key=r?h.C0.ESC+"[21;"+(r+1)+"~":h.C0.ESC+"[21~";break;case 122:e.key=r?h.C0.ESC+"[23;"+(r+1)+"~":h.C0.ESC+"[23~";break;case 123:e.key=r?h.C0.ESC+"[24;"+(r+1)+"~":h.C0.ESC+"[24~";break;default:!t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?this.browser.isMac||!t.altKey||t.ctrlKey||t.metaKey?this.browser.isMac&&!t.altKey&&!t.ctrlKey&&t.metaKey&&65===t.keyCode&&this.selectAll():t.keyCode>=65&&t.keyCode<=90?e.key=h.C0.ESC+String.fromCharCode(t.keyCode+32):192===t.keyCode?e.key=h.C0.ESC+"`":t.keyCode>=48&&t.keyCode<=57&&(e.key=h.C0.ESC+(t.keyCode-48)):t.keyCode>=65&&t.keyCode<=90?e.key=String.fromCharCode(t.keyCode-64):32===t.keyCode?e.key=String.fromCharCode(0):t.keyCode>=51&&t.keyCode<=55?e.key=String.fromCharCode(t.keyCode-51+27):56===t.keyCode?e.key=String.fromCharCode(127):219===t.keyCode?e.key=String.fromCharCode(27):220===t.keyCode?e.key=String.fromCharCode(28):221===t.keyCode&&(e.key=String.fromCharCode(29))}return e},e.prototype.setgLevel=function(t){this.glevel=t,this.charset=this.charsets[t]},e.prototype.setgCharset=function(t,e){this.charsets[t]=e,this.glevel===t&&(this.charset=e)},e.prototype._keyPress=function(t){var e;if(this.customKeyEventHandler&&!1===this.customKeyEventHandler(t))return!1;if(this.cancel(t),t.charCode)e=t.charCode;else if(null==t.which)e=t.keyCode;else{if(0===t.which||0===t.charCode)return!1;e=t.which}return!(!e||(t.altKey||t.ctrlKey||t.metaKey)&&!T(this.browser,t))&&(e=String.fromCharCode(e),this.emit("keypress",e,t),this.emit("key",e,t),this.showCursor(),this.handler(e),!0)},e.prototype.send=function(t){var e=this;this.sendDataQueue||setTimeout(function(){e.handler(e.sendDataQueue),e.sendDataQueue=""},1),this.sendDataQueue+=t},e.prototype.bell=function(){var t=this;this.emit("bell"),this.soundBell()&&this.bellAudioElement.play(),this.visualBell()&&(this.element.classList.add("visual-bell-active"),clearTimeout(this.visualBellTimer),this.visualBellTimer=window.setTimeout(function(){t.element.classList.remove("visual-bell-active")},200))},e.prototype.log=function(t,e){this.options.debug&&this.context.console&&this.context.console.log&&this.context.console.log(t,e)},e.prototype.error=function(t,e){this.options.debug&&this.context.console&&this.context.console.error&&this.context.console.error(t,e)},e.prototype.resize=function(t,e){isNaN(t)||isNaN(e)||(t!==this.cols||e!==this.rows?(t<1&&(t=1),e<1&&(e=1),this.buffers.resize(t,e),this.cols=t,this.rows=e,this.buffers.setupTabStops(this.cols),this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this.emit("resize",{cols:t,rows:e})):this.charMeasure.width&&this.charMeasure.height||this.charMeasure.measure(this.options))},e.prototype.updateRange=function(t){t<this.refreshStart&&(this.refreshStart=t),t>this.refreshEnd&&(this.refreshEnd=t)},e.prototype.maxRange=function(){this.refreshStart=0,this.refreshEnd=this.rows-1},e.prototype.eraseRight=function(t,e){var r=this.buffer.lines.get(this.buffer.ybase+e);if(r){for(var i=[this.eraseAttr()," ",1,32];t<this.cols;t++)r[t]=i;this.updateRange(e)}},e.prototype.eraseLeft=function(t,e){var r=this.buffer.lines.get(this.buffer.ybase+e);if(r){var i=[this.eraseAttr()," ",1,32];for(t++;t--;)r[t]=i;this.updateRange(e)}},e.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var t=1;t<this.rows;t++)this.buffer.lines.push(this.blankLine());this.refresh(0,this.rows-1),this.emit("scroll",this.buffer.ydisp)}},e.prototype.eraseLine=function(t){this.eraseRight(0,t)},e.prototype.blankLine=function(t,e,r){var i=[t?this.eraseAttr():this.defAttr," ",1,32],n=[];e&&(n.isWrapped=e),r=r||this.cols;for(var o=0;o<r;o++)n[o]=i;return n},e.prototype.ch=function(t){return t?[this.eraseAttr()," ",1,32]:[this.defAttr," ",1,32]},e.prototype.is=function(t){return 0===(this.options.termName+"").indexOf(t)},e.prototype.handler=function(t){this.options.disableStdin||(this.selectionManager&&this.selectionManager.hasSelection&&this.selectionManager.clearSelection(),this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),this.emit("data",t))},e.prototype.handleTitle=function(t){this.emit("title",t)},e.prototype.index=function(){this.buffer.y++,this.buffer.y>this.buffer.scrollBottom&&(this.buffer.y--,this.scroll()),this.buffer.x>=this.cols&&this.buffer.x--},e.prototype.reverseIndex=function(){if(this.buffer.y===this.buffer.scrollTop){var t=this.buffer.scrollBottom-this.buffer.scrollTop;this.buffer.lines.shiftElements(this.buffer.y+this.buffer.ybase,t,1),this.buffer.lines.set(this.buffer.y+this.buffer.ybase,this.blankLine(!0)),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom)}else this.buffer.y--},e.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols;var t=this.customKeyEventHandler,e=this.inputHandler,r=this.buffers;this.setup(),this.customKeyEventHandler=t,this.inputHandler=e,this.buffers=r,this.refresh(0,this.rows-1),this.viewport.syncScrollArea()},e.prototype.tabSet=function(){this.buffer.tabs[this.buffer.x]=!0},e.prototype.cancel=function(t,e){if(this.options.cancelEvents||e)return t.preventDefault(),t.stopPropagation(),!1},e.prototype.matchColor=function(t,e,r){return function(t,e,r){var i=t<<16|e<<8|r;if(null!=R[i])return R[i];for(var n,o,s,a,l,c=1/0,u=-1,h=0;h<M.length;h++){if(n=M[h],o=n[0],s=n[1],a=n[2],0===(l=O(t,e,r,o,s,a))){u=h;break}l<c&&(c=l,u=h)}return R[i]=u}(t,e,r)},e.prototype.visualBell=function(){return"visual"===this.options.bellStyle||"both"===this.options.bellStyle},e.prototype.soundBell=function(){return"sound"===this.options.bellStyle||"both"===this.options.bellStyle},e.prototype.syncBellSound=function(){this.element&&(this.soundBell()&&this.bellAudioElement?this.bellAudioElement.setAttribute("src",this.options.bellSound):this.soundBell()?(this.bellAudioElement=S.createElement("audio"),this.bellAudioElement.setAttribute("preload","auto"),this.bellAudioElement.setAttribute("src",this.options.bellSound),this.helperContainer.appendChild(this.bellAudioElement)):this.bellAudioElement&&this.helperContainer.removeChild(this.bellAudioElement))},e}(l.EventEmitter);r.Terminal=k;var E=function(t,e,r,i){Array.isArray(t)||(t=[t]),t.forEach(function(t){t.addEventListener(e,r,i||!1)})};function L(t,e,r,i){void 0===i&&(i=!1),t.removeEventListener(e,r,i)}function T(t,e){var r=t.isMac&&e.altKey&&!e.ctrlKey&&!e.metaKey||t.isMSWindows&&e.altKey&&e.ctrlKey&&!e.metaKey;return"keypress"===e.type?r:r&&(!e.keyCode||e.keyCode>47)}var M=function(){for(var t,e=C.DEFAULT_ANSI_COLORS.map(function(t){return t=t.substring(1),[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}),r=[0,95,135,175,215,255],i=0;i<216;i++)e.push([r[i/36%6|0],r[i/6%6|0],r[i%6]]);for(i=0;i<24;i++)t=8+10*i,e.push([t,t,t]);return e}(),R={};function O(t,e,r,i,n,o){return Math.pow(30*(t-i),2)+Math.pow(59*(e-n),2)+Math.pow(11*(r-o),2)}},{"./Buffer":1,"./BufferSet":2,"./CompositionHelper":5,"./EscapeSequences":6,"./EventEmitter":7,"./InputHandler":8,"./Linkifier":9,"./Parser":10,"./SelectionManager":11,"./Viewport":15,"./handlers/Clipboard":16,"./input/MouseZoneManager":17,"./renderer/CharAtlas":19,"./renderer/ColorManager":20,"./renderer/Renderer":24,"./utils/Browser":28,"./utils/CharMeasure":29,"./utils/MouseHelper":32,"./utils/Sounds":33}],14:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t){t.HOVER="linkhover",t.TOOLTIP="linktooltip",t.LEAVE="linkleave"}(r.LinkHoverEventTypes||(r.LinkHoverEventTypes={}))},{}],15:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e,r,i){var n=this;this.terminal=t,this.viewportElement=e,this.scrollArea=r,this.charMeasure=i,this.currentRowHeight=0,this.lastRecordedBufferLength=0,this.lastRecordedViewportHeight=0,this.lastRecordedBufferHeight=0,this.viewportElement.addEventListener("scroll",this.onScroll.bind(this)),setTimeout(function(){return n.syncScrollArea()},0)}return t.prototype.onThemeChanged=function(t){this.viewportElement.style.backgroundColor=t.background},t.prototype.refresh=function(){if(this.charMeasure.height>0){this.currentRowHeight=this.terminal.renderer.dimensions.scaledCellHeight/window.devicePixelRatio,this.lastRecordedViewportHeight!==this.terminal.renderer.dimensions.canvasHeight&&(this.lastRecordedViewportHeight=this.terminal.renderer.dimensions.canvasHeight,this.viewportElement.style.height=this.lastRecordedViewportHeight+"px");var t=Math.round(this.currentRowHeight*this.lastRecordedBufferLength);this.lastRecordedBufferHeight!==t&&(this.lastRecordedBufferHeight=t,this.scrollArea.style.height=this.lastRecordedBufferHeight+"px")}},t.prototype.syncScrollArea=function(){this.lastRecordedBufferLength!==this.terminal.buffer.lines.length?(this.lastRecordedBufferLength=this.terminal.buffer.lines.length,this.refresh()):this.lastRecordedViewportHeight!==this.terminal.renderer.dimensions.canvasHeight?this.refresh():this.terminal.renderer.dimensions.scaledCellHeight/window.devicePixelRatio!==this.currentRowHeight&&this.refresh();var t=this.terminal.buffer.ydisp*this.currentRowHeight;this.viewportElement.scrollTop!==t&&(this.viewportElement.scrollTop=t)},t.prototype.onScroll=function(t){var e=Math.round(this.viewportElement.scrollTop/this.currentRowHeight)-this.terminal.buffer.ydisp;this.terminal.scrollLines(e,!0)},t.prototype.onWheel=function(t){if(0!==t.deltaY){var e=1;t.deltaMode===WheelEvent.DOM_DELTA_LINE?e=this.currentRowHeight:t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e=this.currentRowHeight*this.terminal.rows),this.viewportElement.scrollTop+=t.deltaY*e,t.preventDefault()}},t.prototype.onTouchStart=function(t){this.lastTouchY=t.touches[0].pageY},t.prototype.onTouchMove=function(t){var e=this.lastTouchY-t.touches[0].pageY;this.lastTouchY=t.touches[0].pageY,0!==e&&(this.viewportElement.scrollTop+=e,t.preventDefault())},t}();r.Viewport=i},{}],16:[function(t,e,r){"use strict";function i(t,e){return e?t.replace(/\r?\n/g,"\r"):t}function n(t,e){return e?"[200~"+t+"[201~":t}function o(t,e){e.style.position="fixed",e.style.width="20px",e.style.height="20px",e.style.left=t.clientX-10+"px",e.style.top=t.clientY-10+"px",e.style.zIndex="1000",e.focus(),setTimeout(function(){e.style.position=null,e.style.width=null,e.style.height=null,e.style.left=null,e.style.top=null,e.style.zIndex=null},4)}Object.defineProperty(r,"__esModule",{value:!0}),r.prepareTextForTerminal=i,r.bracketTextForPaste=n,r.copyHandler=function(t,e,r){e.browser.isMSIE?window.clipboardData.setData("Text",r.selectionText):t.clipboardData.setData("text/plain",r.selectionText),t.preventDefault()},r.pasteHandler=function(t,e){t.stopPropagation();var r=function(r){r=n(r=i(r,e.browser.isMSWindows),e.bracketedPasteMode),e.handler(r),e.textarea.value="",e.emit("paste",r),e.cancel(t)};e.browser.isMSIE?window.clipboardData&&r(window.clipboardData.getData("Text")):t.clipboardData&&r(t.clipboardData.getData("text/plain"))},r.moveTextAreaUnderMouseCursor=o,r.rightClickHandler=function(t,e,r){o(t,e),e.value=r.selectionText,e.select()}},{}],17:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t){var e=this;this._terminal=t,this._zones=[],this._areZonesActive=!1,this._tooltipTimeout=null,this._currentZone=null,this._lastHoverCoords=[null,null],this._terminal.element.addEventListener("mousedown",function(t){return e._onMouseDown(t)}),this._mouseMoveListener=function(t){return e._onMouseMove(t)},this._clickListener=function(t){return e._onClick(t)}}return t.prototype.add=function(t){this._zones.push(t),1===this._zones.length&&this._activate()},t.prototype.clearAll=function(t,e){if(0!==this._zones.length){e||(t=0,e=this._terminal.rows-1);for(var r=0;r<this._zones.length;r++){var i=this._zones[r];i.y>t&&i.y<=e+1&&(this._currentZone&&this._currentZone===i&&(this._currentZone.leaveCallback(),this._currentZone=null),this._zones.splice(r--,1))}0===this._zones.length&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._terminal.element.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.addEventListener("click",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._terminal.element.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.removeEventListener("click",this._clickListener))},t.prototype._onMouseMove=function(t){this._lastHoverCoords[0]===t.pageX&&this._lastHoverCoords[1]===t.pageY||(this._onHover(t),this._lastHoverCoords=[t.pageX,t.pageY])},t.prototype._onHover=function(t){var e=this,r=this._findZoneEventAt(t);r!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=null,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),r&&(this._currentZone=r,r.hoverCallback&&r.hoverCallback(t),this._tooltipTimeout=setTimeout(function(){return e._onTooltip(t)},500)))},t.prototype._onTooltip=function(t){this._tooltipTimeout=null;var e=this._findZoneEventAt(t);e&&e.tooltipCallback&&e.tooltipCallback(t)},t.prototype._onMouseDown=function(t){this._areZonesActive&&(this._findZoneEventAt(t)&&(t.preventDefault(),t.stopImmediatePropagation()))},t.prototype._onClick=function(t){var e=this._findZoneEventAt(t);e&&(e.clickCallback(t),t.preventDefault(),t.stopImmediatePropagation())},t.prototype._findZoneEventAt=function(t){var e=this._terminal.mouseHelper.getCoords(t,this._terminal.element,this._terminal.charMeasure,this._terminal.options.lineHeight,this._terminal.cols,this._terminal.rows);if(!e)return null;for(var r=0;r<this._zones.length;r++){var i=this._zones[r];if(i.y===e[1]&&i.x1<=e[0]&&i.x2>e[0])return i}return null},t}();r.MouseZoneManager=i;var n=function(){return function(t,e,r,i,n,o,s){this.x1=t,this.x2=e,this.y=r,this.clickCallback=i,this.hoverCallback=n,this.tooltipCallback=o,this.leaveCallback=s}}();r.MouseZone=n},{}],18:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./CharAtlas"),n=t("../Buffer");r.INVERTED_DEFAULT_COLOR=-1;var o=function(){function t(t,e,r,i,n){this._alpha=i,this._colors=n,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._canvas=document.createElement("canvas"),this._canvas.id="xterm-"+e+"-layer",this._canvas.style.zIndex=r.toString(),this._ctx=this._canvas.getContext("2d",{alpha:i}),this._ctx.scale(window.devicePixelRatio,window.devicePixelRatio),i||this.clearAll(),t.appendChild(this._canvas)}return t.prototype.onOptionsChanged=function(t){},t.prototype.onBlur=function(t){},t.prototype.onFocus=function(t){},t.prototype.onCursorMove=function(t){},t.prototype.onGridChanged=function(t,e,r){},t.prototype.onSelectionChanged=function(t,e,r){},t.prototype.onThemeChanged=function(t,e){this._refreshCharAtlas(t,e)},t.prototype._refreshCharAtlas=function(t,e){var r=this;if(!(this._scaledCharWidth<=0&&this._scaledCharHeight<=0)){this._charAtlas=null;var n=i.acquireCharAtlas(t,this._colors,this._scaledCharWidth,this._scaledCharHeight);n instanceof HTMLCanvasElement?this._charAtlas=n:n.then(function(t){return r._charAtlas=t})}},t.prototype.resize=function(t,e,r){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this.clearAll(),r&&this._refreshCharAtlas(t,this._colors)},t.prototype.fillCells=function(t,e,r,i){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight)},t.prototype.fillBottomLineAtCells=function(t,e,r){void 0===r&&(r=1),this._ctx.fillRect(t*this._scaledCellWidth,(e+1)*this._scaledCellHeight-window.devicePixelRatio-1,r*this._scaledCellWidth,window.devicePixelRatio)},t.prototype.fillLeftLineAtCell=function(t,e){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,window.devicePixelRatio,this._scaledCellHeight)},t.prototype.strokeRectAtCell=function(t,e,r,i){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(t*this._scaledCellWidth+window.devicePixelRatio/2,e*this._scaledCellHeight+window.devicePixelRatio/2,r*this._scaledCellWidth-window.devicePixelRatio,i*this._scaledCellHeight-window.devicePixelRatio)},t.prototype.clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},t.prototype.clearCells=function(t,e,r,i){this._alpha?this._ctx.clearRect(t*this._scaledCellWidth,e*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background,this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight))},t.prototype.fillCharTrueColor=function(t,e,r,i){this._ctx.font=t.options.fontSize*window.devicePixelRatio+"px "+t.options.fontFamily,this._ctx.textBaseline="top",this._clipRow(t,i),this._ctx.fillText(e[n.CHAR_DATA_CHAR_INDEX],r*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop)},t.prototype.drawChar=function(t,e,r,n,o,s,a,l,c,u){var h=0;a<256?h=a+2:c&&t.options.enableBold&&(h=1);var f=r<256,p=h>1&&a<16&&(a<8||c),d=a>=256,m=l>=256;if(this._charAtlas&&f&&(p||d)&&m){var v=this._scaledCharWidth+i.CHAR_ATLAS_CELL_SPACING,_=this._scaledCharHeight+i.CHAR_ATLAS_CELL_SPACING;u&&(this._ctx.globalAlpha=.5),c&&!t.options.enableBold&&h>1&&(h-=8),this._ctx.drawImage(this._charAtlas,r*v,h*_,v,this._scaledCharHeight,o*this._scaledCellWidth+this._scaledCharLeft,s*this._scaledCellHeight+this._scaledCharTop,v,this._scaledCharHeight)}else this._drawUncachedChar(t,e,n,a,o,s,c,u)},t.prototype._drawUncachedChar=function(t,e,i,n,o,s,a,l){this._ctx.save(),this._ctx.font=t.options.fontSize*window.devicePixelRatio+"px "+t.options.fontFamily,a&&t.options.enableBold&&(this._ctx.font="bold "+this._ctx.font),this._ctx.textBaseline="top",n===r.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background:this._ctx.fillStyle=n<256?this._colors.ansi[n]:this._colors.foreground,this._clipRow(t,s),l&&(this._ctx.globalAlpha=.5),this._ctx.fillText(e,o*this._scaledCellWidth+this._scaledCharLeft,s*this._scaledCellHeight+this._scaledCharTop),this._ctx.restore()},t.prototype._clipRow=function(t,e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,t.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},t}();r.BaseRenderLayer=o},{"../Buffer":1,"./CharAtlas":19}],19:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../utils/Browser");r.CHAR_ATLAS_CELL_SPACING=1;var n,o=[];function s(t,e){for(var r=0;r<t.colors.ansi.length;r++)if(t.colors.ansi[r]!==e.colors.ansi[r])return!1;return t.fontFamily===e.fontFamily&&t.fontSize===e.fontSize&&t.scaledCharWidth===e.scaledCharWidth&&t.scaledCharHeight===e.scaledCharHeight&&t.colors.foreground===e.colors.foreground&&t.colors.background===e.colors.background}r.acquireCharAtlas=function(t,e,r,i){for(var a=function(t,e,r,i){var n={foreground:i.foreground,background:i.background,cursor:null,cursorAccent:null,selection:null,ansi:i.ansi.slice(0,16)};return{scaledCharWidth:t,scaledCharHeight:e,fontFamily:r.options.fontFamily,fontSize:r.options.fontSize,colors:n}}(r,i,t,e),l=0;l<o.length;l++){var c=(u=o[l]).ownedBy.indexOf(t);if(c>=0){if(s(u.config,a))return u.bitmap;1===u.ownedBy.length?o.splice(l,1):u.ownedBy.splice(c,1);break}}for(l=0;l<o.length;l++){var u;if(s((u=o[l]).config,a))return u.ownedBy.push(t),u.bitmap}var h={bitmap:n.generate(r,i,t.options.fontSize,t.options.fontFamily,e.background,e.foreground,e.ansi),config:a,ownedBy:[t]};return o.push(h),h.bitmap},r.initialize=function(t){n||(n=new a(t))};var a=function(){function t(t){this._document=t,this._canvas=this._document.createElement("canvas"),this._ctx=this._canvas.getContext("2d",{alpha:!1}),this._ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}return t.prototype.generate=function(t,e,n,o,s,a,l){var c=t+r.CHAR_ATLAS_CELL_SPACING,u=e+r.CHAR_ATLAS_CELL_SPACING;this._canvas.width=255*c,this._canvas.height=18*u,this._ctx.fillStyle=s,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height),this._ctx.save(),this._ctx.fillStyle=a,this._ctx.font=n*window.devicePixelRatio+"px "+o,this._ctx.textBaseline="top";for(var h=0;h<256;h++)this._ctx.save(),this._ctx.beginPath(),this._ctx.rect(h*c,0,c,u),this._ctx.clip(),this._ctx.fillText(String.fromCharCode(h),h*c,0),this._ctx.restore();this._ctx.save(),this._ctx.font="bold "+this._ctx.font;for(h=0;h<256;h++)this._ctx.save(),this._ctx.beginPath(),this._ctx.rect(h*c,u,c,u),this._ctx.clip(),this._ctx.fillText(String.fromCharCode(h),h*c,u),this._ctx.restore();this._ctx.restore(),this._ctx.font=n*window.devicePixelRatio+"px "+o;for(var f=0;f<16;f++){8===f&&(this._ctx.font="bold "+this._ctx.font);var p=(f+2)*u;for(h=0;h<256;h++)this._ctx.save(),this._ctx.beginPath(),this._ctx.rect(h*c,p,c,u),this._ctx.clip(),this._ctx.fillStyle=l[f],this._ctx.fillText(String.fromCharCode(h),h*c,p),this._ctx.restore()}if(this._ctx.restore(),!("createImageBitmap"in window)||i.isFirefox){var d=this._canvas;return this._canvas=this._document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._ctx.scale(window.devicePixelRatio,window.devicePixelRatio),d}var m=this._ctx.getImageData(0,0,this._canvas.width,this._canvas.height),v=parseInt(s.substr(1,2),16),_=parseInt(s.substr(3,2),16),g=parseInt(s.substr(5,2),16);this._clearColor(m,v,_,g);var y=window.createImageBitmap(m);return this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),y},t.prototype._clearColor=function(t,e,r,i){for(var n=0;n<t.data.length;n+=4)t.data[n]===e&&t.data[n+1]===r&&t.data[n+2]===i&&(t.data[n+3]=0)},t}()},{"../utils/Browser":28}],20:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i="#ffffff",n="#000000",o="#ffffff",s="#000000",a="rgba(255, 255, 255, 0.3)";function l(t){var e=t.toString(16);return e.length<2?"0"+e:e}r.DEFAULT_ANSI_COLORS=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"];var c=function(){function t(){this.colors={foreground:i,background:n,cursor:o,cursorAccent:s,selection:a,ansi:function(t){for(var e=t.slice(),r=[0,95,135,175,215,255],i=0;i<216;i++){var n=l(r[i/36%6|0]),o=l(r[i/6%6|0]),s=l(r[i%6]);e.push("#"+n+o+s)}for(i=0;i<24;i++){var a=l(8+10*i);e.push("#"+a+a+a)}return e}(r.DEFAULT_ANSI_COLORS)}}return t.prototype.setTheme=function(t){this.colors.foreground=t.foreground||i,this.colors.background=this._validateColor(t.background,n),this.colors.cursor=t.cursor||o,this.colors.cursorAccent=t.cursorAccent||s,this.colors.selection=t.selection||a,this.colors.ansi[0]=t.black||r.DEFAULT_ANSI_COLORS[0],this.colors.ansi[1]=t.red||r.DEFAULT_ANSI_COLORS[1],this.colors.ansi[2]=t.green||r.DEFAULT_ANSI_COLORS[2],this.colors.ansi[3]=t.yellow||r.DEFAULT_ANSI_COLORS[3],this.colors.ansi[4]=t.blue||r.DEFAULT_ANSI_COLORS[4],this.colors.ansi[5]=t.magenta||r.DEFAULT_ANSI_COLORS[5],this.colors.ansi[6]=t.cyan||r.DEFAULT_ANSI_COLORS[6],this.colors.ansi[7]=t.white||r.DEFAULT_ANSI_COLORS[7],this.colors.ansi[8]=t.brightBlack||r.DEFAULT_ANSI_COLORS[8],this.colors.ansi[9]=t.brightRed||r.DEFAULT_ANSI_COLORS[9],this.colors.ansi[10]=t.brightGreen||r.DEFAULT_ANSI_COLORS[10],this.colors.ansi[11]=t.brightYellow||r.DEFAULT_ANSI_COLORS[11],this.colors.ansi[12]=t.brightBlue||r.DEFAULT_ANSI_COLORS[12],this.colors.ansi[13]=t.brightMagenta||r.DEFAULT_ANSI_COLORS[13],this.colors.ansi[14]=t.brightCyan||r.DEFAULT_ANSI_COLORS[14],this.colors.ansi[15]=t.brightWhite||r.DEFAULT_ANSI_COLORS[15]},t.prototype._validateColor=function(t,e){if(!t)return e;if(7===t.length&&"#"===t.charAt(0))return t;if(4===t.length&&"#"===t.charAt(0)){var r=t.charAt(1),i=t.charAt(2),n=t.charAt(3);return"#"+r+r+i+i+n+n}return e},t}();r.ColorManager=c},{}],21:[function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Buffer"),s=function(t){function e(e,r,i){var n=t.call(this,e,"cursor",r,!0,i)||this;return n._state={x:null,y:null,isFocused:null,style:null,width:null},n._cursorRenderers={bar:n._renderBarCursor.bind(n),block:n._renderBlockCursor.bind(n),underline:n._renderUnderlineCursor.bind(n)},n}return n(e,t),e.prototype.resize=function(e,r,i){t.prototype.resize.call(this,e,r,i),this._state={x:null,y:null,isFocused:null,style:null,width:null}},e.prototype.reset=function(t){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null,this.onOptionsChanged(t))},e.prototype.onBlur=function(t){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),t.refresh(t.buffer.y,t.buffer.y)},e.prototype.onFocus=function(t){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume(t):t.refresh(t.buffer.y,t.buffer.y)},e.prototype.onOptionsChanged=function(t){var e=this;t.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new a(t,function(){e._render(t,!0)})):(this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null),t.refresh(t.buffer.y,t.buffer.y))},e.prototype.onCursorMove=function(t){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation(t)},e.prototype.onGridChanged=function(t,e,r){this._cursorBlinkStateManager&&!this._cursorBlinkStateManager.isPaused||this._render(t,!1)},e.prototype._render=function(t,e){if(t.cursorState&&!t.cursorHidden){var r=t.buffer.ybase+t.buffer.y,i=r-t.buffer.ydisp;if(i<0||i>=t.rows)this._clearCursor();else{var n=t.buffer.lines.get(r)[t.buffer.x];if(n){if(!t.isFocused)return this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor,this._renderBlurCursor(t,t.buffer.x,i,n),this._ctx.restore(),this._state.x=t.buffer.x,this._state.y=i,this._state.isFocused=!1,this._state.style=t.options.cursorStyle,void(this._state.width=n[o.CHAR_DATA_WIDTH_INDEX]);if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===t.buffer.x&&this._state.y===i&&this._state.isFocused===t.isFocused&&this._state.style===t.options.cursorStyle&&this._state.width===n[o.CHAR_DATA_WIDTH_INDEX])return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[t.options.cursorStyle||"block"](t,t.buffer.x,i,n),this._ctx.restore(),this._state.x=t.buffer.x,this._state.y=i,this._state.isFocused=!1,this._state.style=t.options.cursorStyle,this._state.width=n[o.CHAR_DATA_WIDTH_INDEX]}else this._clearCursor()}}}else this._clearCursor()},e.prototype._clearCursor=function(){this._state&&(this.clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:null,y:null,isFocused:null,style:null,width:null})},e.prototype._renderBarCursor=function(t,e,r,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor,this.fillLeftLineAtCell(e,r),this._ctx.restore()},e.prototype._renderBlockCursor=function(t,e,r,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor,this.fillCells(e,r,i[o.CHAR_DATA_WIDTH_INDEX],1),this._ctx.fillStyle=this._colors.cursorAccent,this.fillCharTrueColor(t,i,e,r),this._ctx.restore()},e.prototype._renderUnderlineCursor=function(t,e,r,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor,this.fillBottomLineAtCells(e,r),this._ctx.restore()},e.prototype._renderBlurCursor=function(t,e,r,i){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor,this.strokeRectAtCell(e,r,i[o.CHAR_DATA_WIDTH_INDEX],1),this._ctx.restore()},e}(t("./BaseRenderLayer").BaseRenderLayer);r.CursorRenderLayer=s;var a=function(){function t(t,e){this.renderCallback=e,this.isCursorVisible=!0,t.isFocused&&this._restartInterval()}return Object.defineProperty(t.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},t.prototype.restartBlinkAnimation=function(t){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){e.renderCallback(),e._animationFrame=null})))},t.prototype._restartInterval=function(t){var e=this;void 0===t&&(t=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=setTimeout(function(){if(e._animationTimeRestarted){var t=600-(Date.now()-e._animationTimeRestarted);if(e._animationTimeRestarted=null,t>0)return void e._restartInterval(t)}e.isCursorVisible=!1,e._animationFrame=window.requestAnimationFrame(function(){e.renderCallback(),e._animationFrame=null}),e._blinkInterval=setInterval(function(){if(e._animationTimeRestarted){var t=600-(Date.now()-e._animationTimeRestarted);return e._animationTimeRestarted=null,void e._restartInterval(t)}e.isCursorVisible=!e.isCursorVisible,e._animationFrame=window.requestAnimationFrame(function(){e.renderCallback(),e._animationFrame=null})},600)},t)},t.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},t.prototype.resume=function(t){this._animationTimeRestarted=null,this._restartInterval(),this.restartBlinkAnimation(t)},t}()},{"../Buffer":1,"./BaseRenderLayer":18}],22:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(){this.cache=[]}return t.prototype.resize=function(t,e){for(var r=0;r<t;r++){this.cache.length<=r&&this.cache.push([]);for(var i=this.cache[r].length;i<e;i++)this.cache[r].push(null);this.cache[r].length=e}this.cache.length=t},t.prototype.clear=function(){for(var t=0;t<this.cache.length;t++)for(var e=0;e<this.cache[t].length;e++)this.cache[t][e]=null},t}();r.GridCache=i},{}],23:[function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./BaseRenderLayer"),s=t("../Types"),a=function(t){function e(e,r,i,n){var o=t.call(this,e,"link",r,!0,i)||this;return o._state=null,n.linkifier.on(s.LinkHoverEventTypes.HOVER,function(t){return o._onLinkHover(t)}),n.linkifier.on(s.LinkHoverEventTypes.LEAVE,function(t){return o._onLinkLeave(t)}),o}return n(e,t),e.prototype.resize=function(e,r,i){t.prototype.resize.call(this,e,r,i),this._state=null},e.prototype.reset=function(t){this._clearCurrentLink()},e.prototype._clearCurrentLink=function(){this._state&&(this.clearCells(this._state.x,this._state.y,this._state.length,1),this._state=null)},e.prototype._onLinkHover=function(t){this._ctx.fillStyle=this._colors.foreground,this.fillBottomLineAtCells(t.x,t.y,t.length),this._state=t},e.prototype._onLinkLeave=function(t){this._clearCurrentLink()},e}(o.BaseRenderLayer);r.LinkRenderLayer=a},{"../Types":14,"./BaseRenderLayer":18}],24:[function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("./TextRenderLayer"),s=t("./SelectionRenderLayer"),a=t("./CursorRenderLayer"),l=t("./ColorManager"),c=t("./LinkRenderLayer"),u=function(t){function e(e,r){var i=t.call(this)||this;return i._terminal=e,i._refreshRowsQueue=[],i._refreshAnimationFrame=null,i.colorManager=new l.ColorManager,r&&i.colorManager.setTheme(r),i._renderLayers=[new o.TextRenderLayer(i._terminal.element,0,i.colorManager.colors),new s.SelectionRenderLayer(i._terminal.element,1,i.colorManager.colors),new c.LinkRenderLayer(i._terminal.element,2,i.colorManager.colors,i._terminal),new a.CursorRenderLayer(i._terminal.element,3,i.colorManager.colors)],i.dimensions={scaledCharWidth:null,scaledCharHeight:null,scaledCellWidth:null,scaledCellHeight:null,scaledCharLeft:null,scaledCharTop:null,scaledCanvasWidth:null,scaledCanvasHeight:null,canvasWidth:null,canvasHeight:null,actualCellWidth:null,actualCellHeight:null},i._devicePixelRatio=window.devicePixelRatio,i._updateDimensions(),i.onOptionsChanged(),i}return n(e,t),e.prototype.onWindowResize=function(t){this._devicePixelRatio!==t&&(this._devicePixelRatio=t,this.onResize(this._terminal.cols,this._terminal.rows,!0))},e.prototype.setTheme=function(t){var e=this;return this.colorManager.setTheme(t),this._renderLayers.forEach(function(t){t.onThemeChanged(e._terminal,e.colorManager.colors),t.reset(e._terminal)}),this._terminal.refresh(0,this._terminal.rows-1),this.colorManager.colors},e.prototype.onResize=function(t,e,r){var i=this;this._updateDimensions(),this._renderLayers.forEach(function(t){return t.resize(i._terminal,i.dimensions,r)}),this._terminal.refresh(0,this._terminal.rows-1),this.emit("resize",{width:this.dimensions.canvasWidth,height:this.dimensions.canvasHeight})},e.prototype.onCharSizeChanged=function(){this.onResize(this._terminal.cols,this._terminal.rows,!0)},e.prototype.onBlur=function(){var t=this;this._renderLayers.forEach(function(e){return e.onBlur(t._terminal)})},e.prototype.onFocus=function(){var t=this;this._renderLayers.forEach(function(e){return e.onFocus(t._terminal)})},e.prototype.onSelectionChanged=function(t,e){var r=this;this._renderLayers.forEach(function(i){return i.onSelectionChanged(r._terminal,t,e)})},e.prototype.onCursorMove=function(){var t=this;this._renderLayers.forEach(function(e){return e.onCursorMove(t._terminal)})},e.prototype.onOptionsChanged=function(){var t=this;this._renderLayers.forEach(function(e){return e.onOptionsChanged(t._terminal)})},e.prototype.clear=function(){var t=this;this._renderLayers.forEach(function(e){return e.reset(t._terminal)})},e.prototype.queueRefresh=function(t,e){this._refreshRowsQueue.push({start:t,end:e}),this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(this._refreshLoop.bind(this)))},e.prototype._refreshLoop=function(){var t,e,r=this;if(this._refreshRowsQueue.length>4)t=0,e=this._terminal.rows-1;else{t=this._refreshRowsQueue[0].start,e=this._refreshRowsQueue[0].end;for(var i=1;i<this._refreshRowsQueue.length;i++)this._refreshRowsQueue[i].start<t&&(t=this._refreshRowsQueue[i].start),this._refreshRowsQueue[i].end>e&&(e=this._refreshRowsQueue[i].end)}this._refreshRowsQueue=[],this._refreshAnimationFrame=null,t=Math.max(t,0),e=Math.min(e,this._terminal.rows-1),this._renderLayers.forEach(function(i){return i.onGridChanged(r._terminal,t,e)}),this._terminal.emit("refresh",{start:t,end:e})},e.prototype._updateDimensions=function(){this._terminal.charMeasure.width&&this._terminal.charMeasure.height&&(this.dimensions.scaledCharWidth=Math.floor(this._terminal.charMeasure.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._terminal.charMeasure.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._terminal.options.lineHeight),this.dimensions.scaledCharTop=1===this._terminal.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._terminal.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._terminal.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._terminal.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._terminal.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._terminal.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._terminal.cols)},e}(t("../EventEmitter").EventEmitter);r.Renderer=u},{"../EventEmitter":7,"./ColorManager":20,"./CursorRenderLayer":21,"./LinkRenderLayer":23,"./SelectionRenderLayer":25,"./TextRenderLayer":26}],25:[function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(e,r,i){var n=t.call(this,e,"selection",r,!0,i)||this;return n._state={start:null,end:null},n}return n(e,t),e.prototype.resize=function(e,r,i){t.prototype.resize.call(this,e,r,i),this._state={start:null,end:null}},e.prototype.reset=function(t){this._state.start&&this._state.end&&(this._state={start:null,end:null},this.clearAll())},e.prototype.onSelectionChanged=function(t,e,r){if(this._state.start!==e&&this._state.end!==r&&(this.clearAll(),e&&r)){var i=e[1]-t.buffer.ydisp,n=r[1]-t.buffer.ydisp,o=Math.max(i,0),s=Math.min(n,t.rows-1);if(!(o>=t.rows||s<0)){var a=i===o?e[0]:0,l=o===s?r[0]:t.cols;this._ctx.fillStyle=this._colors.selection,this.fillCells(a,o,l-a,1);var c=Math.max(s-o-1,0);if(this.fillCells(0,o+1,t.cols,c),o!==s){var u=n===s?r[0]:t.cols;this.fillCells(0,s,u,1)}this._state.start=[e[0],e[1]],this._state.end=[r[0],r[1]]}}},e}(t("./BaseRenderLayer").BaseRenderLayer);r.SelectionRenderLayer=o},{"./BaseRenderLayer":18}],26:[function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Buffer"),s=t("./Types"),a=t("./GridCache"),l=t("./BaseRenderLayer"),c=function(t){function e(e,r,i){var n=t.call(this,e,"text",r,!1,i)||this;return n._characterOverlapCache={},n._state=new a.GridCache,n}return n(e,t),e.prototype.resize=function(e,r,i){t.prototype.resize.call(this,e,r,i);var n=e.options.fontSize*window.devicePixelRatio+"px "+e.options.fontFamily;this._characterWidth===r.scaledCharWidth&&this._characterFont===n||(this._characterWidth=r.scaledCharWidth,this._characterFont=n,this._characterOverlapCache={}),this._state.clear(),this._state.resize(e.cols,e.rows)},e.prototype.reset=function(t){this._state.clear(),this.clearAll()},e.prototype.onGridChanged=function(t,e,r){if(0!==this._state.cache.length)for(var i=e;i<=r;i++){var n=i+t.buffer.ydisp,a=t.buffer.lines.get(n);this.clearCells(0,i,t.cols,1);for(var c=0;c<t.cols;c++){var u=a[c],h=u[o.CHAR_DATA_CODE_INDEX],f=u[o.CHAR_DATA_CHAR_INDEX],p=u[o.CHAR_DATA_ATTR_INDEX],d=u[o.CHAR_DATA_WIDTH_INDEX];if(0!==d){if(32===h&&c>0){var m=a[c-1];if(this._isOverlapping(m))continue}var v=p>>18,_=511&p,g=_>=256,y=v&s.FLAGS.INVISIBLE,b=v&s.FLAGS.INVERSE;if(h&&(32!==h||!g||b)&&!y){0!==d&&this._isOverlapping(u)&&c<a.length-1&&32===a[c+1][o.CHAR_DATA_CODE_INDEX]&&(d=2);var C=p>>9&511;if(b){var w=_;_=C,256===(C=w)&&(C=l.INVERTED_DEFAULT_COLOR),257===_&&(_=l.INVERTED_DEFAULT_COLOR)}_<256&&(this._ctx.save(),this._ctx.fillStyle=_===l.INVERTED_DEFAULT_COLOR?this._colors.foreground:this._colors.ansi[_],this.fillCells(c,i,d,1),this._ctx.restore()),this._ctx.save(),v&s.FLAGS.BOLD&&(this._ctx.font="bold "+this._ctx.font,C<8&&(C+=8)),v&s.FLAGS.UNDERLINE&&(C===l.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background:this._ctx.fillStyle=C<256?this._colors.ansi[C]:this._colors.foreground,this.fillBottomLineAtCells(c,i)),this.drawChar(t,f,h,d,c,i,C,_,!!(v&s.FLAGS.BOLD),!!(v&s.FLAGS.DIM)),this._ctx.restore()}}}}},e.prototype._isOverlapping=function(t){if(1!==t[o.CHAR_DATA_WIDTH_INDEX])return!1;if(t[o.CHAR_DATA_CODE_INDEX]<256)return!1;var e=t[o.CHAR_DATA_CHAR_INDEX];if(this._characterOverlapCache.hasOwnProperty(e))return this._characterOverlapCache[e];this._ctx.save(),this._ctx.font=this._characterFont;var r=Math.floor(this._ctx.measureText(e).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[e]=r,r},e.prototype._clearChar=function(t,e){var r=1,i=this._state.cache[t][e];i&&2===i[o.CHAR_DATA_WIDTH_INDEX]&&(r=2),this.clearCells(t,e,r,1)},e}(l.BaseRenderLayer);r.TextRenderLayer=c},{"../Buffer":1,"./BaseRenderLayer":18,"./GridCache":22,"./Types":27}],27:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t){t[t.BOLD=1]="BOLD",t[t.UNDERLINE=2]="UNDERLINE",t[t.BLINK=4]="BLINK",t[t.INVERSE=8]="INVERSE",t[t.INVISIBLE=16]="INVISIBLE",t[t.DIM=32]="DIM"}(r.FLAGS||(r.FLAGS={}))},{}],28:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./Generic"),n="undefined"==typeof navigator,o=n?"node":navigator.userAgent,s=n?"node":navigator.platform;r.isFirefox=!!~o.indexOf("Firefox"),r.isMSIE=!!~o.indexOf("MSIE")||!!~o.indexOf("Trident"),r.isMac=i.contains(["Macintosh","MacIntel","MacPPC","Mac68K"],s),r.isIpad="iPad"===s,r.isIphone="iPhone"===s,r.isMSWindows=i.contains(["Windows","Win16","Win32","WinCE"],s),r.isLinux=s.indexOf("Linux")>=0},{"./Generic":31}],29:[function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(e,r){var i=t.call(this)||this;return i._document=e,i._parentElement=r,i._measureElement=i._document.createElement("span"),i._measureElement.style.position="absolute",i._measureElement.style.top="0",i._measureElement.style.left="-9999em",i._measureElement.style.lineHeight="normal",i._measureElement.textContent="W",i._measureElement.setAttribute("aria-hidden","true"),i._parentElement.appendChild(i._measureElement),i}return n(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.measure=function(t){this._measureElement.style.fontFamily=t.fontFamily,this._measureElement.style.fontSize=t.fontSize+"px";var e=this._measureElement.getBoundingClientRect();0!==e.width&&0!==e.height&&(this._width===e.width&&this._height===e.height||(this._width=e.width,this._height=Math.ceil(e.height),this.emit("charsizechanged")))},e}(t("../EventEmitter").EventEmitter);r.CharMeasure=o},{"../EventEmitter":7}],30:[function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(t){function e(e){var r=t.call(this)||this;return r._maxLength=e,r._array=new Array(r._maxLength),r._startIndex=0,r._length=0,r}return n(e,t),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(t){if(this._maxLength!==t){for(var e=new Array(t),r=0;r<Math.min(t,this.length);r++)e[r]=this._array[this._getCyclicIndex(r)];this._array=e,this._maxLength=t,this._startIndex=0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(t){if(t>this._length)for(var e=this._length;e<t;e++)this._array[e]=void 0;this._length=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forEach",{get:function(){var t=this;return function(e){for(var r=t.length,i=0;i<r;i++)e(t.get(i),i)}},enumerable:!0,configurable:!0}),e.prototype.get=function(t){return this._array[this._getCyclicIndex(t)]},e.prototype.set=function(t,e){this._array[this._getCyclicIndex(t)]=e},e.prototype.push=function(t){this._array[this._getCyclicIndex(this._length)]=t,this._length===this._maxLength?(this._startIndex++,this._startIndex===this._maxLength&&(this._startIndex=0),this.emit("trim",1)):this._length++},e.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},e.prototype.splice=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e){for(var n=t;n<this._length-e;n++)this._array[this._getCyclicIndex(n)]=this._array[this._getCyclicIndex(n+e)];this._length-=e}if(r&&r.length){for(n=this._length-1;n>=t;n--)this._array[this._getCyclicIndex(n+r.length)]=this._array[this._getCyclicIndex(n)];for(n=0;n<r.length;n++)this._array[this._getCyclicIndex(t+n)]=r[n];if(this._length+r.length>this.maxLength){var o=this._length+r.length-this.maxLength;this._startIndex+=o,this._length=this.maxLength,this.emit("trim",o)}else this._length+=r.length}},e.prototype.trimStart=function(t){t>this._length&&(t=this._length),this._startIndex+=t,this._length-=t,this.emit("trim",t)},e.prototype.shiftElements=function(t,e,r){if(!(e<=0)){if(t<0||t>=this._length)throw new Error("start argument out of range");if(t+r<0)throw new Error("Cannot shift elements in list beyond index 0");if(r>0){for(var i=e-1;i>=0;i--)this.set(t+i+r,this.get(t+i));var n=t+e+r-this._length;if(n>0)for(this._length+=n;this._length>this.maxLength;)this._length--,this._startIndex++,this.emit("trim",1)}else for(i=0;i<e;i++)this.set(t+i+r,this.get(t+i))}},e.prototype._getCyclicIndex=function(t){return(this._startIndex+t)%this.maxLength},e}(t("../EventEmitter").EventEmitter);r.CircularList=o},{"../EventEmitter":7}],31:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.contains=function(t,e){return t.indexOf(e)>=0}},{}],32:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t){this._renderer=t}return t.getCoordsRelativeToElement=function(t,e){if(null==t.pageX)return null;for(var r=e,i=t.pageX,n=t.pageY;e;)i-=e.offsetLeft,n-=e.offsetTop,e="offsetParent"in e?e.offsetParent:e.parentElement;for(e=r;e&&e!==e.ownerDocument.body;)i+=e.scrollLeft,n+=e.scrollTop,e=e.parentElement;return[i,n]},t.prototype.getCoords=function(e,r,i,n,o,s,a){if(!i.width||!i.height)return null;var l=t.getCoordsRelativeToElement(e,r);return l?(l[0]=Math.ceil((l[0]+(a?this._renderer.dimensions.actualCellWidth/2:0))/this._renderer.dimensions.actualCellWidth),l[1]=Math.ceil(l[1]/this._renderer.dimensions.actualCellHeight),l[0]=Math.min(Math.max(l[0],1),o+(a?1:0)),l[1]=Math.min(Math.max(l[1],1),s),l):null},t.prototype.getRawByteCoords=function(t,e,r,i,n,o){var s=this.getCoords(t,e,r,i,n,o),a=s[0],l=s[1];return{x:a+=32,y:l+=32}},t}();r.MouseHelper=i},{}],33:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BellSound="data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg=="},{}],34:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./Terminal");e.exports=i.Terminal},{"./Terminal":13}]},{},[34])(34)},t.exports=n()},h4aF:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wcwidth=function(t){var e=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],r=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];function i(t,e){var r,i=0,n=e.length-1;if(t<e[0][0]||t>e[n][1])return!1;for(;n>=i;)if(t>e[r=i+n>>1][1])i=r+1;else{if(!(t<e[r][0]))return!0;n=r-1}return!1}var n=0|t.control,o=null;return function(s){if((s|=0)<32)return 0|n;if(s<127)return 1;var a,l=o||function(){var r;o="undefined"==typeof Uint32Array?new Array(4096):new Uint32Array(4096);for(var n=0;n<4096;++n){for(var s=0,a=16;a--;)s=s<<2|(0===(r=16*n+a)?t.nul:r<32||r>=127&&r<160?t.control:i(r,e)?0:function(t){return t>=4352&&(t<=4447||9001===t||9002===t||t>=11904&&t<=42191&&12351!==t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510)}(r)?2:1);o[n]=s}return o}();return s<65536?l[s>>4]>>((15&s)<<1)&3:i(a=s,r)?0:a>=131072&&a<=196605||a>=196608&&a<=262141?2:1}}({nul:0,control:0})},jZ9M:function(t,e,r){"use strict";function i(t,e){return e?t.replace(/\r?\n/g,"\r"):t}function n(t,e){return e?"[200~"+t+"[201~":t}function o(t,e){e.style.position="fixed",e.style.width="20px",e.style.height="20px",e.style.left=t.clientX-10+"px",e.style.top=t.clientY-10+"px",e.style.zIndex="1000",e.focus(),setTimeout(function(){e.style.position=null,e.style.width=null,e.style.height=null,e.style.left=null,e.style.top=null,e.style.zIndex=null},4)}Object.defineProperty(e,"__esModule",{value:!0}),e.prepareTextForTerminal=i,e.bracketTextForPaste=n,e.copyHandler=function(t,e,r){e.browser.isMSIE?window.clipboardData.setData("Text",r.selectionText):t.clipboardData.setData("text/plain",r.selectionText),t.preventDefault()},e.pasteHandler=function(t,e){t.stopPropagation();var r=function(r){r=n(r=i(r,e.browser.isMSWindows),e.bracketedPasteMode),e.handler(r),e.textarea.value="",e.emit("paste",r),e.cancel(t)};e.browser.isMSIE?window.clipboardData&&r(window.clipboardData.getData("Text")):t.clipboardData&&r(t.clipboardData.getData("text/plain"))},e.moveTextAreaUnderMouseCursor=o,e.rightClickHandler=function(t,e,r){o(t,e),e.value=r.selectionText,e.select()}},niQU:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r("v6au"),s=function(t){function e(e){var r=t.call(this)||this;return r._terminal=e,r._normal=new o.Buffer(r._terminal,!0),r._normal.fillViewportRows(),r._alt=new o.Buffer(r._terminal,!1),r._activeBuffer=r._normal,r.setupTabStops(),r}return n(e,t),Object.defineProperty(e.prototype,"alt",{get:function(){return this._alt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal},enumerable:!0,configurable:!0}),e.prototype.activateNormalBuffer=function(){this._alt.clear(),this._activeBuffer=this._normal,this.emit("activate",this._normal)},e.prototype.activateAltBuffer=function(){this._alt.fillViewportRows(),this._activeBuffer=this._alt,this.emit("activate",this._alt)},e.prototype.resize=function(t,e){this._normal.resize(t,e),this._alt.resize(t,e)},e.prototype.setupTabStops=function(t){this._normal.setupTabStops(t),this._alt.setupTabStops(t)},e}(r("AAFk").EventEmitter);e.BufferSet=s},ohWd:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r("M7+9"),s=r("XomM"),a=function(t){function e(e,r,i,n){var o=t.call(this,e,"link",r,!0,i)||this;return o._state=null,n.linkifier.on(s.LinkHoverEventTypes.HOVER,function(t){return o._onLinkHover(t)}),n.linkifier.on(s.LinkHoverEventTypes.LEAVE,function(t){return o._onLinkLeave(t)}),o}return n(e,t),e.prototype.resize=function(e,r,i){t.prototype.resize.call(this,e,r,i),this._state=null},e.prototype.reset=function(t){this._clearCurrentLink()},e.prototype._clearCurrentLink=function(){this._state&&(this.clearCells(this._state.x,this._state.y,this._state.length,1),this._state=null)},e.prototype._onLinkHover=function(t){this._ctx.fillStyle=this._colors.foreground,this.fillBottomLineAtCells(t.x,t.y,t.length),this._state=t},e.prototype._onLinkLeave=function(t){this._clearCurrentLink()},e}(o.BaseRenderLayer);e.LinkRenderLayer=a},uwSJ:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.cache=[]}return t.prototype.resize=function(t,e){for(var r=0;r<t;r++){this.cache.length<=r&&this.cache.push([]);for(var i=this.cache[r].length;i<e;i++)this.cache[r].push(null);this.cache[r].length=e}this.cache.length=t},t.prototype.clear=function(){for(var t=0;t<this.cache.length;t++)for(var e=0;e<this.cache[t].length;e++)this.cache[t][e]=null},t}();e.GridCache=i},v6au:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("vgqN");e.CHAR_DATA_ATTR_INDEX=0,e.CHAR_DATA_CHAR_INDEX=1,e.CHAR_DATA_WIDTH_INDEX=2,e.CHAR_DATA_CODE_INDEX=3,e.MAX_BUFFER_SIZE=4294967295;var n=function(){function t(t,e){this._terminal=t,this._hasScrollback=e,this.clear()}return Object.defineProperty(t.prototype,"lines",{get:function(){return this._lines},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._terminal.rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCursorInViewport",{get:function(){var t=this.ybase+this.y-this.ydisp;return t>=0&&t<this._terminal.rows},enumerable:!0,configurable:!0}),t.prototype._getCorrectBufferLength=function(t){if(!this._hasScrollback)return t;var r=t+this._terminal.options.scrollback;return r>e.MAX_BUFFER_SIZE?e.MAX_BUFFER_SIZE:r},t.prototype.fillViewportRows=function(){if(0===this._lines.length)for(var t=this._terminal.rows;t--;)this.lines.push(this._terminal.blankLine())},t.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this._lines=new i.CircularList(this._getCorrectBufferLength(this._terminal.rows)),this.scrollTop=0,this.scrollBottom=this._terminal.rows-1,this.setupTabStops()},t.prototype.resize=function(t,e){var r=this._getCorrectBufferLength(e);if(r>this._lines.maxLength&&(this._lines.maxLength=r),this._lines.length>0){if(this._terminal.cols<t)for(var i=[this._terminal.defAttr," ",1,32],n=0;n<this._lines.length;n++)for(void 0===this._lines.get(n)&&this._lines.set(n,this._terminal.blankLine(void 0,void 0,t));this._lines.get(n).length<t;)this._lines.get(n).push(i);var o=0;if(this._terminal.rows<e)for(var s=this._terminal.rows;s<e;s++)this._lines.length<e+this.ybase&&(this.ybase>0&&this._lines.length<=this.ybase+this.y+o+1?(this.ybase--,o++,this.ydisp>0&&this.ydisp--):this._lines.push(this._terminal.blankLine(void 0,void 0,t)));else for(s=this._terminal.rows;s>e;s--)this._lines.length>e+this.ybase&&(this._lines.length>this.ybase+this.y+1?this._lines.pop():(this.ybase++,this.ydisp++));if(r<this._lines.maxLength){var a=this._lines.length-r;a>0&&(this._lines.trimStart(a),this.ybase=Math.max(this.ybase-a,0),this.ydisp=Math.max(this.ydisp-a,0)),this._lines.maxLength=r}this.y>=e&&(this.y=e-1),o&&(this.y+=o),this.x>=t&&(this.x=t-1),this.scrollTop=0}this.scrollBottom=e-1},t.prototype.translateBufferLineToString=function(t,r,i,n){void 0===i&&(i=0),void 0===n&&(n=null);var o="",s=this.lines.get(t);if(!s)return"";for(var a=i,l=n=n||s.length,c=0;c<s.length;c++){var u=s[c];o+=u[e.CHAR_DATA_CHAR_INDEX],0===u[e.CHAR_DATA_WIDTH_INDEX]?(i>=c&&a--,n>=c&&l--):u[e.CHAR_DATA_CHAR_INDEX].length>1&&(i>c&&(a+=u[e.CHAR_DATA_CHAR_INDEX].length-1),n>c&&(l+=u[e.CHAR_DATA_CHAR_INDEX].length-1))}if(r){var h=o.search(/\s+$/);if(-1!==h&&(l=Math.min(l,h)),l<=a)return""}return o.substring(a,l)},t.prototype.setupTabStops=function(t){for(null!=t?this.tabs[t]||(t=this.prevStop(t)):(this.tabs={},t=0);t<this._terminal.cols;t+=this._terminal.options.tabStopWidth)this.tabs[t]=!0},t.prototype.prevStop=function(t){for(null==t&&(t=this.x);!this.tabs[--t]&&t>0;);return t>=this._terminal.cols?this._terminal.cols-1:t<0?0:t},t.prototype.nextStop=function(t){for(null==t&&(t=this.x);!this.tabs[++t]&&t<this._terminal.cols;);return t>=this._terminal.cols?this._terminal.cols-1:t<0?0:t},t}();e.Buffer=n},vgqN:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var r=t.call(this)||this;return r._maxLength=e,r._array=new Array(r._maxLength),r._startIndex=0,r._length=0,r}return n(e,t),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(t){if(this._maxLength!==t){for(var e=new Array(t),r=0;r<Math.min(t,this.length);r++)e[r]=this._array[this._getCyclicIndex(r)];this._array=e,this._maxLength=t,this._startIndex=0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(t){if(t>this._length)for(var e=this._length;e<t;e++)this._array[e]=void 0;this._length=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forEach",{get:function(){var t=this;return function(e){for(var r=t.length,i=0;i<r;i++)e(t.get(i),i)}},enumerable:!0,configurable:!0}),e.prototype.get=function(t){return this._array[this._getCyclicIndex(t)]},e.prototype.set=function(t,e){this._array[this._getCyclicIndex(t)]=e},e.prototype.push=function(t){this._array[this._getCyclicIndex(this._length)]=t,this._length===this._maxLength?(this._startIndex++,this._startIndex===this._maxLength&&(this._startIndex=0),this.emit("trim",1)):this._length++},e.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},e.prototype.splice=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e){for(var n=t;n<this._length-e;n++)this._array[this._getCyclicIndex(n)]=this._array[this._getCyclicIndex(n+e)];this._length-=e}if(r&&r.length){for(n=this._length-1;n>=t;n--)this._array[this._getCyclicIndex(n+r.length)]=this._array[this._getCyclicIndex(n)];for(n=0;n<r.length;n++)this._array[this._getCyclicIndex(t+n)]=r[n];if(this._length+r.length>this.maxLength){var o=this._length+r.length-this.maxLength;this._startIndex+=o,this._length=this.maxLength,this.emit("trim",o)}else this._length+=r.length}},e.prototype.trimStart=function(t){t>this._length&&(t=this._length),this._startIndex+=t,this._length-=t,this.emit("trim",t)},e.prototype.shiftElements=function(t,e,r){if(!(e<=0)){if(t<0||t>=this._length)throw new Error("start argument out of range");if(t+r<0)throw new Error("Cannot shift elements in list beyond index 0");if(r>0){for(var i=e-1;i>=0;i--)this.set(t+i+r,this.get(t+i));var n=t+e+r-this._length;if(n>0)for(this._length+=n;this._length>this.maxLength;)this._length--,this._startIndex++,this.emit("trim",1)}else for(i=0;i<e;i++)this.set(t+i+r,this.get(t+i))}},e.prototype._getCyclicIndex=function(t){return(this._startIndex+t)%this.maxLength},e}(r("AAFk").EventEmitter);e.CircularList=o},vpEF:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r("zC9C"),s=r("HkX+"),a=r("3djl"),l=r("I36Z"),c=r("ohWd"),u=function(t){function e(e,r){var i=t.call(this)||this;return i._terminal=e,i._refreshRowsQueue=[],i._refreshAnimationFrame=null,i.colorManager=new l.ColorManager,r&&i.colorManager.setTheme(r),i._renderLayers=[new o.TextRenderLayer(i._terminal.element,0,i.colorManager.colors),new s.SelectionRenderLayer(i._terminal.element,1,i.colorManager.colors),new c.LinkRenderLayer(i._terminal.element,2,i.colorManager.colors,i._terminal),new a.CursorRenderLayer(i._terminal.element,3,i.colorManager.colors)],i.dimensions={scaledCharWidth:null,scaledCharHeight:null,scaledCellWidth:null,scaledCellHeight:null,scaledCharLeft:null,scaledCharTop:null,scaledCanvasWidth:null,scaledCanvasHeight:null,canvasWidth:null,canvasHeight:null,actualCellWidth:null,actualCellHeight:null},i._devicePixelRatio=window.devicePixelRatio,i._updateDimensions(),i.onOptionsChanged(),i}return n(e,t),e.prototype.onWindowResize=function(t){this._devicePixelRatio!==t&&(this._devicePixelRatio=t,this.onResize(this._terminal.cols,this._terminal.rows,!0))},e.prototype.setTheme=function(t){var e=this;return this.colorManager.setTheme(t),this._renderLayers.forEach(function(t){t.onThemeChanged(e._terminal,e.colorManager.colors),t.reset(e._terminal)}),this._terminal.refresh(0,this._terminal.rows-1),this.colorManager.colors},e.prototype.onResize=function(t,e,r){var i=this;this._updateDimensions(),this._renderLayers.forEach(function(t){return t.resize(i._terminal,i.dimensions,r)}),this._terminal.refresh(0,this._terminal.rows-1),this.emit("resize",{width:this.dimensions.canvasWidth,height:this.dimensions.canvasHeight})},e.prototype.onCharSizeChanged=function(){this.onResize(this._terminal.cols,this._terminal.rows,!0)},e.prototype.onBlur=function(){var t=this;this._renderLayers.forEach(function(e){return e.onBlur(t._terminal)})},e.prototype.onFocus=function(){var t=this;this._renderLayers.forEach(function(e){return e.onFocus(t._terminal)})},e.prototype.onSelectionChanged=function(t,e){var r=this;this._renderLayers.forEach(function(i){return i.onSelectionChanged(r._terminal,t,e)})},e.prototype.onCursorMove=function(){var t=this;this._renderLayers.forEach(function(e){return e.onCursorMove(t._terminal)})},e.prototype.onOptionsChanged=function(){var t=this;this._renderLayers.forEach(function(e){return e.onOptionsChanged(t._terminal)})},e.prototype.clear=function(){var t=this;this._renderLayers.forEach(function(e){return e.reset(t._terminal)})},e.prototype.queueRefresh=function(t,e){this._refreshRowsQueue.push({start:t,end:e}),this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(this._refreshLoop.bind(this)))},e.prototype._refreshLoop=function(){var t,e,r=this;if(this._refreshRowsQueue.length>4)t=0,e=this._terminal.rows-1;else{t=this._refreshRowsQueue[0].start,e=this._refreshRowsQueue[0].end;for(var i=1;i<this._refreshRowsQueue.length;i++)this._refreshRowsQueue[i].start<t&&(t=this._refreshRowsQueue[i].start),this._refreshRowsQueue[i].end>e&&(e=this._refreshRowsQueue[i].end)}this._refreshRowsQueue=[],this._refreshAnimationFrame=null,t=Math.max(t,0),e=Math.min(e,this._terminal.rows-1),this._renderLayers.forEach(function(i){return i.onGridChanged(r._terminal,t,e)}),this._terminal.emit("refresh",{start:t,end:e})},e.prototype._updateDimensions=function(){this._terminal.charMeasure.width&&this._terminal.charMeasure.height&&(this.dimensions.scaledCharWidth=Math.floor(this._terminal.charMeasure.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._terminal.charMeasure.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._terminal.options.lineHeight),this.dimensions.scaledCharTop=1===this._terminal.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._terminal.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._terminal.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._terminal.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._terminal.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._terminal.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._terminal.cols)},e}(r("AAFk").EventEmitter);e.Renderer=u},"vq+x":function(t,e,r){(function(t){var e=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),r=t.Pos,i={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function n(t,e,n){var s=t.getLineHandle(e.line),a=e.ch-1,l=n&&n.afterCursor;null==l&&(l=/(^| )cm-fat-cursor($| )/.test(t.getWrapperElement().className));var c=!l&&a>=0&&i[s.text.charAt(a)]||i[s.text.charAt(++a)];if(!c)return null;var u=">"==c.charAt(1)?1:-1;if(n&&n.strict&&u>0!=(a==e.ch))return null;var h=t.getTokenTypeAt(r(e.line,a+1)),f=o(t,r(e.line,a+(u>0?1:0)),u,h||null,n);return null==f?null:{from:r(e.line,a),to:f&&f.pos,match:f&&f.ch==c.charAt(0),forward:u>0}}function o(t,e,n,o,s){for(var a=s&&s.maxScanLineLength||1e4,l=s&&s.maxScanLines||1e3,c=[],u=s&&s.bracketRegex?s.bracketRegex:/[(){}[\]]/,h=n>0?Math.min(e.line+l,t.lastLine()+1):Math.max(t.firstLine()-1,e.line-l),f=e.line;f!=h;f+=n){var p=t.getLine(f);if(p){var d=n>0?0:p.length-1,m=n>0?p.length:-1;if(!(p.length>a))for(f==e.line&&(d=e.ch-(n<0?1:0));d!=m;d+=n){var v=p.charAt(d);if(u.test(v)&&(void 0===o||t.getTokenTypeAt(r(f,d+1))==o))if(">"==i[v].charAt(1)==n>0)c.push(v);else{if(!c.length)return{pos:r(f,d),ch:v};c.pop()}}}}return f-n!=(n>0?t.lastLine():t.firstLine())&&null}function s(t,i,o){for(var s=t.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=t.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&n(t,l[c].head,o);if(u&&t.getLine(u.from.line).length<=s){var h=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(t.markText(u.from,r(u.from.line,u.from.ch+1),{className:h})),u.to&&t.getLine(u.to.line).length<=s&&a.push(t.markText(u.to,r(u.to.line,u.to.ch+1),{className:h}))}}if(a.length){e&&t.state.focused&&t.focus();var f=function(){t.operation(function(){for(var t=0;t<a.length;t++)a[t].clear()})};if(!i)return f;setTimeout(f,800)}}var a=null;function l(t){t.operation(function(){a&&(a(),a=null),a=s(t,!1,t.state.matchBrackets)})}t.defineOption("matchBrackets",!1,function(e,r,i){i&&i!=t.Init&&(e.off("cursorActivity",l),a&&(a(),a=null)),r&&(e.state.matchBrackets="object"==typeof r?r:{},e.on("cursorActivity",l))}),t.defineExtension("matchBrackets",function(){s(this,!0)}),t.defineExtension("findMatchingBracket",function(t,e,r){return(r||"boolean"==typeof e)&&(r?(r.strict=e,e=r):e=e?{strict:!0}:null),n(this,t,e)}),t.defineExtension("scanForBracket",function(t,e,r,i){return o(this,t,e,r,i)})})(r("8U58"))},zC9C:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r("v6au"),s=r("0JbL"),a=r("uwSJ"),l=r("M7+9"),c=function(t){function e(e,r,i){var n=t.call(this,e,"text",r,!1,i)||this;return n._characterOverlapCache={},n._state=new a.GridCache,n}return n(e,t),e.prototype.resize=function(e,r,i){t.prototype.resize.call(this,e,r,i);var n=e.options.fontSize*window.devicePixelRatio+"px "+e.options.fontFamily;this._characterWidth===r.scaledCharWidth&&this._characterFont===n||(this._characterWidth=r.scaledCharWidth,this._characterFont=n,this._characterOverlapCache={}),this._state.clear(),this._state.resize(e.cols,e.rows)},e.prototype.reset=function(t){this._state.clear(),this.clearAll()},e.prototype.onGridChanged=function(t,e,r){if(0!==this._state.cache.length)for(var i=e;i<=r;i++){var n=i+t.buffer.ydisp,a=t.buffer.lines.get(n);this.clearCells(0,i,t.cols,1);for(var c=0;c<t.cols;c++){var u=a[c],h=u[o.CHAR_DATA_CODE_INDEX],f=u[o.CHAR_DATA_CHAR_INDEX],p=u[o.CHAR_DATA_ATTR_INDEX],d=u[o.CHAR_DATA_WIDTH_INDEX];if(0!==d){if(32===h&&c>0){var m=a[c-1];if(this._isOverlapping(m))continue}var v=p>>18,_=511&p,g=_>=256,y=v&s.FLAGS.INVISIBLE,b=v&s.FLAGS.INVERSE;if(h&&(32!==h||!g||b)&&!y){0!==d&&this._isOverlapping(u)&&c<a.length-1&&32===a[c+1][o.CHAR_DATA_CODE_INDEX]&&(d=2);var C=p>>9&511;if(b){var w=_;_=C,256===(C=w)&&(C=l.INVERTED_DEFAULT_COLOR),257===_&&(_=l.INVERTED_DEFAULT_COLOR)}_<256&&(this._ctx.save(),this._ctx.fillStyle=_===l.INVERTED_DEFAULT_COLOR?this._colors.foreground:this._colors.ansi[_],this.fillCells(c,i,d,1),this._ctx.restore()),this._ctx.save(),v&s.FLAGS.BOLD&&(this._ctx.font="bold "+this._ctx.font,C<8&&(C+=8)),v&s.FLAGS.UNDERLINE&&(C===l.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background:this._ctx.fillStyle=C<256?this._colors.ansi[C]:this._colors.foreground,this.fillBottomLineAtCells(c,i)),this.drawChar(t,f,h,d,c,i,C,_,!!(v&s.FLAGS.BOLD),!!(v&s.FLAGS.DIM)),this._ctx.restore()}}}}},e.prototype._isOverlapping=function(t){if(1!==t[o.CHAR_DATA_WIDTH_INDEX])return!1;if(t[o.CHAR_DATA_CODE_INDEX]<256)return!1;var e=t[o.CHAR_DATA_CHAR_INDEX];if(this._characterOverlapCache.hasOwnProperty(e))return this._characterOverlapCache[e];this._ctx.save(),this._ctx.font=this._characterFont;var r=Math.floor(this._ctx.measureText(e).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[e]=r,r},e.prototype._clearChar=function(t,e){var r=1,i=this._state.cache[t][e];i&&2===i[o.CHAR_DATA_WIDTH_INDEX]&&(r=2),this.clearCells(t,e,r,1)},e}(l.BaseRenderLayer);e.TextRenderLayer=c},zXmp:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=r("0E5i"),a=r("VXEB"),l=r("AAFk"),c=r("C5aa"),u=r("v6au"),h=String.fromCharCode(160),f=new RegExp(h,"g");!function(t){t[t.NORMAL=0]="NORMAL",t[t.WORD=1]="WORD",t[t.LINE=2]="LINE"}(o||(o={}));var p=function(t){function e(e,r,i){var n=t.call(this)||this;return n._terminal=e,n._buffer=r,n._charMeasure=i,n._enabled=!0,n._initListeners(),n.enable(),n._model=new c.SelectionModel(e),n._activeSelectionMode=o.NORMAL,n}return n(e,t),e.prototype._initListeners=function(){var t=this;this._mouseMoveListener=function(e){return t._onMouseMove(e)},this._mouseUpListener=function(e){return t._onMouseUp(e)},this._buffer.lines.on("trim",function(e){return t._onTrim(e)})},e.prototype.disable=function(){this.clearSelection(),this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.setBuffer=function(t){this._buffer=t,this.clearSelection()},Object.defineProperty(e.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasSelection",{get:function(){var t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;return!(!t||!e)&&(t[0]!==e[0]||t[1]!==e[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionText",{get:function(){var t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;if(!t||!e)return"";var r=t[1]===e[1]?e[0]:null,i=[];i.push(this._buffer.translateBufferLineToString(t[1],!0,t[0],r));for(var n=t[1]+1;n<=e[1]-1;n++){var o=this._buffer.lines.get(n),s=this._buffer.translateBufferLineToString(n,!0);o.isWrapped?i[i.length-1]+=s:i.push(s)}if(t[1]!==e[1]){o=this._buffer.lines.get(e[1]),s=this._buffer.translateBufferLineToString(e[1],!0,0,e[0]);o.isWrapped?i[i.length-1]+=s:i.push(s)}return i.map(function(t){return t.replace(f," ")}).join(a.isMSWindows?"\r\n":"\n")},enumerable:!0,configurable:!0}),e.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh()},e.prototype.refresh=function(t){var e=this;(this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return e._refresh()})),a.isLinux&&t)&&(this.selectionText.length&&this.emit("newselection",this.selectionText))},e.prototype._refresh=function(){this._refreshAnimationFrame=null,this.emit("refresh",{start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd})},e.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._terminal.emit("selection")},e.prototype._onTrim=function(t){this._model.onTrim(t)&&this.refresh()},e.prototype._getMouseBufferCoords=function(t){var e=this._terminal.mouseHelper.getCoords(t,this._terminal.element,this._charMeasure,this._terminal.options.lineHeight,this._terminal.cols,this._terminal.rows,!0);return e?(e[0]--,e[1]--,e[1]+=this._terminal.buffer.ydisp,e):null},e.prototype._getMouseEventScrollAmount=function(t){var e=s.MouseHelper.getCoordsRelativeToElement(t,this._terminal.element)[1],r=this._terminal.rows*Math.ceil(this._charMeasure.height*this._terminal.options.lineHeight);return e>=0&&e<=r?0:(e>r&&(e-=r),e=Math.min(Math.max(e,-50),50),(e/=50)/Math.abs(e)+Math.round(14*e))},e.prototype.shouldForceSelection=function(t){return a.isMac?t.altKey:t.shiftKey},e.prototype.onMouseDown=function(t){if((2!==t.button||!this.hasSelection)&&0===t.button){if(!this._enabled){if(!this.shouldForceSelection(t))return;t.stopPropagation()}t.preventDefault(),this._dragScrollAmount=0,this._enabled&&t.shiftKey?this._onIncrementalClick(t):1===t.detail?this._onSingleClick(t):2===t.detail?this._onDoubleClick(t):3===t.detail&&this._onTripleClick(t),this._addMouseDownListeners(),this.refresh(!0)}},e.prototype._addMouseDownListeners=function(){var t=this;this._terminal.element.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.addEventListener("mouseup",this._mouseUpListener),this._dragScrollIntervalTimer=setInterval(function(){return t._dragScroll()},50)},e.prototype._removeMouseDownListeners=function(){this._terminal.element.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.removeEventListener("mouseup",this._mouseUpListener),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=null},e.prototype._onIncrementalClick=function(t){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(t))},e.prototype._onSingleClick=function(t){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=o.NORMAL,this._model.selectionStart=this._getMouseBufferCoords(t),this._model.selectionStart){this._model.selectionEnd=null;var e=this._buffer.lines.get(this._model.selectionStart[1]);if(e)if(!(e.length>=this._model.selectionStart[0]))0===e[this._model.selectionStart[0]][u.CHAR_DATA_WIDTH_INDEX]&&this._model.selectionStart[0]++}},e.prototype._onDoubleClick=function(t){var e=this._getMouseBufferCoords(t);e&&(this._activeSelectionMode=o.WORD,this._selectWordAt(e))},e.prototype._onTripleClick=function(t){var e=this._getMouseBufferCoords(t);e&&(this._activeSelectionMode=o.LINE,this._selectLineAt(e[1]))},e.prototype._onMouseMove=function(t){t.stopImmediatePropagation();var e=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(t),this._model.selectionEnd){if(this._activeSelectionMode===o.LINE?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._terminal.cols:this._activeSelectionMode===o.WORD&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(t),this._dragScrollAmount>0?this._model.selectionEnd[0]=this._terminal.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]<this._buffer.lines.length){var r=this._buffer.lines.get(this._model.selectionEnd[1])[this._model.selectionEnd[0]];r&&0===r[u.CHAR_DATA_WIDTH_INDEX]&&this._model.selectionEnd[0]++}e&&e[0]===this._model.selectionEnd[0]&&e[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)},e.prototype._dragScroll=function(){this._dragScrollAmount&&(this._terminal.scrollLines(this._dragScrollAmount,!1),this._dragScrollAmount>0?this._model.selectionEnd=[this._terminal.cols-1,this._terminal.buffer.ydisp+this._terminal.rows]:this._model.selectionEnd=[0,this._terminal.buffer.ydisp],this.refresh())},e.prototype._onMouseUp=function(t){this._removeMouseDownListeners(),this.hasSelection&&this._terminal.emit("selection")},e.prototype._convertViewportColToCharacterIndex=function(t,e){for(var r=e[0],i=0;e[0]>=i;i++){var n=t[i];0===n[u.CHAR_DATA_WIDTH_INDEX]?r--:n[u.CHAR_DATA_CHAR_INDEX].length>1&&e[0]!==i&&(r+=n[u.CHAR_DATA_CHAR_INDEX].length-1)}return r},e.prototype.setSelection=function(t,e,r){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[t,e],this._model.selectionStartLength=r,this.refresh()},e.prototype._getWordAt=function(t){var e=this._buffer.lines.get(t[1]);if(!e)return null;var r=this._buffer.translateBufferLineToString(t[1],!1),i=this._convertViewportColToCharacterIndex(e,t),n=i,o=t[0]-i,s=0,a=0,l=0,c=0;if(" "===r.charAt(i)){for(;i>0&&" "===r.charAt(i-1);)i--;for(;n<r.length&&" "===r.charAt(n+1);)n++}else{var h=t[0],f=t[0];for(0===e[h][u.CHAR_DATA_WIDTH_INDEX]&&(s++,h--),2===e[f][u.CHAR_DATA_WIDTH_INDEX]&&(a++,f++),e[f][u.CHAR_DATA_CHAR_INDEX].length>1&&(c+=e[f][u.CHAR_DATA_CHAR_INDEX].length-1,n+=e[f][u.CHAR_DATA_CHAR_INDEX].length-1);h>0&&i>0&&!this._isCharWordSeparator(e[h-1]);){0===(p=e[h-1])[u.CHAR_DATA_WIDTH_INDEX]?(s++,h--):p[u.CHAR_DATA_CHAR_INDEX].length>1&&(l+=p[u.CHAR_DATA_CHAR_INDEX].length-1,i-=p[u.CHAR_DATA_CHAR_INDEX].length-1),i--,h--}for(;f<e.length&&n+1<r.length&&!this._isCharWordSeparator(e[f+1]);){var p;2===(p=e[f+1])[u.CHAR_DATA_WIDTH_INDEX]?(a++,f++):p[u.CHAR_DATA_CHAR_INDEX].length>1&&(c+=p[u.CHAR_DATA_CHAR_INDEX].length-1,n+=p[u.CHAR_DATA_CHAR_INDEX].length-1),n++,f++}}return n++,{start:i+o-s+l,length:Math.min(this._terminal.cols,n-i+s+a-l-c)}},e.prototype._selectWordAt=function(t){var e=this._getWordAt(t);e&&(this._model.selectionStart=[e.start,t[1]],this._model.selectionStartLength=e.length)},e.prototype._selectToWordAt=function(t){var e=this._getWordAt(t);e&&(this._model.selectionEnd=[this._model.areSelectionValuesReversed()?e.start:e.start+e.length,t[1]])},e.prototype._isCharWordSeparator=function(t){return 0!==t[u.CHAR_DATA_WIDTH_INDEX]&&" ()[]{}'\"".indexOf(t[u.CHAR_DATA_CHAR_INDEX])>=0},e.prototype._selectLineAt=function(t){this._model.selectionStart=[0,t],this._model.selectionStartLength=this._terminal.cols},e}(l.EventEmitter);e.SelectionManager=p}});
//# sourceMappingURL=vendor.3b3e495f2cbd93b8c7ef.js.map